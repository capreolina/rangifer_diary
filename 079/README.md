# rangiferâ€™s diary: pt. lxxx

Welcome to the 80th entry of rangiferâ€™s diary!! Like the previous entry, this is a special entry, albeit for different reasonsâ€¦

Hopefully this is the **biggest entry of rangiferâ€™s diary ever**, because this took me [approximately](https://en.wikipedia.org/wiki/Exaggeration) one [Ã¦on](https://en.wikipedia.org/wiki/Aeon) to complete from start to finish!!!

## cervineâ€™s theme

This entry has covered my I/L [magelet](https://oddjobs.codeberg.page/guides/introduction-to-odd-jobs/#magelet) **cervine**â€™s level 120 party. In the past, Iâ€™ve done a video (see [the **Oddjobs** YouTube channel](https://www.youtube.com/channel/UC-K6sM-AXGVQjVCEKgU1tGA/)) for each 120 party that Iâ€™ve had, musically accompanied by a piece written specifically for that character:

| character      | job                                                                                              | video                                                                          | soundtrack                                                                       | score                                                                                             |
| -------------- | ------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------ | -------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------- |
| **cervid**     | [STR bishop](https://oddjobs.codeberg.page/guides/introduction-to-odd-jobs/#str-mage)            | â€œ[cervidâ€™s level 120 party](https://www.youtube.com/watch?v=Pcfzg6Yd2Ag)â€      | [_cervidâ€™s Theme_](https://capreolina.bandcamp.com/album/cervid-s-theme)         | [_cervidâ€™s Theme_](https://codeberg.org/deer/gists/src/branch/master/cervid-s_Theme.mscz)         |
| **rusa**       | [darksterity knight](https://oddjobs.codeberg.page/guides/introduction-to-odd-jobs/#dex-warrior) | â€œ[rusa is a darksterity knight.](https://www.youtube.com/watch?v=mcilYstZgYU)â€ | [_rusaâ€™s Theme_](https://capreolina.bandcamp.com/album/rusa-s-theme)             | [_rusaâ€™s Theme_](https://codeberg.org/deer/gists/src/branch/master/rusa-s_Theme.mscz)             |
| **capreolina** | [woodsmaster](https://oddjobs.codeberg.page/guides/introduction-to-odd-jobs/#woodswoman)         | â€œ[capreolinaâ€™s level 120 party](https://www.youtube.com/watch?v=yhiDKaDJNJI)â€  | [_capreolinaâ€™s Theme_](https://capreolina.bandcamp.com/album/capreolina-s-theme) | [_capreolinaâ€™s Theme_](https://codeberg.org/deer/gists/src/branch/master/capreolina-s_Theme.mscz) |

â€¦So the time has come to do the same for cervine! While I did of course have each character in mind when I wrote their respective themes, the influence is only on general â€œfeelâ€ of the music. With cervineâ€™s theme, Iâ€™m taking the connection a little bit more seriously.

On the one hand, cervine is an I/L mage â€” as a result, she uses a lot of ice attacks (and lightning attacks). Frigidity and ice are often [portrayed musically](https://en.wikipedia.org/wiki/Symphonic_poem) with the use of high-pitched and crisp sounds, presumably because of the brittle nature of ice, and the association of low and low-mid [frequencies](https://en.wikipedia.org/wiki/Frequency) (e\.g. 50â€“500 [Hz](https://en.wikipedia.org/wiki/Hertz)) with â€œwarmthâ€. For this reason, Iâ€™ve chosen a [glockenspiel](https://en.wikipedia.org/wiki/Glockenspiel) â€” known for having a clear and high-pitched timbre â€” as the primary voice of the piece. Furthermore, lightning has an even more obvious acoustic association: [thunder](https://en.wikipedia.org/wiki/Thunder). At a moderate distance, thunder tends to sound like low-pitched, violent rumbling; as a result, thunder has occasionally been portrayed in [Western classical music](https://en.wikipedia.org/wiki/Classical_music) with the use of [timpani](https://en.wikipedia.org/wiki/Timpani), particularly [rolls](https://en.wikipedia.org/wiki/Drum_roll) on said timpani.

On the other hand, cervine is also pure LUK (and thus a magelet). The notion of [**lu**c**k**](https://en.wikipedia.org/wiki/Luck) is intimately tied up with the notion of [randomness](https://en.wikipedia.org/wiki/Randomness); if the [outcome][outcome] of some situation/[experiment][experiment]/etc. is known in advance, we canâ€™t reasonably say that the outcome is â€œluckyâ€ or â€œunluckyâ€. Therefore, for a situation to have some element of â€œluckâ€, it has to have some element of randomness, even if we nevertheless have some information about the likelihood of some (or all) of the outcomes. For example, if a person who passes a 30% scroll is â€œluckyâ€, then the person who passes a 10% scroll is â€œeven luckierâ€; both outcomes are good, and we happen to know that the latter person had only â…“ of the chance to get their good outcome.

### Lucky music

Music that makes use of [indeterminacy][indeterminacy] is called [aleatoric (or, aleatory) music](https://en.wikipedia.org/wiki/Aleatoric_music). Aleatoric music can be categorised into three kinds:

1. Music composed of determinate elements, wherein the elements are to be performed in a way (e\.g. their order; this is called a â€œmobileâ€ form) that substantially depends on the choices made by the performer(s). A well-known example is [Terry Riley](https://en.wikipedia.org/wiki/Terry_Riley)â€™s [_In C_](https://en.wikipedia.org/wiki/In_C) (1964).
2. Music composed using indeterminate notation (and/or other communication methods that are indeterminate). [Freely improvised music](https://en.wikipedia.org/wiki/Free_improvisation) is one example of this kind. In the context of classical musics, this usually implies the use of abstract [graphic notation][graphic-notation], and/or the prominent use of [text](https://en.wikipedia.org/wiki/Writing). An example of abstract graphic notation is [John Cage](https://en.wikipedia.org/wiki/John_Cage)â€™s _Water Walk_ (1959); you can see an excerpt of the score here: ![Excerpt from John Cageâ€™s â€œWater Walkâ€ (1959)](water-walk.webp "Excerpt from John Cageâ€™s â€œWater Walkâ€ (1959)")
3. Music that is _written_ in a determinate form, but _composed_ with the aid of indeterminate processes (i\.e. processes that are not fully within the composerâ€™s control). Usually, this is _stochastic music_, which makes use of [stochastic processes](https://en.wikipedia.org/wiki/Stochastic_process) to compose music â€” although, do note that some stochastic music uses stochasticity _at performance time_, which puts such music somewhat closer to (1.). Stochastic music was essentially pioneered by John Cage, who used the [_I Ching_ \[æ˜“ç¶“\]](https://en.wikipedia.org/wiki/I_Ching) as a kind of source of [pseudorandomness](https://en.wikipedia.org/wiki/Pseudorandom_number_generator). Although he was originally critical of it, stochastic music is also often associated with [Iannis Xenakis](https://en.wikipedia.org/wiki/Iannis_Xenakis), who used [mathematical](https://en.wikipedia.org/wiki/Mathematics) and [physical](https://en.wikipedia.org/wiki/Physics) principles like [Brownian motion](https://en.wikipedia.org/wiki/Brownian_motion), [game theory](https://en.wikipedia.org/wiki/Game_theory), [statistical mechanics](https://en.wikipedia.org/wiki/Statistical_mechanics), [set theory](https://en.wikipedia.org/wiki/Set_theory), etc. at the core of his compositions.

Thereâ€™s room for overlap here (some music might satisfy more than one of these definitions), but the cores of these three approaches, respectively, are:

1. Letting go of the details. Works in this style retain ordinary determinate composition, but _donâ€™t_ attempt to determine every detail of the entire piece. The â€œmissing bitsâ€ of the composition can be filled in _ad hoc_. This is â€œletting the music be itselfâ€.
2. Shift entirely (or almost entirely) away from the composer writing the music, and focus on the performers and their creativity, mood, personal interpretations, etc. Pre-composed pieces in this style are hard to think of as truly being â€œpre-composedâ€ in any sense, because the composition as written has no clear musical content. And freely improvised music is not pre-composed at all, of course. In some sense, (2.) is perhaps a more extreme version of (1.).
3. Indeterminacy can be used to _generate_ music. In some ways, this pushes the job of the composer â€œup a levelâ€: instead of always writing the music note-for-note, the composer dictates the structure of the music (typically in a well-defined way), and then lets the indeterminate process do the actual note-for-note composing. Once the music is â€œgeneratedâ€ in this way, it can then be crystallised into a totally determinate form, e\.g. ordinary [musical notation](https://en.wikipedia.org/wiki/Musical_notation), [magnetic tape](https://en.wikipedia.org/wiki/Magnetic_tape), etc.

The approach that I want to take is, unsurprisingly, (3.). Both (1.) and (2.) rely on performers with some level of agency (e\.g. human performers), but I ultimately want to produce a single [digital audio](https://en.wikipedia.org/wiki/Digital_audio) recording. This doesnâ€™t actually preclude the use of (1.) or (2.) â€” it suffices to take a recording of a single performance, and even though _playback_ of such a recording may be totally deterministic, the _performance_ that was recorded was still indeterminate. But the other themes that I recorded for my other level â‰¥120 characters were written in [MuseScore](https://musescore.org/), and then recorded simply using MuseScoreâ€™s built-in [MIDI](https://en.wikipedia.org/wiki/MIDI)-based playback. This is, I think, a pretty appropriate â€œrecording techniqueâ€ (if you can call it thatâ€¦) for MapleStory music, and in this case it implies writing music in a way that a [computer](https://en.wikipedia.org/wiki/Computer) can readâ€¦ and computers have no agency!\* Plus, I think that (3.) captures the notion of â€œluckâ€ most appropriately â€” the indeterminate elements (viz. [random number generation](https://en.wikipedia.org/wiki/Random_number_generation), for our purposes) are so far removed from purposeful choice, that we can really call them â€œpure **lu**c**k**â€.

Originally, I considered composing cervineâ€™s theme almost entirely with stochastic elements, taking heavy influence from [serialist](https://en.wikipedia.org/wiki/Serialism) techniques. This would likely have resulted in something pretty abstruse and alien-sounding, and probably something [not quite tonal](https://en.wikipedia.org/wiki/Post-tonal_music_theory). Instead, I want cervineâ€™s theme to not be so far removed from the other themes, which have all been [tonal](https://en.wikipedia.org/wiki/Tonality), and written using no particularly â€œadvancedâ€ musical techniques other than an understanding of [jazz harmony](https://en.wikipedia.org/wiki/Jazz_harmony), some unusually intricate [rhythms](https://en.wikipedia.org/wiki/Rhythm), and some unusual [orchestration](https://en.wikipedia.org/wiki/Orchestration) choices. At the same time, I want to retain a strong sense of stochasticity. With these things in mind â€” and keeping in mind the writing about â€œice/lightningâ€-themed orchestration above â€” we can talk about composing _cervineâ€™s Theme_.

<details>
<summary>Footnotes for â€œLucky musicâ€</summary>

\*Okay, so, technically we can circumvent this limitation with the use of [MIDI controllers](https://en.wikipedia.org/wiki/MIDI_controller) to capture live performances. But whatever; Iâ€™m not going to do that anywaysâ€¦

</details>

### A note (pun intended) on music theory

[Music theory](https://en.wikipedia.org/wiki/Music_theory) is a pretty broad subject, and even casual music listeners will know (or at the very least, intuitively understand) a large number of music-theoretical concepts and principles. However, because we are approaching the subject of composing _cervineâ€™s Theme_ from a Western classical music angle â€” the perspective of the archetypal â€œ[composer](https://en.wikipedia.org/wiki/Composer)â€ â€” weâ€™re going to get a little into the weeds with some slightly more esoteric notions originating from Western music theory.

Lamentably, music theory is not taken as seriously as some other subjects; in particular, subjects that are commonly studied in [academia](https://en.wikipedia.org/wiki/Academy) with the hope (or promise) of practical application, e\.g. mathematics, [computer science](https://en.wikipedia.org/wiki/Computer_science), [anthropology](https://en.wikipedia.org/wiki/Anthropology), physics, etc. Presumably as a result of this, the literature on music theory/criticism (of which there is actually quite a bit) is difficult to find, obscure, and usually out of print. Furthermore, apart from the most primitive music-theoretical notions, there tends to be far less consensus on terminology, notation, conventions, and even the nature of entire theoretical constructs, than there is in a more widely-studied subject like [category theory](https://en.wikipedia.org/wiki/Category_theory)\*. As a result of both of these things, my footnotes will mostly be clarifications of terminology, and not so much [citations](https://en.wikipedia.org/wiki/Citation) to relevant literatureâ€¦

Iâ€™d also like to clarify a common misconception about music theory. On the whole, music theory is _much more commonly [descriptive](https://en.wikipedia.org/wiki/Linguistic_description)_ than it is [prescriptive](https://en.wikipedia.org/wiki/Linguistic_prescription); while prescriptive music theory certainly exists, itâ€™s largely confined to the actual act of music composition (you canâ€™t â€œdescribeâ€ a piece that you havenâ€™t actually written yet!), and occasionally to music [criticism](https://en.wikipedia.org/wiki/Literary_criticism). Furthermore, many of the texts on music theory that _are_ written prescriptively (outside of the aforementioned compositional concerns and concrete music criticism) can be interpreted in a descriptive way, by simply rephrasing charged wording. This puts music theory in an awkward position somewhere between [aesthetics](https://en.wikipedia.org/wiki/Aesthetics) and [linguistics](https://en.wikipedia.org/wiki/Linguistics) (where the â€œlanguageâ€ of study is _musical_ language).

<details>
<summary>Footnotes for â€œA note (pun intended) on music theoryâ€</summary>

\*You know that your subject is borderline _occult_ when itâ€™s less widely-studied than category theoryâ€¦

</details>

### Composing _cervineâ€™s Theme_

#### The big picture

The basic idea here is to have a [melody](https://en.wikipedia.org/wiki/Melody) that appears in successive mutations (mutated forms; Iâ€™m not using the term â€œ[permutations](https://en.wikipedia.org/wiki/Permutation)â€, in order to avoid confusion with the strict sense thereof), with only the first variation being composed, and the mutations being randomly generated from it. Then, the rest of the piece will be composed _around_ this sequence of mutations, to accommodate it, [harmonise](https://en.wikipedia.org/wiki/Harmony) with it, justify it, etc.

#### The subject

Composing the theme starts with composing the [subject][subject] (in the [music-theoretical](https://en.wikipedia.org/wiki/Music_theory) sense of â€œmain themeâ€). As mentioned above, I want the â€œleadingâ€ instrument in this orchestration to be a glockenspiel, so the prime form\* of the subject will be a single melody written for glockenspiel. The melody should appear tonal in nature â€” no [tone rows](https://en.wikipedia.org/wiki/Tone_row) here! In fact, keeping the melody completely [diatonic](https://en.wikipedia.org/wiki/Diatonic_and_chromatic) (restricted to a particular [diatonic scale](https://en.wikipedia.org/wiki/Diatonic_scale)) is potentially a strong choice here, but a not-strictly-diatonic melody is okay too, as long as the non-diatonic (read: outside of the [key][key]) [notes](https://en.wikipedia.org/wiki/Musical_note) reinforce the tonality. The stochastic techniques that we apply will naturally spice it up, so we donâ€™t need to go wild with the [pitch][pitch] choices here. Also, the subject should be relatively short (viz. just a [measure][bar] or two); randomly mutating the subject will provide further melodic material, so a long-winded melody will likely only cause problems.

Of course, because we want this to be tonal, we need to pick a key! I expect the piece as a whole to visit multiple tonal regionsâ€ , but we are _starting_ somewhere, and that â€œsomewhereâ€ is the key that the prime form of our subject resides in. For no particular reason, I think that a key with a lot of [sharps][sharp] would be suitable. Iâ€™m not experienced in writing for glockenspiel, but itâ€™s laid out and tuned like a [piano](https://en.wikipedia.org/wiki/Piano) anyways, so whatever key I choose shouldnâ€™t be an obstacle. And anyways, this will all be played by a MIDI-controlled [softsynth](https://en.wikipedia.org/wiki/Software_synthesizer), not actual performers with real instrumentsâ€¦ So [B major](https://en.wikipedia.org/wiki/B_major) (or [Gâ™¯ minor](https://en.wikipedia.org/wiki/G-sharp_minor), etc.) it is! Thatâ€™s five sharps.

Weâ€™re not going to get fancy with the [time signatures](https://en.wikipedia.org/wiki/Time_signature) (at least, not yetâ€¦?), so 4â„4 (a\.k\.a. â€œcommon timeâ€) should do the trick.

Oh, and it should be catchy! Memorable! I suppose thatâ€™s the hard partâ€¦

Hereâ€™s what I came up with:

![Prime form of the subject of â€œcervineâ€™s Themeâ€](prime-form.svg "Prime form of the subject of â€œcervineâ€™s Themeâ€")

<details>
<summary>In ABC notation</summary>

```abc
%abc-2.2
X:0
T:Prime form of the subject of â€œcervineâ€™s Themeâ€
C:deer
M:4/4
L:1/8
Q:1/4=108
I:linebreak $
K:G#m
B/dG/- Gc/B/- B/A/F BG | B/AG/ A/d^B/- BA/G/- G/A/=B/A/
```

</details>

(Note that this is written for [glockenspiel](https://en.wikipedia.org/wiki/Glockenspiel), so it [sounds two octaves higher than written](https://en.wikipedia.org/wiki/Transposing_instrument).)

As you can see, I just couldnâ€™t help myselfâ€¦ So there is a non-diatonic note (just one!): the Bâ™¯ in the second measure. When I started writing the melody, I didnâ€™t want to restrict myself to any particular [mode][mode] (and as just a bare melody, there is little [harmonic](https://en.wikipedia.org/wiki/Harmony) context anyways), so long as the mode (or modesâ€¦?) was [relative](https://en.wikipedia.org/wiki/Relative_key) to B major â€” that is, sticking with the five-sharp key signature. It ended up being basically [Gâ™¯ minor](https://en.wikipedia.org/wiki/G-sharp_minor) (or Gâ™¯ [aeolian](https://en.wikipedia.org/wiki/Aeolian_mode), if you prefer; again, scant harmonic context), and so that rogue Bâ™¯ in the second measure was simply [borrowed](https://en.wikipedia.org/wiki/Borrowed_chord) (see also: [Picardy third](https://en.wikipedia.org/wiki/Picardy_third)) from the [parallel](https://en.wikipedia.org/wiki/Parallel_key) major: [Gâ™¯ major](https://en.wikipedia.org/wiki/G-sharp_major), a [theoretical key](https://en.wikipedia.org/wiki/Theoretical_key) that would be explicitly spelled as [Aâ™­ major](https://en.wikipedia.org/wiki/A-flat_major). The mode is very nearly spelled out by the first three notes of the melody: B, Dâ™¯, Gâ™¯; the [third, fifth, and root][triad] of a Gâ™¯ [minor chord](https://en.wikipedia.org/wiki/Minor_chord), respectively.

##### Choosing a tempo

Also note that the [tempo](https://en.wikipedia.org/wiki/Tempo) is specified as â€œâ™©Â =Â 108â€, a\.k\.a. 108 [quarter notes](https://en.wikipedia.org/wiki/Quarter_note) per [minute](https://en.wikipedia.org/wiki/Minute), a\.k\.a. 108 BPM (counting a quarter note as the [beat][beat]). Originally, I considered using 120 BPM, which tends to be the default tempo in most [music software](https://en.wikipedia.org/wiki/Music_software) due to having exactly two beats per [second](https://en.wikipedia.org/wiki/Second). Furthermore, 120 is just a really convenient number â€” itâ€™s about as far away as you can get from being [prime](https://en.wikipedia.org/wiki/Prime_number):

- 120 has a prime [factorisation](https://en.wikipedia.org/wiki/Integer_factorization) of 2<sup>3</sup>Â â‹…Â 3Â â‹…Â 5.
- 120 is a [superior highly composite number](https://en.wikipedia.org/wiki/Superior_highly_composite_number) (and therefore also a [highly composite number](https://en.wikipedia.org/wiki/Highly_composite_number)).
- 120 is a [colossally abundant number](https://en.wikipedia.org/wiki/Colossally_abundant_number) (and therefore also a [superabundant number](https://en.wikipedia.org/wiki/Superabundant_number)).
- 120 is a [regular number](https://en.wikipedia.org/wiki/Regular_number), a\.k\.a. 5-[smooth](https://en.wikipedia.org/wiki/Smooth_number) number. 5-smooth numbers (sometimes â€œharmonic whole numbersâ€) are [frequently used for musical tuning](https://en.wikipedia.org/wiki/Just_intonation).
- 120 is a [doubly triangular number](https://en.wikipedia.org/wiki/Doubly_triangular_number) (and therefore also a [triangular number](https://en.wikipedia.org/wiki/Triangular_number)).
- 120 is a [tetrahedral number](https://en.wikipedia.org/wiki/Tetrahedral_number).
- 120 is a [hexagonal number](https://en.wikipedia.org/wiki/Hexagonal_number).
- 120 is a [factorial](https://en.wikipedia.org/wiki/Factorial), viz. 5[!](https://en.wikipedia.org/wiki/Factorial).
- 120 is a [semiperfect number](https://en.wikipedia.org/wiki/Semiperfect_number).

However, I decided to go with 108, because it still retains some of these nice properties:

- 108 is still an [abundant number](https://en.wikipedia.org/wiki/Abundant_number).
- 108 is still a semiperfect number.

And, it has some other nice properties that 120 lacks:

- 108 is 3-smooth, which is more strict than 5-smoothness. This is the most important property.
- 108 is a [Fibonacci number of order 4](https://en.wikipedia.org/wiki/Generalizations_of_Fibonacci_numbers#Fibonacci_numbers_of_higher_order), a\.k\.a. [tetranacci number](https://en.wikipedia.org/wiki/Generalizations_of_Fibonacci_numbers#Tetranacci_numbers), viz. the 11th tetranacci number.
- 108 is a [hyperfactorial](https://en.wikipedia.org/wiki/Hyperfactorial), viz. [ğ»](https://en.wikipedia.org/wiki/Hyperfactorial)(3).

3-smoothness is really closer to what I care about, because as weâ€™ll see below, some of our random mutations will mutate [note durations](https://en.wikipedia.org/wiki/Note_value) by multiplying them by [integer](https://en.wikipedia.org/wiki/Integer) multiples of Â½ and/or â…“. The fact that 120 is [divisible](https://en.wikipedia.org/wiki/Divisor) by 5 is nice, but ultimately unrelated to what Iâ€™m looking for. Ideally, we cram as many â€œ2â€s and â€œ3â€s into the numberâ€™s prime factorisation as possible â€” for example, 2<sup>2</sup>Â â‹…Â 3<sup>2</sup>Â =Â 36. Unfortunately, 36 is too small â€” anything below â‰ˆ50 BPM is (in my opinion) too slow for a pulse that you can get a really good â€œfeelâ€ of. On the other hand, if we increment both of these [exponents](https://en.wikipedia.org/wiki/Exponentiation) by 1 (to 3), we get 2<sup>3</sup>Â â‹…Â 3<sup>3</sup>Â =Â 216. Thatâ€™sâ€¦ _more_ reasonable, but itâ€™s a pretty â€œupâ€â€¡ tempo that I generally only hear in [bebop](https://en.wikipedia.org/wiki/Bebop) (and [hard bop](https://en.wikipedia.org/wiki/Hard_bop)) tunes. If we allow the exponents to be unequal (but still within 1 of each other), we can get 2<sup>3</sup>Â â‹…Â 3<sup>2</sup>Â =Â 72, or 2<sup>2</sup>Â â‹…Â 3<sup>3</sup>Â =Â 108. These are more reasonable tempi, and I went with the faster of the two, as 72 BPM is a little too [_adagio_](https://en.wiktionary.org/wiki/adagio#Italian) for my taste.

##### Picking apart the melody

Itâ€™s worth taking a close look at the prime form of the subject, as written, before I start mangling it.

###### Melodic contour

Concerning the pitches that are used, the [ambitus][ambitus] is a [major sixth](https://en.wikipedia.org/wiki/Major_sixth), and the [register][register]/[range][range] is \[[Fâ™¯<sub>6</sub>](https://en.wikipedia.org/wiki/Scientific_pitch_notation),Â Dâ™¯<sub>7</sub>\]. This is a pretty modest and reasonable ambitus; typical ambiti for [vocal](https://en.wikipedia.org/wiki/Singing)-like lines tends to be within an octave or so, so weâ€™re all good here. And I wrote everything within the five lines of the [stave][stave], so that bodes well for keeping things within a reasonable register for the glockenspiel.

Also, I havenâ€™t really worked with [Parsons codes](https://en.wikipedia.org/wiki/Parsons_code) before, so letâ€™s do a simple gloss of the [melodic contour](https://en.wikipedia.org/wiki/Melodic_motion) by writing a Parsons code:

```parsons
*ududddududduuddduud(u)
```

The use of [round brackets](https://en.wikipedia.org/wiki/Bracket) here is nonstandard; I put in the `(u)` at the end because the melody starts a [repeat](https://en.wikipedia.org/wiki/Repeat_sign) by ascending in pitch (from Aâ™¯<sub>6</sub> to B<sub>6</sub>).

Below, you can see an [ASCII art](https://en.wikipedia.org/wiki/ASCII_art) visualisation of the contour given by the above Parsons code:

```text
  *   *
 / \ / \
*   *   *
         \
          *   *   *       *
           \ / \ / \     / \
            *   *   *   *   *       *  (*)
                     \ /     \     / \(/)
                      *       *   *   *
                               \ /
                                *
```

Parsons codes were originally developed to classify themes (musical subjects), for [_A Dictionary of Tunes and Musical Themes_ (1975)](https://en.wikipedia.org/wiki/A_Dictionary_of_Musical_Themes), by its author **Denys Parsons**. Parsons supposedlyâ¸¸ found that `*uu` was the most common three-[character][character] [prefix](https://en.wikipedia.org/wiki/Substring#Prefix) of the Parsons codes of all themes studied, showing up in 23% of all themes (regardless of [genre](https://en.wikipedia.org/wiki/Music_genre)), significantly more than the â…‘Â =Â 11\.111â€¦% that youâ€™d expect if [all possibilities appeared equally often](https://en.wikipedia.org/wiki/Discrete_uniform_distribution). The melody that Iâ€™ve written here doesnâ€™t fall into that category of 23% (it falls into the `*ud` category), but I found out that a Parsons code search engine actually exists on the Internet: [musipedia\.org](https://www.musipedia.org/)!

I searched for the Parsons code that you see above (but with the `(u)` omitted) on musipedia. As expected, there are no exact matches for the full code (the code is just too long), but I _did_ get two exact matches with _prefixes_ of my code: a theme from [**Shostakovich**](https://en.wikipedia.org/wiki/Dmitri_Shostakovich)â€™s â€œ[24 Preludes and Fugues][sho-87]â€ ([Op.](https://en.wikipedia.org/wiki/Opus_number) 87; 1950â€“1951), which matches the prefix `*ududdd`; and the beginning of the [refrain](https://en.wikipedia.org/wiki/Refrain) of [**David Bowie**](https://en.wikipedia.org/wiki/David_Bowie)â€™s â€œ[Starman][bowie-starman]â€ (1972), which matches the prefix `*ududddud`. The Shostakovich melody appears within the 13th piece of the set, which is in [Fâ™¯ major](https://en.wikipedia.org/wiki/F-sharp_major) (the set as a whole [covers all 24 major and minor keys](https://en.wikipedia.org/wiki/Music_written_in_all_major_and/or_minor_keys)). The Bowie melody is sung to the lyrics â€œThereâ€™s a starman waiting in the skyâ€. Kind of a weird pair of musical pieces, but hey â€” thatâ€™s what I get for throwing a random Parsons code into the Ã¦therâ€¦

In any case, the subject Iâ€™ve written has more downs than ups, but not by much: 11 `d`s, and 9 `u`s (only 8 `u`s if you donâ€™t count the bracketed one). And the melody is veryâ€¦ â€œfluidâ€, if you will, in the sense that there are no [rests][rest], and no `r`s (no two adjacent notes are of the same pitch).

Looking a little more closely at the contour, we can see that the melody that I wrote is actually reasonably well-behaved (in a classical sense). Instead of just writing the contour in terms of going up, going down, or staying at the same pitch, we can write it in terms of [interval][interval-mus] sizes. If we do this by writing each interval as an integer number of [semitones](https://en.wikipedia.org/wiki/Semitone) (see also: [integer notation](https://en.wikipedia.org/wiki/Pitch_class#Integer_notation)), we get:

âŸ¨4,Â âˆ’7,Â 5,Â âˆ’2,Â âˆ’1,Â âˆ’4,Â 5,Â âˆ’3,Â 3,Â âˆ’1,Â âˆ’2,Â 2,Â 5,Â âˆ’3,Â âˆ’2,Â âˆ’2,Â 2,Â 1,Â âˆ’1(,Â 1)âŸ©.

We can simplify a little bit by categorising these into [steps and leaps](https://en.wikipedia.org/wiki/Steps_and_skips), while retaining the [signs][sign]:

âŸ¨L,Â âˆ’L,Â L,Â âˆ’S,Â âˆ’S,Â âˆ’L,Â L,Â âˆ’L,Â L,Â âˆ’S,Â âˆ’S,Â S,Â L,Â âˆ’L,Â âˆ’S,Â âˆ’S,Â S,Â S,Â âˆ’S(,Â S)âŸ©.

We can compare this to what [**Johann Joseph Fux**](https://en.wikipedia.org/wiki/Johann_Joseph_Fux) wrote in his seminal _[Gradus ad Parnassum](https://en.wikipedia.org/wiki/Gradus_ad_Parnassum#Music_and_art)_ (1725) (I know, a little old, but his teachings are still widely reproduced!) about melody writing in the context of [species counterpoint](https://en.wikipedia.org/wiki/Counterpoint#Species_counterpoint):

- **The final note must be approached by step:** âœ…
- **Melodic intervals must be limited to [P1](https://en.wikipedia.org/wiki/Unison), [m2](https://en.wikipedia.org/wiki/Semitone), [M2](https://en.wikipedia.org/wiki/Major_second), [m3](https://en.wikipedia.org/wiki/Minor_third), [M3](https://en.wikipedia.org/wiki/Major_third), [P4](https://en.wikipedia.org/wiki/Perfect_fourth), [P5](https://en.wikipedia.org/wiki/Perfect_fifth), [P8](https://en.wikipedia.org/wiki/Octave) (and ascending [m6](https://en.wikipedia.org/wiki/Minor_sixth), so long as itâ€™s immediately followed by downward motion):** âœ… The only melodic intervals present are m2, M2, m3, M3, P4, and P5.
- **If writing two leaps in the same direction, the first must be larger than the second, and the interval between the first and third notes must be [consonant](https://en.wikipedia.org/wiki/Consonance_and_dissonance) and no larger than a P8:** âœ… Thereâ€™s never more than one leap in the same direction.
- **Do not write three or more leaps in the same direction:** âœ… Thereâ€™s never more than one leap in the same direction.
- **If writing a leap, itâ€™s preferable to proceed with a step in the opposite direction:** &#x1f937;&#x200d;&#x2640;&#xfe0f; Although I never write more than one leap in the same direction, out of the nine leaps in the melody, only two are immediately followed by a step in the opposite direction. But, this isnâ€™t a hard \& fast rule (even according to Fux), so itâ€™s chill, I guess.
- **Avoid an interval of a [TT](https://en.wikipedia.org/wiki/Tritone), or any kind of seventh, between any pair of notes that are separated by only one note:** âœ…
- **Do not outline an interval of a seventh by melodic motion in a single uninterrupted direction:** âœ… The entire range of the melody is just a M6, so this definitely isnâ€™t a problem.

Not bad! My melody could almost pass for a musical exerciseâ€¦ Do note that these are indeed rules for musical exercises â€” I doubt that anyone seriously expects rules like this to be [prescriptive](https://en.wikipedia.org/wiki/Linguistic_prescription) for music in general. The rules reflect an easily articulated set of constraints that tends to limit melodies to what is conventionally â€œmusically pleasingâ€ (although not necessarily â€œmusically _good_â€) for the [style](https://en.wikipedia.org/wiki/Music_genre) in question. Fuxâ€™s writing (including, of course, the [polyphony](https://en.wikipedia.org/wiki/Polyphony) guidelines, not just the melody-writing guidelines) could also be helpful when writing the other parts by hand, although at this point Iâ€™ve probably written enough polyphony to intuitively understand what Iâ€™m doing anyways.

###### Tonality

As mentioned previously, the [key][key] that seems to be implied by this melody is [Gâ™¯ minor](https://en.wikipedia.org/wiki/G-sharp_minor). Indeed, the first three notes trace out a Gâ™¯ [minor chord](https://en.wikipedia.org/wiki/Minor_chord). With this in mind, hereâ€™s yet another useful way that we can gloss the melody: we can consider only how each noteâ€™s [pitch-class](https://en.wikipedia.org/wiki/Pitch_class) relates to the tonal regionâ€ . In particular, we can replace each note with [an integer](https://en.wikipedia.org/wiki/Pitch_class#Integer_notation) that represents how many [semitones](https://en.wikipedia.org/wiki/Semitone) the note is above the [tonic][tonic] (Gâ™¯), ignoring the octave that the note is in â€” so the integers all end up being within the [interval][interval] \[0,Â 11\]:

âŸ¨3,Â 7,Â 0,Â 5,Â 3,Â 2,Â 10,Â 3,Â 0,Â 3,Â 2,Â 0,Â 2,Â 7,Â 4,Â 2,Â 0,Â 2,Â 3,Â 2âŸ©.

But, of course, the fact that Gâ™¯ is the tonic isnâ€™t the only feature of the tonal region of the key of Gâ™¯ minor. We can reflect the structure of Gâ™¯ minor, as a key, by replacing these integers with actual [scale degrees][degree] (all [accidentals][accidental] are [w\.r\.t.](https://en.wiktionary.org/wiki/with_respect_to#English) Gâ™¯ minor):

âŸ¨3,Â 5,Â 1,Â 4,Â 3,Â 2,Â 7,Â 3,Â 1,Â 3,Â 2,Â 1,Â 2,Â 5,Â â™¯3,Â 2,Â 1,Â 2,Â 3,Â 2âŸ©.

This allows us to count up how many times the 12 possible pitch-classes appear, through the lens of the key of Gâ™¯ minor:

| degree | count |
| -----: | ----: |
| 1      | 4     |
| â™­2    | 0     |
| 2      | 6     |
| 3      | 5     |
| â™¯3    | 1     |
| 4      | 1     |
| â™­5    | 0     |
| 5      | 2     |
| 6      | 0     |
| â™¯6    | 0     |
| 7      | 1     |
| â™¯7    | 0     |

Or, [sorted](https://en.wikipedia.org/wiki/Sorting) (breaking ties by putting longer durations first):

| degree  | count |
| ------: | ----: |
| 2       | 6     |
| 3       | 5     |
| 1       | 4     |
| 5       | 2     |
| â™¯3     | 1     |
| 7       | 1     |
| 4       | 1     |
| _other_ | 0     |

Interestingly, the melody centres very strongly around the first three scale degrees: 1, 2, and 3. This kind of melody writing is typical of melodies based around a [pentatonic scale](https://en.wikipedia.org/wiki/Pentatonic_scale) of some kind, but that doesnâ€™t seem to be the case at all here.

Another interesting thing to note is that the sixth degree is the only degree (counting all [alterations](https://en.wikipedia.org/wiki/Altered_chord) of a given degree as [equivalent](https://en.wikipedia.org/wiki/Equivalence_class)) that doesnâ€™t appear at all. I would probably attribute this to my attempts to keep the [ambitus][ambitus] small. However, what makes this interesting is that it leaves open the possibility of both Gâ™¯ [Aeolian](https://en.wikipedia.org/wiki/Aeolian_mode) (Gâ™¯ minor, in the usual sense) _and_ Gâ™¯ [Dorian](https://en.wikipedia.org/wiki/Dorian_mode). Aeolian and Dorian are essentially adjacent to one another within the [circle of fifths](https://en.wikipedia.org/wiki/Circle_of_fifths), which results in their scales being identical, excepting a single scale degree. You can think of Dorian as being like Aeolian with a [major sixth](https://en.wikipedia.org/wiki/Major_sixth) degree (instead of a [minor one](https://en.wikipedia.org/wiki/Minor_sixth)). In [jazz theory](https://en.wikipedia.org/wiki/Jazz_harmony), this â€” combined with the fact that Dorian is the mode associated with [the ii chord](https://en.wikipedia.org/wiki/Ii%E2%80%93V%E2%80%93I_progression) â€” results in Dorian being thought of as â€œtheâ€ minor scale, in a way (rather than the usual choice of Aeolian). Constructing a [seventh chord](https://en.wikipedia.org/wiki/Seventh_chord) on the tonic of Dorian results in a [minor seventh chord](https://en.wikipedia.org/wiki/Minor_seventh_chord), just like it does in Aeolian; _but_, Dorian has the added benefit of a more consonant [thirteenth](https://en.wikipedia.org/wiki/Thirteenth) that doesnâ€™t clash as much with the [fifth](https://en.wikipedia.org/wiki/Perfect_fifth) of the chord (in Aeolian, the thirteenth is _minor_, so its pitch-class is separated from the fifth of the chord by a narrow \& dissonant [minor second](https://en.wikipedia.org/wiki/Semitone)). If â€œtheâ€ minor scale is to be Dorian, then in the place where [Ionian](https://en.wikipedia.org/wiki/Ionian_mode) (the usual major scale) used to be relative to Aeolian (viz. a [minor third](https://en.wikipedia.org/wiki/Minor_third) higher), there is now [Lydian](https://en.wikipedia.org/wiki/Lydian_mode). This should come as no surprise at all to those who are even vaguely aware of the [Lydian Chromatic Concept](https://en.wikipedia.org/wiki/Lydian_Chromatic_Concept_of_Tonal_Organization)Â¶, which was highly influential on [jazz](https://en.wikipedia.org/wiki/Jazz) from the 1950s onward.

The reason that Iâ€™ve gone off on a tangent about Dorian and Lydian is because it offers an alternative explanation for the â™¯3 scale degree (Bâ™¯) that features prominently in the melody. Before, I said:

> \[T\]hat rogue Bâ™¯ in the second measure was simply [borrowed](https://en.wikipedia.org/wiki/Borrowed_chord) (see also: [Picardy third](https://en.wikipedia.org/wiki/Picardy_third)) from the [parallel](https://en.wikipedia.org/wiki/Parallel_key) major: [Gâ™¯ major](https://en.wikipedia.org/wiki/G-sharp_major), a [theoretical key](https://en.wikipedia.org/wiki/Theoretical_key) that would be explicitly spelled as [Aâ™­ major](https://en.wikipedia.org/wiki/A-flat_major).

However, we can also imagine that instead of being in the key of Gâ™¯ minor, weâ€™re in the mode of Gâ™¯ Dorian (as neither E nor Eâ™¯/F appear in the melody). In this context, raising the B to a Bâ™¯ raises the fourth scale degree of Fâ™¯ Ionian/major (which is the [relative](https://en.wikipedia.org/wiki/Relative_key) Ionian to Gâ™¯ Dorian) from a [perfect fourth](https://en.wikipedia.org/wiki/Perfect_fourth) to an [augmented fourth](https://en.wikipedia.org/wiki/Tritone), thus borrowing from Fâ™¯ _Lydian_ instead. Maybe a bit of a stretch, I dunno. But my brain has been rotted by jazz music, so itâ€™s not terribly unlikely.

###### Rhythm

Although the tempo is a modest 108 [quarter notes](https://en.wikipedia.org/wiki/Quarter_note) per minute, the melody comes off as a bit swift due to the heavy use of [sixteenth notes](https://en.wikipedia.org/wiki/Sixteenth_note) and [eighth notes](https://en.wikipedia.org/wiki/Eighth_note). Furthermore, it comes off as a little â€œfunkyâ€ thanks to the jagged rhythms and ambivalence towards the [beat][beat]: out of the eight beats that make up these two [measures][bar], only half of them actually appear in the music; if we only look at the four on-beats, only half of those appear, as well. Each beat tends to be broken up strangely â€” often, the second and/or fourth 16th notes of the beat get emphasised. The general word for this kind of rhythmic trickery is [syncopation](https://en.wikipedia.org/wiki/Syncopation). This results in the subject of _cervineâ€™s Theme_ being fairly rhythmically complex, despite being nothing more than two bars of 4â„4, and despite not containing any unusual note values.

Also note that the shortest note duration is a sixteenth note, and that the melody _begins_ with a sixteenth note. I did this intentionally, and it may (or may not) pay off later onâ€¦

<details>
<summary>Footnotes for â€œThe subjectâ€</summary>

\*The term â€œprime formâ€ is often used in the context of [dodecaphonic techniques](https://en.wikipedia.org/wiki/Twelve-tone_technique); the â€œprime formâ€ of a [tone row](https://en.wikipedia.org/wiki/Tone_row) (often simply â€œprime rowâ€) is the _original_ form of a tone row, before it has been transformed by [inversion][inversion], [retrogradation][retrograde], or whatever. My usage here is from music theory more broadly (although usually in the context of [counterpoint](https://en.wikipedia.org/wiki/Counterpoint)), where the prime form can be of a _melody_ instead. Tone rows lack much of the information that melodies possess: rhythm (i\.e. note/rest durations), [rests][rest], and [octaves](https://en.wikipedia.org/wiki/Octave) (a tone row is a [sequence](https://en.wikipedia.org/wiki/Sequence) of [pitch-classes](https://en.wikipedia.org/wiki/Pitch_class), and pitch-classes treat pitches separated by an [integer](https://en.wikipedia.org/wiki/Integer) number of octaves as equivalent). Also, the â€œprime formâ€ of a pitch-class [set][set] is sometimes used to mean the normal form of said set (see: [Forte number](https://en.wikipedia.org/wiki/Forte_number)).

â€ â€œTonal regionâ€ is a bit of a tough term to throw around. The concept is reasonably simple, but only _some_ authors use â€œtonal regionâ€ to refer to it â€” thereâ€™s no clear consensus on what to call such a thing, and many theories will lack the idea of tonal regions entirely. But I like the term. A tonal region is, at its core, a [set][set] of [pitch-classes](https://en.wikipedia.org/wiki/Pitch_class). This set is usually (but not always) endowed with an additional structure â€” which may be called the â€œ[tonic][tonic]â€ or the â€œ[root][root]â€ depending on the context â€” that simply picks out one member of the set as special. A tonal region generally encompasses a (spatio)temporal region; that is, a starting point and ending point within a piece of music (or within a part in a piece of music; itâ€™s possible to have more than one tonal region going on simultaneously). Then, all pitches that occur during a tonal region are judged relative to the tonal region. For example, a pitch may be â€œin keyâ€ or may be â€œout of keyâ€. A pitch may be a â€œ[chord][chord] toneâ€ or a â€œ[non-chord tone](https://en.wikipedia.org/wiki/Nonchord_tone)â€, an â€œ[extension](https://en.wikipedia.org/wiki/Extended_chord)â€ or a â€œ[triadic][triad] toneâ€, etc., etc.

â€¡The use of the word â€œupâ€ in isolation to refer to tempi in the roughly 180â“300 BPM range is standard in [jazz](https://en.wikipedia.org/wiki/Jazz) music, including within [fake sheets](https://en.wikipedia.org/wiki/Lead_sheet).

â¸¸This [factoid](https://en.wikipedia.org/wiki/Factoid) is given by two separate Wikipedia articles, and both reference the same source: [A. L. Uitdenbogerd & Y. W. Yapâ€™s â€œWas Parsons right? An experiment in usability of music representations for melody-based music retrievalâ€ (2003)](https://ismir2003.ismir.net/papers/Uitdenbogerd.pdf) ([archived](https://web.archive.org/web/20220106120804/https://ismir2003.ismir.net/papers/Uitdenbogerd.pdf)). Unfortunately, nothing resembling this factoid is to be found within the brief paper. The paper _is_ related to Parsons codes, and _does_ mention Parsonsâ€™s 1975 book; however, the subject of the paper is an experiment in getting non-musicians to formulate melody [search](https://en.wikipedia.org/wiki/Search_engine) queries. I canâ€™t find any mention of anything resembling â€œ23%â€ (the closest thing that I found was that 23 participants responded â€œgoodâ€ when asked about how [user-friendly](https://en.wikipedia.org/wiki/Usability) the search engine wasâ€¦), nor even of the [case-insensitive](https://en.wikipedia.org/wiki/Case_sensitivity) [substring](https://en.wikipedia.org/wiki/Substring) â€œuuâ€. I donâ€™t have a copy of Parsonsâ€™s 1975 book, so I canâ€™t [fact-check](https://en.wikipedia.org/wiki/Fact-checking) this one. That being said, itâ€™s not very far-fetched: if I had to guess, starting with `*d` or `*rr` is unlikely, and that covers four out of the nine possible prefixes of length three.

Â¶See [**George Russell**][russell]â€™s _Lydian Chromatic Concept of Tonal Organization_ (1953). LCC is highly notable for its profound effect on jazz music, and for being some of the first [music theory](https://en.wikipedia.org/wiki/Music_theory) that was applied to jazz without coming from a traditional [Western classical](https://en.wikipedia.org/wiki/Classical_music) standpoint.

</details>

#### The stochastic bits

**Important preface to this section:** I am not a mathematician, and I have little mathematical training (more or less just at a [secondary school](https://en.wikipedia.org/wiki/Secondary_school) level). Ordinarily, when I bring out something mathematical in a diary entry, I try to do my due diligence and make sure that I donâ€™t present [pseudomathematics](https://en.wikipedia.org/wiki/Pseudomathematics) as fact. Although Iâ€™ve done exactly this due diligence with the following section, so much ground is covered here that I canâ€™t be certain that Iâ€™ve not missed anything. Furthermore, the treatment that I give the mathematical subjects here might be seen as anÃ¦mic by those with more expertise â€” unfortunately, I just donâ€™t know as much about the maths stuff as I do the music stuff. That being said, this is written from the perspective of my own attempts to grapple with these subjects, so those who are less familiar with the mathematics might still find it useful. Also, this section has a [TL;DR](https://en.wiktionary.org/wiki/tl;dr#English) at the end: â€œ[In summaryâ€¦ (TL;DR)](#in-summary-tl-dr)â€.

Now that we have a subject, we can do terrible stochastic things to it. The question is, of course: â€œ_what_ stochastic things?â€. We need some mutations, each of which can be applied to a given melody, to yield yet another melody. So, broadly, we want some [functions][function] that [map][map] melodies to melodies.

Weâ€™ll consider the set of pitches ğ’«, and the set of durations ğ’Ÿ. Weâ€™ll encode each melody as a pair of sequences, both of the same length; the first sequence will be a sequence of pitches (an element of ğ’«<sup>ğ‘›</sup>), and the second sequence will be a sequence of durations (an element of ğ’Ÿ<sup>ğ‘›</sup>). In short, the space of melodies of a given note-length ğ‘› is â„³<sup>ğ‘›</sup>Â â‰Â ğ’«<sup>ğ‘›</sup>Â [Ã—](https://en.wikipedia.org/wiki/Cartesian_product)Â ğ’Ÿ<sup>ğ‘›</sup>.

Each element of ğ’« is actually going to be a [_pitch-class_](https://en.wikipedia.org/wiki/Pitch_class), not so much a â€œpitchâ€ _per se_. This means that ğ’« is effectively [â„¤â§¸12â„¤](https://en.wikipedia.org/wiki/Modular_arithmetic#Integers_modulo_n) (as we are assuming the use of [12-TET](https://en.wikipedia.org/wiki/12_equal_temperament)) with a little extra structure, where each pitch is encoded as an element of â„¤â§¸12â„¤ that measures the number of [semitones](https://en.wikipedia.org/wiki/Semitone) away from an arbitrary â€œoriginâ€ pitch-class, modulo 12. Usually, weâ€™ll pick some significant pitch-class to be the origin, e\.g. the pitch-class of the first note of the prime form of the subject. If necessary, the origin pitch-class can be specified as a [subscript](https://en.wikipedia.org/wiki/Subscript_and_superscript) of ğ’«, e\.g. ğ’«<sub>Câ™¯</sub>. In ğ’«<sub>Câ™¯</sub>, a pitch whose pitch-class is D would be encoded as 1Â (ğ—†ğ—ˆğ–½Â 12), because a D is one semitone higher than a Câ™¯. Likewise, the pitch-class C would be encoded as 11Â (ğ—†ğ—ˆğ–½Â 12)â€¦ or âˆ’1Â (ğ—†ğ—ˆğ–½Â 12), or 23Â (ğ—†ğ—ˆğ–½Â 12), etc. For mathematicians, this is a particular instance of a [quotient ring](https://en.wikipedia.org/wiki/Quotient_ring); treating pitches in this way amounts to forgetting certain information about the underlying set (the underlying set being all 12-TET pitches in general, without reference to [octave equivalence](https://en.wikipedia.org/wiki/Octave#Equivalence)), instead treating pitches as the same when they belong to the same [equivalence class](https://en.wikipedia.org/wiki/Equivalence_class), i\.e. the same [congruence class](https://en.wikipedia.org/wiki/Modular_arithmetic#Congruence_classes), i\.e. the same pitch-class.

Each element of ğ’Ÿ is encoded as a [rational number](https://en.wikipedia.org/wiki/Rational_number); we allow a duration of zero, and even durations below zero, for mathematical reasons. Zero duration is easy to interpret (no note is played at all), but negative durations are a little trickier. One way to think of a note that has a duration of âˆ’ğ‘, for some ğ‘Â [âˆˆ][element]Â [â„š](https://en.wikipedia.org/wiki/Rational_number)<sup>+</sup>, is as a note with a duration of ğ‘ thatâ€™s played in some special way (while still retaining the same pitch information), like with [vibrato](https://en.wikipedia.org/wiki/Vibrato) or something. The exact interpretation that you choose isnâ€™t important (so long as itâ€™s invertible), as itâ€™s just there for mathematical convenience. For simplicity, we wonâ€™t encode rests as notes; instead, we pave over rests by treating every pitched note as if its duration extends from its onset until the onset of the next pitched note. Again, like the use of pitch-classes (instead of pitches) for ğ’«, this loses some musical information. But in exchange, we get something thatâ€™s easier to use mathematically; and as the composer, we can handle the â€œlostâ€ information as we see fit.

We want to impose some reasonably nice mathematical structure onto ğ’«<sup>ğ‘›</sup>, ğ’Ÿ<sup>ğ‘›</sup>, and ultimately â„³<sup>ğ‘›</sup>, so that we know what structure weâ€™re trying to _preserve_ with our mutation functions. We already have a little bit of structure: the â€œğ‘›â€ in ğ’«<sup>ğ‘›</sup>, ğ’Ÿ<sup>ğ‘›</sup>, and â„³<sup>ğ‘›</sup> is some constant [natural number](https://en.wikipedia.org/wiki/Natural_number), which means that our mutation functions cannot change the number of pitches/durations in our melody if we want said functions to be [endomorphisms](https://en.wikipedia.org/wiki/Endomorphism) (which was sorta kinda implied when I said â€œwe want some [functions][function] that [map][map] melodies to melodiesâ€). It also means that we can never have a different number of pitches than we have durations. And if we want the mutation functions to be [invertible](https://en.wikipedia.org/wiki/Inverse_function) (it would be nice if one mutation function could â€œcancel outâ€ another), then changing ğ‘› is a no-go: if we delete a note, we canâ€™t â€œrememberâ€ how to get it back, and if we add a new note, we canâ€™t â€œrememberâ€ which particular one was newly added! If our mutation functions are indeed invertible, and they [preserve the mathematical structure](https://en.wikipedia.org/wiki/Morphism) that we endowed â„³<sup>ğ‘›</sup> with, then they are [isomorphisms](https://en.wikipedia.org/wiki/Isomorphism). An endomorphism that is also an isomorphism is called an [automorphism](https://en.wikipedia.org/wiki/Automorphism), and this is ultimately what weâ€™re after.

Now for the â€œimposing structureâ€ part: First, we can make ğ’Ÿ<sup>ğ‘›</sup> a [vector space](https://en.wikipedia.org/wiki/Vector_space). We equip ğ’Ÿ<sup>ğ‘›</sup> with a [field][field] of [scalars][scalar] â„š. Then, we define [vector][vector] addition component-wise; durations are rational numbers, and can be added in the usual way. We also define [scalar multiplication](https://en.wikipedia.org/wiki/Scalar_multiplication) component-wise, as youâ€™d expect. So, for example, scalar-multiplying an element of ğ’Ÿ<sup>ğ‘›</sup> by 2 effectively yields the same element, but at a halved [tempo](https://en.wikipedia.org/wiki/Tempo). And scalar-multiplying by 0 yields a vector of total (cumulative) duration 0; the [zero vector](https://en.wikipedia.org/wiki/Zero_element) ğŸ. A melody whose duration component is ğŸ (that is, some (ğ©,Â ğŸ)Â âˆˆÂ â„³<sup>ğ‘›</sup>) ends as soon as it begins, and is silent. Now we can show that these two sets and two operations combine to form a vector space:

- **Vector addition commutes:** This can be seen from the fact that vector addition is defined component-wise, and that addition of rational numbers commutes.
- **Vector addition associates:** Addition of rational numbers also associates.
- **Vector addition has an identity:** There is a unique element of ğ’Ÿ<sup>ğ‘›</sup>, called ğŸ, that acts as the additive identity: it is the vector where every element of the sequence is 0.
- **Vector addition is invertible:** Follows from the invertibility of the addition of rational numbers: ğ‘Â +Â (âˆ’ğ‘)Â =Â 0.
- **Scalar multiplication is compatible with field multiplication** (ğ‘Â â‹…Â (ğ‘ŸÂ â‹…Â ğ)Â =Â (ğ‘ğ‘Ÿ)Â â‹…Â ğ)**:** Because durations are just rational numbers, and the field in question is also â„š, this follows from the fact that multiplication of rational numbers associates.
- **Scalar multiplication distributes over field addition** ((ğ‘Â +Â ğ‘Ÿ)Â â‹…Â ğÂ =Â ğ‘Â â‹…Â ğÂ +Â ğ‘ŸÂ â‹…Â ğ)**:** Follows from the fact that rational number multiplication distributes over rational number addition.
- **Scalar multiplication distributes over vector addition** (ğ‘Â â‹…Â (ğÂ +Â ğœ)Â =Â ğ‘Â â‹…Â ğÂ +Â ğ‘Â â‹…Â ğœ)**:** Also follows from the fact that rational number multiplication distributes over rational number addition. Vector addition simply adds the durations.
- **Scalar multiplication has an identity:** 1 acts as the identity for scalar multiplication, as it is the multiplicative identity of the rational numbers.

Well then, what about ğ’«<sup>ğ‘›</sup>? If we want endow ğ’«<sup>ğ‘›</sup> with the structure of a vector space, then we have to consider what its field is, and consider how to implement scalar multiplication. â„š isnâ€™t going to work here, as our pitches can only be integers (specifically, elements of â„¤â§¸12â„¤), so thereâ€™s apparently nothing that we can reasonably do when â€œscalar multiplyingâ€ a sequence of integers by an arbitrary rational number. In fact, because weâ€™re working with integers, and because weâ€™re working in 12-TET â€” which is important because 12 is [composite](https://en.wikipedia.org/wiki/Composite_number) â€” ğ’«<sup>ğ‘›</sup> is actually not going to be a vector space at all (_gasp!_). Itâ€™s okay though, because it _will_ be a [module][module], over which [linearity](https://en.wikipedia.org/wiki/Linear_map) is defined in the same way anyways.

Because we can settle on ğ’«<sup>ğ‘›</sup> having a module structure, we no longer _need_ a field; a [ring][ring] will do just fine. Just like the field of scalars for ğ’Ÿ<sup>ğ‘›</sup> has the same underlying set (â„š) as the elements of its vectors, so the ring of scalars for ğ’«<sup>ğ‘›</sup> will have the same underlying set (â„¤â§¸12â„¤) as the elements of its vectors. Defining module addition and scalar multiplication also proceeds like with ğ’Ÿ<sup>ğ‘›</sup>, as â„¤â§¸12â„¤ is a perfectly well-behaved [commutative ring](https://en.wikipedia.org/wiki/Commutative_ring).

As mentioned above, we define â„³<sup>ğ‘›</sup>Â â‰Â ğ’«<sup>ğ‘›</sup>Â Ã—Â ğ’Ÿ<sup>ğ‘›</sup>. Because this a [Cartesian product](https://en.wikipedia.org/wiki/Cartesian_product) in which we want to preserve the structure of the operands, â„³<sup>ğ‘›</sup> is more specifically a [direct product](https://en.wikipedia.org/wiki/Direct_product), or [direct sum](https://en.wikipedia.org/wiki/Direct_sum). So, we can instead write â„³<sup>ğ‘›</sup>Â â‰Â ğ’«<sup>ğ‘›</sup>Â âŠ•Â ğ’Ÿ<sup>ğ‘›</sup>. Of course, we defined ğ’«<sup>ğ‘›</sup> as a module and ğ’Ÿ<sup>ğ‘›</sup> as a vector space, but a module is a strict generalisation of a vector space, so we can just as easily think of ğ’Ÿ<sup>ğ‘›</sup> as being a module as well. When we take the Cartesian product of these two modules, a natural component-wise module structure on â„³<sup>ğ‘›</sup> arises.

The ring that this module is built on has â„¤â§¸12â„¤Â Ã—Â â„š as its underlying set. We can define module addition component-wise:

(ğ©,Â ğ)Â +Â (ğ¨,Â ğœ)Â â‰Â (ğ©Â +Â ğ¨,Â ğÂ +Â ğœ).

Scalar multiplication is just as simple:

(ğ‘§,Â ğ‘)Â â‹…Â (ğ©,Â ğ)Â â‰Â (ğ‘§Â â‹…Â ğ©,Â ğ‘Â â‹…Â ğ).

Ring additionâ€¦:

(ğ‘§,Â ğ‘)Â +Â (ğ‘,Â ğ‘Ÿ)Â â‰Â (ğ‘§Â +Â ğ‘,Â ğ‘Â +Â ğ‘Ÿ).

And finally, ring multiplication:

(ğ‘§,Â ğ‘)&#x2062;(ğ‘,Â ğ‘Ÿ)Â â‰Â (ğ‘§ğ‘,Â ğ‘ğ‘Ÿ).

To show that the â€œringâ€ is indeed a commutative ring, we can observe that ring addition is an [abelian group](https://en.wikipedia.org/wiki/Abelian_group): it associates because both (â„¤â§¸12â„¤,Â +) and (â„š,Â +) do, it commutes because both (â„¤â§¸12â„¤,Â +) and (â„š,Â +) do, (0,Â 0) is its identity element, and the inverse of (ğ‘§,Â ğ‘) is simply (âˆ’ğ‘§,Â âˆ’ğ‘). Then we observe that ring multiplication is an [abelian monoid](https://en.wikipedia.org/wiki/Monoid#Commutative_monoid): it associates because both (â„¤â§¸12â„¤,Â â‹…) and (â„š,Â â‹…) do, it commutes because both (â„¤â§¸12â„¤,Â â‹…) and (â„š,Â â‹…) do, and (1,Â 1) is its identity element. Then, we just need to show that ring multiplication distributes over ring addition:

(ğ‘§,Â ğ‘)&#x2062;((ğ‘,Â ğ‘Ÿ)Â +Â (ğ‘,Â ğ‘ )) = (ğ‘§,Â ğ‘)&#x2062;(ğ‘,Â ğ‘Ÿ)Â +Â (ğ‘§,Â ğ‘)&#x2062;(ğ‘,Â ğ‘ )

(ğ‘§,Â ğ‘)&#x2062;(ğ‘Â +Â ğ‘,Â ğ‘ŸÂ +Â ğ‘ ) = (ğ‘§ğ‘,Â ğ‘ğ‘Ÿ)Â +Â (ğ‘§ğ‘,Â ğ‘ğ‘ )

(ğ‘§&#x2062;(ğ‘Â +Â ğ‘),Â ğ‘&#x2062;(ğ‘ŸÂ +Â ğ‘ )) = (ğ‘§ğ‘Â +Â ğ‘§ğ‘,Â ğ‘ğ‘ŸÂ +Â ğ‘ğ‘ )

(ğ‘§ğ‘Â +Â ğ‘§ğ‘,Â ğ‘ğ‘ŸÂ +Â ğ‘ğ‘ ) = (ğ‘§ğ‘Â +Â ğ‘§ğ‘,Â ğ‘ğ‘ŸÂ +Â ğ‘ğ‘ ).

Module addition is an abelian group for the same reasons that ring addition is, so we just need to show:

- **Scalar multiplication is compatible with ring multiplication:**

  (ğ‘§,Â ğ‘)Â â‹…Â ((ğ‘,Â ğ‘Ÿ)Â â‹…Â (ğ©,Â ğ)) = ((ğ‘§,Â ğ‘)&#x2062;(ğ‘,Â ğ‘Ÿ))Â â‹…Â (ğ©,Â ğ)

  (ğ‘§,Â ğ‘)Â â‹…Â (ğ‘Â â‹…Â ğ©,Â ğ‘ŸÂ â‹…Â ğ) = (ğ‘§ğ‘,Â ğ‘ğ‘Ÿ)Â â‹…Â (ğ©,Â ğ)

  (ğ‘§ğ‘Â â‹…Â ğ©,Â ğ‘ğ‘ŸÂ â‹…Â ğ) = (ğ‘§ğ‘Â â‹…Â ğ©,Â ğ‘ğ‘ŸÂ â‹…Â ğ). â”‚ Left-side manipulation is justified by ğ’«<sup>ğ‘›</sup> and ğ’Ÿ<sup>ğ‘›</sup> both being modules.
- **Scalar multiplication distributes over ring addition:**

  ((ğ‘§,Â ğ‘)Â +Â (ğ‘,Â ğ‘Ÿ))Â â‹…Â (ğ©,Â ğ) = (ğ‘§,Â ğ‘)Â â‹…Â (ğ©,Â ğ)Â +Â (ğ‘,Â ğ‘Ÿ)Â â‹…Â (ğ©,Â ğ)

  (ğ‘§Â +Â ğ‘,Â ğ‘Â +Â ğ‘Ÿ)Â â‹…Â (ğ©,Â ğ) = (ğ‘§Â â‹…Â ğ©,Â ğ‘Â â‹…Â ğ)Â +Â (ğ‘Â â‹…Â ğ©,Â ğ‘ŸÂ â‹…Â ğ)

  ((ğ‘§Â +Â ğ‘)Â â‹…Â ğ©,Â (ğ‘Â +Â ğ‘Ÿ)Â â‹…Â ğ) = (ğ‘§Â â‹…Â ğ©Â +Â ğ‘Â â‹…Â ğ©,Â ğ‘Â â‹…Â ğÂ +Â ğ‘ŸÂ â‹…Â ğ)

  (ğ‘§Â â‹…Â ğ©Â +Â ğ‘Â â‹…Â ğ©,Â ğ‘Â â‹…Â ğÂ +Â ğ‘ŸÂ â‹…Â ğ) = (ğ‘§Â â‹…Â ğ©Â +Â ğ‘Â â‹…Â ğ©,Â ğ‘Â â‹…Â ğÂ +Â ğ‘ŸÂ â‹…Â ğ). â”‚ Left-side manipulation is justified by ğ’«<sup>ğ‘›</sup> and ğ’Ÿ<sup>ğ‘›</sup> both being modules.
- **Scalar multiplication distributes over module addition:**

  (ğ‘§,Â ğ‘)Â â‹…Â ((ğ©,Â ğ)Â +Â (ğ¨,Â ğœ)) = (ğ‘§,Â ğ‘)Â â‹…Â (ğ©,Â ğ)Â +Â (ğ‘§,Â ğ‘)Â â‹…Â (ğ¨,Â ğœ)

  (ğ‘§,Â ğ‘)Â â‹…Â (ğ©Â +Â ğ¨,Â ğÂ +Â ğœ) = (ğ‘§Â â‹…Â ğ©,Â ğ‘Â â‹…Â ğ)Â +Â (ğ‘§Â â‹…Â ğ¨,Â ğ‘Â â‹…Â ğœ)

  (ğ‘§Â â‹…Â (ğ©Â +Â ğ¨),Â ğ‘Â â‹…Â (ğÂ +Â ğœ)) = (ğ‘§Â â‹…Â ğ©Â +Â ğ‘§Â â‹…Â ğ¨,Â ğ‘Â â‹…Â ğÂ +Â ğ‘Â â‹…Â ğœ)

  (ğ‘§Â â‹…Â ğ©Â +Â ğ‘§Â â‹…Â ğ¨,Â ğ‘Â â‹…Â ğÂ +Â ğ‘Â â‹…Â ğœ) = (ğ‘§Â â‹…Â ğ©Â +Â ğ‘§Â â‹…Â ğ¨,Â ğ‘Â â‹…Â ğÂ +Â ğ‘Â â‹…Â ğœ). â”‚ Left-side manipulation is justified by ğ’«<sup>ğ‘›</sup> and ğ’Ÿ<sup>ğ‘›</sup> both being modules.
- **Scalar multiplication has an identity:** (1,Â 1).

Whew, okay. So â„³<sup>ğ‘›</sup> is a direct product of modules! Which means that â„³<sup>ğ‘›</sup> is itself a module!! Great.

With this module in mind, we can check if our â€œmutationâ€ functions satisfy some nice properties. In particular, the notion of [linear mapping](https://en.wikipedia.org/wiki/Linear_map) is now well-defined. As mentioned before, ultimately we will be looking at [automorphisms](https://en.wikipedia.org/wiki/Automorphism) as the ideal kind of mutation function. These automorphisms are members of a [group][group] (specifically an [automorphism group](https://en.wikipedia.org/wiki/Automorphism_group)). This is certainly not the first time that someone applied group theory to music; [transformational theory](https://en.wikipedia.org/wiki/Transformational_theory) has been around since the late 1980s! But the â€œsystemâ€ (if you can call it that) that Iâ€™m using here is not exactly transformational theory â€” Iâ€™m frankly just making it up as I goâ€¦

With all of that said, we donâ€™t want to just throw every possible element of this automorphism group into a pile and then pick randomlyâ€¦ whatever that would mean! There are certain mutations that come to mind as â€œobviousâ€, â€œmusically meaningfulâ€, or just â€œusefulâ€. And I want to weed out any of them that I suspect are likely to do horrible, unmusical things to our melodies.

Iâ€™ll be using [matrix][matrix]-style notation for these mutation functions, which is pretty standard. So each mutation function is represented as an boldface uppercase [Latin letter](https://en.wikipedia.org/wiki/Latin_script), and [function composition](https://en.wikipedia.org/wiki/Function_composition) is represented by juxtaposition (e\.g. ğ‘“ğ‘” instead of ğ‘“Â [âˆ˜](https://en.wikipedia.org/wiki/Function_composition)Â ğ‘” or ğ‘“(ğ‘”(â‹¯))). One issue with this is that ğˆ is commonly used to mean â€œinversionâ€ (in the music-theoretical sense), but in mathematics this would be used for the [identity](https://en.wikipedia.org/wiki/Identity_matrix). So, instead, Iâ€™ll be using this character: ğ“˜ ([U](https://en.wikipedia.org/wiki/Unicode)+1D4D8; â€œmathematical bold script capital Iâ€) for the identity, and retaining the use of ğˆ (U+1D408; â€œmathematical bold capital Iâ€) for inversion.

So, letâ€™s meet some of the mutation functionsâ€¦

- ğ‘<sub>t</sub>: Temporal [retrograde][retrograde]. Ordinarily, we would treat retrogradation as a single operation that simply reverses the order of the notes (reversing the sequence of pitches _and_ the sequence of durations). However, to make things a little more interesting, and to decompose larger mutations into smaller ones, this function _only_ retrogrades the durations, while leaving the pitches untouched. Also note that this can make proofs easier, as we can prove that some smaller functions are automorphisms, and then rely on the fact that the composition of two automorphisms is itself an automorphism. So we have: ğ‘<sub>p</sub>&#x2062;ğ‘<sub>t</sub>Â =Â ğ‘<sub>t</sub>&#x2062;ğ‘<sub>p</sub>Â =Â ğ‘.

  Proving that this is indeed an automorphism is left as an exercise for the reader :)
- ğ‘<sub>p</sub>: Pitch retrograde. Similar to ğ‘<sub>t</sub>, but only retrogrades the pitches (instead of only retrograding the durations). So we have: ğ‘<sub>p</sub>&#x2062;ğ‘<sub>t</sub>Â =Â ğ‘<sub>t</sub>&#x2062;ğ‘<sub>p</sub>Â =Â ğ‘.
- ğˆ<sub>p</sub> or ğŒ<sub>11</sub>: Pitch [inversion][inversion]. Weâ€™re modelling pitch inversion (which is a _very_ common operation in music in general) as scalar multiplication, using ğŒ<sub>ğ‘˜</sub>ğ¦ to mean scalar multiplication of the melody ğ¦ (ğ¦Â âˆˆÂ â„³<sup>ğ‘›</sup>) by (ğ‘˜,Â 1). Note that this means only multiplying the pitches, which is [the usual use of the term â€œmultiplicationâ€ in music][mul]. Pitch multiplication only really makes sense for pitch-_classes_, which is one of the reasons why we encoded the pitches of a melody as a sequence of pitch-classes. On the other hand, pitch inversion makes sense for pitches in general, and in the usual case (i\.e. outside of [musical set theory][set-theory]), octave information is preserved, viz. the pitches are merely reflected about some pitch axis (_not_ a pitch-class axis). For this reason, this transformation gets two â€œnamesâ€ ğˆ<sub>p</sub> and ğŒ<sub>11</sub>. We call it â€œğˆ<sub>p</sub>â€ when what we _really_ want is ordinary inversion, and â€œğŒ<sub>11</sub>â€ when weâ€™re talking only about pitch-classes and our fancy-dancy module encoding.

  You might reasonably wonder why one of the names is â€œğˆ<sub>p</sub>â€, rather than simply â€œğˆâ€ â€” after all, we never consider any function called â€œğˆ<sub>t</sub>â€ (â€œtemporal inversionâ€, presumably). The name â€œğˆ<sub>p</sub>â€ makes it clear that this function leaves durations untouched, and also leaves open the possibility of defining something called â€œğˆ<sub>t</sub>â€ (or whatever), although Iâ€™m not sure exactly what such a function would be. I considered defining a â€œğˆ<sub>t</sub>â€ that took the â€œdifferenceâ€ between two durations to be their [ratio](https://en.wikipedia.org/wiki/Ratio), and then performed inversion by taking the [reciprocal](https://en.wikipedia.org/wiki/Multiplicative_inverse) of that difference. For example, consider a [quarter note](https://en.wikipedia.org/wiki/Quarter_note) followed by a [dotted](https://en.wikipedia.org/wiki/Dotted_note) quarter note. The quarter note remains the same, and the note immediately succeeding it is changed from a dotted quarter note (3â„2 the duration of the previous note) to a [triplet](https://en.wikipedia.org/wiki/Tuplet#Triplet) quarter note ((3â„2)<sup>âˆ’1</sup>Â =Â â…” the duration of the previous note). Unfortunately, this function is nonlinear\* because we define module addition by component-wise addition. If you do this but with [_differences_](https://en.wikipedia.org/wiki/Subtraction) instead of ratios, Iâ€™m pretty sure it ends up being linear(?), but itâ€™s not so useful anymore â€” you easily end up with notes that have negative duration. Negative duration isnâ€™t an issue if you actually want to deal with how itâ€™s implemented, but I donâ€™t.

  The fact that ğŒ<sub>11</sub> is an automorphism is more or less evident, because itâ€™s really just scalar multiplication by (11,Â 1), and 11 is [coprime](https://en.wikipedia.org/wiki/Coprime_integers) with 12. That being said, the intuition here is really for ordinary inversion â€” i\.e. ğˆ<sub>p</sub> â€” so we can separately prove that ğˆ<sub>p</sub> is at least an [additive](https://en.wikipedia.org/wiki/Additive_map) invertible mapping, even if we pretend that ğ’« is a set of pitches (instead of pitch-classes). To prove this, consider two sequences of pitches ğ© and ğ¨. Let ğ©Â â‰”Â âŸ¨ğ‘<sub>0</sub>,Â ğ‘<sub>1</sub>,Â ğ‘<sub>2</sub>,Â â‹¯âŸ©, and let ğ¨Â â‰”Â âŸ¨ğ‘œ<sub>0</sub>,Â ğ‘œ<sub>1</sub>,Â ğ‘œ<sub>2</sub>,Â â‹¯âŸ©. To show that ğˆ<sub>p</sub> is additive, we just need to show that

  ğˆ<sub>p</sub>&#x2062;(âŸ¨ğ‘<sub>0</sub>,Â ğ‘<sub>1</sub>,Â ğ‘<sub>2</sub>,Â â‹¯âŸ©Â +Â âŸ¨ğ‘œ<sub>0</sub>,Â ğ‘œ<sub>1</sub>,Â ğ‘œ<sub>2</sub>,Â â‹¯âŸ©) = ğˆ<sub>p</sub>&#x2062;âŸ¨ğ‘<sub>0</sub>,Â ğ‘<sub>1</sub>,Â ğ‘<sub>2</sub>,Â â‹¯âŸ©Â +Â ğˆ<sub>p</sub>&#x2062;âŸ¨ğ‘œ<sub>0</sub>,Â ğ‘œ<sub>1</sub>,Â ğ‘œ<sub>2</sub>,Â â‹¯âŸ©.

  So, if we do some algebraic manipulationsâ€¦:

  ğˆ<sub>p</sub>&#x2062;(âŸ¨ğ‘<sub>0</sub>Â +Â ğ‘œ<sub>0</sub>,Â ğ‘<sub>1</sub>Â +Â ğ‘œ<sub>1</sub>,Â ğ‘<sub>2</sub>Â +Â ğ‘œ<sub>2</sub>,Â â‹¯âŸ©) = âŸ¨ğ‘<sub>0</sub>,Â 2ğ‘<sub>0</sub>Â âˆ’Â ğ‘<sub>1</sub>,Â 2ğ‘<sub>0</sub>Â âˆ’Â ğ‘<sub>2</sub>,Â â‹¯âŸ©Â +Â âŸ¨ğ‘œ<sub>0</sub>,Â 2ğ‘œ<sub>0</sub>Â âˆ’Â ğ‘œ<sub>1</sub>,Â 2ğ‘œ<sub>0</sub>Â âˆ’Â ğ‘œ<sub>2</sub>,Â â‹¯âŸ©

  âŸ¨ğ‘<sub>0</sub>Â +Â ğ‘œ<sub>0</sub>,Â 2&#x2062;(ğ‘<sub>0</sub>Â +Â ğ‘œ<sub>0</sub>)Â âˆ’Â (ğ‘<sub>1</sub>Â +Â ğ‘œ<sub>1</sub>),Â 2&#x2062;(ğ‘<sub>0</sub>Â +Â ğ‘œ<sub>0</sub>)Â âˆ’Â (ğ‘<sub>2</sub>Â +Â ğ‘œ<sub>2</sub>),Â â‹¯âŸ© = âŸ¨ğ‘<sub>0</sub>Â +Â ğ‘œ<sub>0</sub>,Â 2ğ‘<sub>0</sub>Â âˆ’Â ğ‘<sub>1</sub>Â +Â 2ğ‘œ<sub>0</sub>Â âˆ’Â ğ‘œ<sub>1</sub>,Â 2ğ‘<sub>0</sub>Â âˆ’Â ğ‘<sub>2</sub>Â +Â 2ğ‘œ<sub>0</sub>Â âˆ’Â ğ‘œ<sub>2</sub>,Â â‹¯âŸ©

  âŸ¨ğ‘<sub>0</sub>Â +Â ğ‘œ<sub>0</sub>,Â 2ğ‘<sub>0</sub>Â +Â 2ğ‘œ<sub>0</sub>Â âˆ’Â ğ‘<sub>1</sub>Â âˆ’Â ğ‘œ<sub>1</sub>,Â 2ğ‘<sub>0</sub>Â +Â 2ğ‘œ<sub>0</sub>Â âˆ’Â ğ‘<sub>2</sub>Â âˆ’Â ğ‘œ<sub>2</sub>,Â â‹¯âŸ© = âŸ¨ğ‘<sub>0</sub>Â +Â ğ‘œ<sub>0</sub>,Â 2ğ‘<sub>0</sub>Â +Â 2ğ‘œ<sub>0</sub>Â âˆ’Â ğ‘<sub>1</sub>Â âˆ’Â ğ‘œ<sub>1</sub>,Â 2ğ‘<sub>0</sub>Â +Â 2ğ‘œ<sub>0</sub>Â âˆ’Â ğ‘<sub>2</sub>Â âˆ’Â ğ‘œ<sub>2</sub>,Â â‹¯âŸ©.

  Cool. And ordinary pitch inversion is a well-known [involution][involution], so _a fortiori_, itâ€™s invertible.
- ğŒ<sub>5</sub>: [Pitch multiplication][mul] by 5 (a\.k\.a. â€œcircle of fourths transformationâ€). It just so happens that 5 is also coprime with 12, so ğŒ<sub>5</sub> â€” like ğŒ<sub>11</sub> â€” is an automorphism right away.Â¶ But unlike ğŒ<sub>11</sub>, ğŒ<sub>5</sub> doesnâ€™t correspond to any common musical transformations â€” at least, not directly. In fact, however, this transformation is more familiar than you might think. Consider the sequence of elements of ğ’« that contains every element of ğ’« exactly once, in order: âŸ¨0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11âŸ©. Then we have:

  ğŒ<sub>5</sub>&#x2062;âŸ¨0,Â 1,Â 2,Â 3,Â 4,Â 5,Â 6,Â 7,Â 8,Â 9,Â 10,Â 11âŸ© = âŸ¨0,Â 5,Â 10,Â 3,Â 8,Â 1,Â 6,Â 11,Â 4,Â 9,Â 2,Â 7âŸ©.

  So we could call this the â€œ[circle of fourths](https://en.wikipedia.org/wiki/Circle_of_fifths)â€ â€ transformation, because it transforms the [chromatic scale](https://en.wikipedia.org/wiki/Chromatic_scale) into a full tour of the circle of fourths.

  As you can see, the [even][parity] elements get mapped to their inverses (e\.g. 2Â â†¦Â 10). And the rest get expanded by an [augmented triad](https://en.wikipedia.org/wiki/Augmented_triad), viz. each one is [transposed][transpose] by âŸ¨4,Â 0,Â âˆ’4,Â 4,Â 0,Â âˆ’4âŸ©, respectively. This makes ğŒ<sub>5</sub> closely related to the [Coltrane substitution](https://en.wikipedia.org/wiki/Coltrane_changes), well-known in [jazz theory](https://en.wikipedia.org/wiki/Jazz_harmony). The Coltrane substitution is, at its core, a transformation of a [iiâ€“Vâ€“I progression](https://en.wikipedia.org/wiki/Ii%E2%80%93V%E2%80%93I_progression). The iiâ€“Vâ€“I is fundamental to jazz harmony, and is based on the circle of fourths/fifths (as you can see, the [roots][root] descend by a [perfect fifth](https://en.wikipedia.org/wiki/Perfect_fifth) each time) â€” itâ€™s common to extend iiâ€“Vâ€“I even further, to [viâ€“iiâ€“Vâ€“I](https://en.wikipedia.org/wiki/Vi%E2%80%93ii%E2%80%93V%E2%80%93I). The Coltrane substitution takes the iiâ€“Vâ€“I progression, and substitutes multiple chords in place of each chord of said progression. The result briefly [tonicises](https://en.wikipedia.org/wiki/Tonicization) both pitch-classes that are a [major third](https://en.wikipedia.org/wiki/Major_third) apart from the â€œoverallâ€/â€œfinalâ€ tonic. The final tonic and the two pitch-classes that are a major third apart from it, of course, collectively form an augmented triad.
- ğŒ<sub>7</sub>: Pitch multiplication by 7 (a\.k\.a. â€œcircle of fifths transformationâ€). Like with ğŒ<sub>5</sub>, 7 is also coprime with 12, so ğŒ<sub>7</sub> is an automorphism right away. Consider the sequence of elements of ğ’« that contains every element of ğ’« exactly once, in order: âŸ¨0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11âŸ©. Then we have:

  ğŒ<sub>7</sub>&#x2062;âŸ¨0,Â 1,Â 2,Â 3,Â 4,Â 5,Â 6,Â 7,Â 8,Â 9,Â 10,Â 11âŸ© = âŸ¨0,Â 7,Â 2,Â 9,Â 4,Â 11,Â 6,Â 1,Â 8,Â 3,Â 10,Â 5âŸ©.

  Just like ğŒ<sub>5</sub> is the â€œcircle of fourthsâ€ transformation, we can call this the â€œcircle of fifthsâ€ transformation, because it transforms the [chromatic scale](https://en.wikipedia.org/wiki/Chromatic_scale) into a full tour of the circle of fifths.

  As youâ€™d expect, because the circle of fifths is just the circle of fourths backwards (and vice versa), the result of mutating the chromatic scale with ğŒ<sub>7</sub> is just the retrograde of doing the same with ğŒ<sub>5</sub>. This time, the even elements are unchanged (e\.g. 2Â â†¦Â 2). And the rest get transposed by a [tritone](https://en.wikipedia.org/wiki/Tritone). Just like the augmented triad implicit in ğŒ<sub>5</sub> is reminiscent of the Coltrane substitution, the tritone transposition implicit in ğŒ<sub>7</sub> is reminiscent of [tritone substitution](https://en.wikipedia.org/wiki/Tritone_substitution), a simpler and more widespread transformation in jazz harmony that is also used within the Coltrane substitution. Again, a tritone substitution is used in the context of a iiâ€“Vâ€“I (more broadly: circle of fifths) progression.

  Note that 11, 5, and 7 are the only values of ğ‘˜ that we consider for ğŒ<sub>ğ‘˜</sub>. This is because the only other value of ğ‘˜ that yields an automorphism is 1, but we are purposely discarding mutation functions that are equal to ğ“˜ (because they do nothing!). Values of ğ‘˜ like 9, for example, are _not_ coprime with 12 (9 and 12 are both integer multiples of 3), and thus do not yield invertible functions.
- ğ“<sup>ğ‘˜</sup>: [Transposition][transpose] by ğ‘˜. Iâ€™m going to limit ğ‘˜ so that ğ‘˜Â â‰ Â 0, because ğ“<sup>0</sup> is just ğ“˜. And â€” not that it matters for our encoding here, as we are encoding pitches as pitch-classes â€” I want to also limit ğ‘˜ so that [|](https://en.wikipedia.org/wiki/Absolute_value)ğ‘˜[|](https://en.wikipedia.org/wiki/Absolute_value)Â â‰¤Â 6, because larger absolute values of ğ‘˜ (e\.g. ğ‘˜Â =Â âˆ’19) can be inverted and/or have [octaves](https://en.wikipedia.org/wiki/Octave#Equivalence) removed (âˆ’19Â â†¦Â 5).

  Transposition only affects pitches, leaving durations untouched. If we have some ğ©Â âˆˆÂ ğ’«<sup>ğ‘›</sup>, then ğ“<sup>ğ‘˜</sup>ğ©Â =Â ğ©Â +Â âŸ¨ğ‘˜,Â ğ‘˜,Â ğ‘˜,Â ğ‘˜,Â â‹¯âŸ©. This is actually _not_ an automorphism, at least not if we are considering automorphisms strictly in the sense of â€œlinear [bijection](https://en.wikipedia.org/wiki/Bijection) of [type](https://en.wikipedia.org/wiki/Type_theory) â„³<sup>ğ‘›</sup>Â â†’Â â„³<sup>ğ‘›</sup>â€! One of the most basic operations â€” mere transposition â€” doesnâ€™t preserve the structure that we want! How embarrassing!!

  Itâ€™s okay, though. We can actually generalise a little bit by going from _linear_ mappings over our module, to [_affine_ transformations](https://en.wikipedia.org/wiki/Affine_transformation) over our module. There are, I suppose, a few ways in which you can think about affine spaces/transformations. In our case, itâ€™s probably best to think of an affine transformation as â€œa linear mapping followed by a [translation][translation]â€. Transposition (a musical transformation of pitches or of pitch-classes) is the equivalent of the geometric notion of translation, so ğ“<sup>ğ‘˜</sup> is an affine transformation because itâ€™s a linear mapping (viz. ğ“˜) followed by a translation (by +âŸ¨ğ‘˜,Â ğ‘˜,Â ğ‘˜,Â ğ‘˜,Â â‹¯âŸ©). Another way to think about it is with the â€œforgetting the [origin][origin]â€ metaphor: we encode pitch-classes as elements of â„¤â§¸12â„¤, but the origin (a\.k\.a. 0, a\.k\.a. 12, a\.k\.a. âˆ’12, â€¦) doesnâ€™t have to be any pitch in particular. It could be Câ™¯, it could be F, it could be Bâ™­, it could be any pitch-class. A related concept is the [torsor](https://en.wikipedia.org/wiki/Principal_homogeneous_space): consider the [Celsius](https://en.wikipedia.org/wiki/Celsius) temperature scale, which arbitrarily defines 0Â Â°C to be the [freezing](https://en.wikipedia.org/wiki/Freezing) point of water at 1Â [atm][atm] of [pressure](https://en.wikipedia.org/wiki/Pressure). It doesnâ€™t make sense to say something like â€œ15Â Â°CÂ +Â 33Â Â°CÂ =Â 48Â Â°Câ€, unless we take â€œ33Â Â°Câ€ to mean a [difference](https://en.wikipedia.org/wiki/Subtraction) (or [displacement][displacement]) between two temperature points, rather than a particular temperature. Likewise, if we add two pitch-class sequences together, each pair of pitch-classes being added together might be asking a question like: â€œwhat is Câ™¯Â +Â Eâ™­?â€. Clearly, this doesnâ€™t have an answer without â€” at the very least â€” some more context. If thereâ€™s some _origin_ that weâ€™re adding them _relative to_, then sure. But in general, there need not be any particular origin. Thus, pitch-class addition (much like pitch addition) is essentially an affine (or torsor) operation: weâ€™re never really asking anything like â€œwhat is Câ™¯Â +Â Eâ™­?â€, but rather, something more like â€œwhat is Câ™¯Â +Â 3Â [semitones](https://en.wikipedia.org/wiki/Semitone)?â€.

  So, defining what makes a function an automorphism for our purposes as â€œlinear bijection from â„³<sup>ğ‘›</sup> to â„³<sup>ğ‘›</sup>â€ was kind of a lie this whole time. Sort of. We just have to accommodate the fact that â„³<sup>ğ‘›</sup> is secretly affine, on the insideâ€¦ So change that to â€œaffinity of â„³<sup>ğ‘›</sup>â€! And then forget about it!! Just like we forgot about the origin!!!
- ğ‚<sub>t</sub><sup>ğ‘˜</sup>: Temporal [circular shift](https://en.wikipedia.org/wiki/Circular_shift) by ğ‘˜ positions. This operation amounts to shifting the elements of the duration sequence to the right by ğ‘˜ positions (ğ‘˜ is possibly negative, which would change the direction to leftwards), â€œwrapping aroundâ€ so that elements shifted off of one side cycle around to the other. We restrict ğ‘˜ so that ğ‘˜Â âˆˆÂ [â„¤](https://en.wikipedia.org/wiki/Integer)Â [âˆ–][complement]Â {0}, because ğ‚<sub>t</sub><sup>0</sup>Â =Â ğ“˜.

  Like with ğ‘<sub>t</sub> and ğ‘<sub>p</sub>, we take the operation ğ‚<sup>ğ‘˜</sup> (circular shift by ğ‘˜ positions) and split it out into a temporal version (ğ‚<sub>t</sub><sup>ğ‘˜</sup>) and a pitch version (ğ‚<sub>p</sub><sup>ğ‘˜</sup>). So we have: ğ‚<sub>t</sub><sup>ğ‘˜</sup>&#x2062;ğ‚<sub>p</sub><sup>ğ‘˜</sup>Â =Â ğ‚<sub>p</sub><sup>ğ‘˜</sup>&#x2062;ğ‚<sub>t</sub><sup>ğ‘˜</sup>Â =Â ğ‚<sup>ğ‘˜</sup>.

  Itâ€™s reasonably easy to see that ğ‚<sub>t</sub><sup>ğ‘˜</sup> is linear. Consider two sequences of durations ğ and ğœ, both of length ğ‘›. Let ğÂ â‰”Â âŸ¨ğ‘‘<sub>0</sub>,Â ğ‘‘<sub>1</sub>,Â ğ‘‘<sub>2</sub>,Â â‹¯âŸ©, and let ğœÂ â‰”Â âŸ¨ğ‘<sub>0</sub>,Â ğ‘<sub>1</sub>,Â ğ‘<sub>2</sub>,Â â‹¯âŸ©. We can use ğ and ğœ as representative of members of â„³<sup>ğ‘›</sup>, because ğ‚<sub>t</sub><sup>ğ‘˜</sup> only affects durations, and leaves pitches untouched. Then, to show that ğ‚<sub>t</sub><sup>ğ‘˜</sup> is [additive](https://en.wikipedia.org/wiki/Additive_map), we just need to show that

  ğ‚<sub>t</sub><sup>ğ‘˜</sup>&#x2062;(ğÂ +Â ğœ) = ğ‚<sub>t</sub><sup>ğ‘˜</sup>&#x2062;ğÂ +Â ğ‚<sub>t</sub><sup>ğ‘˜</sup>&#x2062;ğœ.

  Considering the left-hand side of the above equality: [For any given](https://en.wikipedia.org/wiki/Universal_quantification) index ğ‘– such that 0Â â‰¤Â ğ‘–Â \<Â ğ‘›, ğÂ +Â ğœ computes the [sum](https://en.wikipedia.org/wiki/Addition) ğ‘‘<sub>ğ‘–</sub>Â +Â ğ‘<sub>ğ‘–</sub>, and this sum becomes the ğ‘–[th](https://en.wikipedia.org/wiki/Ordinal_number) element of ğÂ +Â ğœ. Then, [applying](https://en.wikipedia.org/wiki/Function_application) ğ‚<sub>t</sub><sup>ğ‘˜</sup> to ğÂ +Â ğœ shifts this ğ‘–th element to the (ğ‘–Â +Â ğ‘˜)th ([mod](https://en.wikipedia.org/wiki/Modular_arithmetic)Â ğ‘›) element of the resulting sequence.

  Considering the right-hand side of the above equality: For any given index ğ‘– such that 0Â â‰¤Â ğ‘–Â \<Â ğ‘›, ğ‚<sub>t</sub><sup>ğ‘˜</sup> shifts ğ‘‘<sub>ğ‘–</sub> to be the (ğ‘–Â +Â ğ‘˜)th (ğ—†ğ—ˆğ–½Â ğ‘›) element of ğ‚<sub>t</sub><sup>ğ‘˜</sup>&#x2062;ğ, and ğ‚<sub>t</sub><sup>ğ‘˜</sup> shifts ğ‘<sub>ğ‘–</sub> to be the (ğ‘–Â +Â ğ‘˜)th (ğ—†ğ—ˆğ–½Â ğ‘›) element of ğ‚<sub>t</sub><sup>ğ‘˜</sup>&#x2062;ğœ. Then, ğ‚<sub>t</sub><sup>ğ‘˜</sup>&#x2062;ğÂ +Â ğ‚<sub>t</sub><sup>ğ‘˜</sup>&#x2062;ğœ computes the sum ğ‘‘<sub>ğ‘–</sub>Â +Â ğ‘<sub>ğ‘–</sub> at the (ğ‘–Â +Â ğ‘˜)th (ğ—†ğ—ˆğ–½Â ğ‘›) index, and it remains the (ğ‘–Â +Â ğ‘˜)th (ğ—†ğ—ˆğ–½Â ğ‘›) element of the resulting sequence.

  Thus, for all ğ‘–, both sides of the above equality compute the sum ğ‘‘<sub>ğ‘–</sub>Â +Â ğ‘<sub>ğ‘–</sub> and make it the (ğ‘–Â +Â ğ‘˜)th (ğ—†ğ—ˆğ–½Â ğ‘›) element of the resulting sequence.

  Showing [homogeneity](https://en.wikipedia.org/wiki/Homogeneous_function) of degree 1 is even easier. Let ğ‘ be any rational number. For any given index ğ‘– such that 0Â â‰¤Â ğ‘–Â \<Â ğ‘›, ğ‚<sub>t</sub><sup>ğ‘˜</sup>&#x2062;(ğ‘Â â‹…Â ğ) first computes the [product][product] ğ‘ğ‘‘<sub>ğ‘–</sub>, and then ğ‚<sub>t</sub><sup>ğ‘˜</sup> shifts it to be the (ğ‘–Â +Â ğ‘˜)th (ğ—†ğ—ˆğ–½Â ğ‘›) element of the resulting sequence. Likewise, ğ‘Â â‹…Â (ğ‚<sub>t</sub><sup>ğ‘˜</sup>&#x2062;ğ) first shifts ğ‘‘<sub>ğ‘–</sub> to the (ğ‘–Â +Â ğ‘˜)th (ğ—†ğ—ˆğ–½Â ğ‘›) index, and then ğ‘ğ‘‘<sub>ğ‘–</sub> is computed at that index, and it stays there as the (ğ‘–Â +Â ğ‘˜)th (ğ—†ğ—ˆğ–½Â ğ‘›) element of the resulting sequence. Thus, ğ‚<sub>t</sub><sup>ğ‘˜</sup>&#x2062;(ğ‘Â â‹…Â ğ)Â =Â ğ‘Â â‹…Â (ğ‚<sub>t</sub><sup>ğ‘˜</sup>&#x2062;ğ).
- ğ‚<sub>p</sub><sup>ğ‘˜</sup>: Pitch circular shift by ğ‘˜ positions. This operation amounts to shifting the elements of the pitch sequence to the right by ğ‘˜ positions (ğ‘˜ is possibly negative, which would change the direction to leftwards), â€œwrapping aroundâ€ so that elements shifted off of one side cycle around to the other. Again, we restrict ğ‘˜ so that ğ‘˜Â âˆˆÂ [â„¤](https://en.wikipedia.org/wiki/Integer)Â [âˆ–][complement]Â {0}, because ğ‚<sub>p</sub><sup>0</sup>Â =Â ğ“˜.

  Now that we have both ğ‘<sub>p</sub> and ğ‚<sub>p</sub><sup>ğ‘˜</sup>, we have a (non[abelian](https://en.wikipedia.org/wiki/Abelian_group)) [group][group] with a [generating set](https://en.wikipedia.org/wiki/Generating_set_of_a_group) {ğ‚<sub>p</sub><sup>1</sup>,Â ğ‘<sub>p</sub>}. This is actually a [dihedral group](https://en.wikipedia.org/wiki/Dihedral_group) (the group of [symmetries][symmetry] of a [regular polygon](https://en.wikipedia.org/wiki/Regular_polygon)): ğ‚<sub>p</sub><sup>ğ‘˜</sup> corresponds to a [rotation](https://en.wikipedia.org/wiki/Rotational_symmetry), and ğ‘<sub>p</sub> corresponds to a [reflection](https://en.wikipedia.org/wiki/Reflection_symmetry). In particular, this is D<sub>2&#x2062;ğ‘›</sub>: the symmetry group of a regular ğ‘›-[gon](https://en.wikipedia.org/wiki/Polygon), so called because D<sub>2&#x2062;ğ‘›</sub> is of order 2&#x2062;ğ‘› (ğ‘› rotations, each of which can be reflected, and reflection is an [involution][involution]). This group [acts](https://en.wikipedia.org/wiki/Group_action) on the set of length ğ‘› sequences of pitch-classes, and each [orbit](https://en.wikipedia.org/wiki/Group_action#Orbits_and_stabilizers) of this group action is an [12-ary bracelet][necklace] of length ğ‘›. We can count up exactly how many ğ‘˜-ary bracelets of length ğ‘› there are; see [OEIS A081720](https://oeis.org/A081720). I wrote a little [Python][python] program that can count bracelets (and count necklaces; see [OEIS A054631](https://oeis.org/A054631)), which you can find at [bracelets\.py](bracelets.py). This Python program defines a function `bracelet_count(n, k)`, which returns the number of `k`-ary bracelets of length `n`. Because there are 20 notes in the subject of _cervineâ€™s Theme_, we can calculate `bracelet_count(20, 12)`; that is, the number of 12-ary bracelets of length 20:

  95&#x2007;844&#x2007;000&#x2007;013&#x2007;966&#x2007;260&#x2007;420.

  Thatâ€™s roughly 96 quintillion ([short scale](https://en.wikipedia.org/wiki/Long_and_short_scale); 96 trillion in the long scale), or â‰ˆ[9\.6Â â‹…Â 10<sup>19</sup>](https://en.wikipedia.org/wiki/Scientific_notation). Of course, not all 12 pitch-classes are used in the subject; only seven of them are. `bracelet_count(20, 7)` is 1&#x2007;994&#x2007;807&#x2007;229&#x2007;453&#x2007;766, which is roughly two quadrillion, or â‰ˆ2Â â‹…Â 10<sup>15</sup>.

  Similar comments apply to the group with a generating set {ğ‚<sub>t</sub><sup>1</sup>,Â ğ‘<sub>t</sub>} (except that the bracelets are now technically âˆ-ary instead of 12-ary, because [â„š](https://en.wikipedia.org/wiki/Rational_number) has an [infinite cardinality](https://en.wikipedia.org/wiki/Infinite_set)). And again, to the group with a generating set {ğ‚<sup>1</sup>,Â ğ‘} (the bracelets are technically âˆ-ary here as well). Although the duration bracelets are âˆ-ary _in general_, we only have three â€œcoloursâ€ represented in the actual subject of _cervineâ€™s Theme_: [1â„16](https://en.wikipedia.org/wiki/Sixteenth_note), [1â„8](https://en.wikipedia.org/wiki/Eighth_note), and [3â„16](https://en.wikipedia.org/wiki/Dotted_note). We can count the number of possible 3-ary bracelets of length 20 with `bracelet_count(20, 3)`: 87&#x2007;230&#x2007;157, or â‰ˆ8\.7Â â‹…Â 10<sup>7</sup>.

  Note that this is not the only place in music where bracelets naturally arise: [pitch-class sets][pc-set] are often thought of as 2-ary bracelets of length 12 whose alphabet is [{0,Â 1}](https://en.wikipedia.org/wiki/Boolean_domain) â€” a â€œ0â€ represents a pitch-classâ€™s absence from the set, and a â€œ1â€ represents its presence. For example, the pitch-class set [{C,Â E,Â G}](https://en.wikipedia.org/wiki/Major_chord) can be encoded as an element of [ğ—£](https://en.wikipedia.org/wiki/Power_set)(â„¤â§¸12â„¤), like so (picking the pitch-class C as the [origin][origin]): {0,Â 4,Â 7}. Then, the [string][string] representation would be â€œ100010010000â€, where all 12 [characters][character] are â€œ0â€, except for the 0th, 4th, and 7th ones. Rotation represents transposition (e\.g. â€œ100010010000â€Â â†¦Â â€œ001000100100â€ â‰˜ {0,Â 4,Â 7}Â â†¦Â {2,Â 6,Â 9}), and reflections represent pitch-class inversion (e\.g. â€œ100010010000â€Â â†¦Â â€œ000010010001â€ â‰˜ {0,Â 4,Â 7}Â â†¦Â [{4,Â 7,Â 11}](https://en.wikipedia.org/wiki/Minor_chord)). This is thus using a â€œ[horizontal](https://en.wikipedia.org/wiki/Musical_notation)â€ axis of reflection, unlike with [â§¼](https://en.wikipedia.org/wiki/Generating_set_of_a_group){ğ‚<sup>1</sup>,Â ğ‘}[â§½](https://en.wikipedia.org/wiki/Generating_set_of_a_group), which is using a â€œverticalâ€ axis of reflection (i\.e. rotation represents rotating the order of the notes, and reflections represent retrogradation). The â€œnormal formâ€ of a pitch-class set ([see a list here](https://en.wikipedia.org/wiki/List_of_pitch-class_sets)) is the element of the bracelet that is the most left-packed. â€œMost left-packedâ€ means that â€” reading from right to left â€” of highest importance is maximising the number of â€œ0â€s before the first â€œ1â€; of second-highest importance is maximising the number of â€œ0â€s until the next â€œ1â€, and so onâ€¦â€¡ We can also count the number of possible pitch-class set bracelets with `bracelet_count(12, 2)`: 224.
- ğ’<sub>ğ‘</sub>: [Metric modulation](https://en.wikipedia.org/wiki/Metric_modulation) by a factor of ğ‘, a\.k\.a. scalar multiplication by (1,Â ğ‘). This function is so named because it effectively changes the **s**peed at which the melody is played.

  Although in principle, this function makes perfect sense for any ğ‘Â âˆˆÂ â„š<sup>+</sup>, weâ€™re going to restrict ğ‘ so that ğ‘Â âˆˆÂ {â…”, Â¾, 4â„3, 3â„2}. One reason is that slowing down or speeding up the melody by a factor of â‰¥2 is just too much, and a factor of exactly 2 [doesnâ€™t change much anyways](https://en.wikipedia.org/wiki/Alla_breve). Another reason is that basically all rational numbers in the [interval][interval] (Â½,Â 2) are too ugly for practical use. The only [numerators and denominators](https://en.wikipedia.org/wiki/Fraction) that are really acceptable here are elements of {1, 2, 3, 4}. That way, we can start with duration values that are [integer powers of 2](https://en.wikipedia.org/wiki/Power_of_two) ([whole notes](https://en.wikipedia.org/wiki/Whole_note), [half notes](https://en.wikipedia.org/wiki/Half_note), [quarter notes](https://en.wikipedia.org/wiki/Quarter_note), [eighth notes](https://en.wikipedia.org/wiki/Eighth_note), â€¦), and not end up with anything more terrible than a [triplet](https://en.wikipedia.org/wiki/Tuplet#Triplet). Also, we donâ€™t include ğ‘Â =Â 1 for the simple reason that ğ’<sub>1</sub>Â =Â ğ“˜. Because Iâ€™m allowing 3 as a denominator, repeated application of ğ’<sub>ğ‘</sub> can get a bit hairy ([non](https://en.wikipedia.org/wiki/9)[tuplets](https://en.wikipedia.org/wiki/Tuplet), anyone?), but thatâ€™s acceptable so long as the repeated applications donâ€™t happen all at once â€” single applications can be accompanied by actual [tempo](https://en.wikipedia.org/wiki/Tempo) changes, when appropriate.

  Because this is just scalar multiplication by (1,Â ğ‘) â€” where ğ‘Â â‰ Â 0 â€” this is a linear bijection.

And, finally, one more transformation that I came up with that is a bitâ€¦ questionableâ€¦:

- ğ„<sub>ğ‘</sub>: Temporal â€œextensionâ€/â€œretractionâ€. This function is one that I came up with entirely on my own â€” _as far as I know_, this is not a musical transformation with any literature behind itâ¦ (probably because it sucks lmfao).

  Originally, I wanted to call this function â€œtemporal increment/decrementâ€. The first idea was to express the duration sequence as [the smallest possible](https://en.wikipedia.org/wiki/Least_common_multiple) sequence of [integers](https://en.wikipedia.org/wiki/Integer), e\.g. âŸ¨1,Â Â½âŸ© would become âŸ¨2,Â 1âŸ©. Then, each integer in the sequence would simply be incremented (or conversely, decremented) by adding (or conversely, subtracting) 1. If you literally do exactly that, you get some nonsense. Such a function is not invertible (consider incrementing the sequence âŸ¨1,Â 3âŸ© to get âŸ¨2,Â 4âŸ©, which [gets reduced](https://en.wikipedia.org/wiki/Greatest_common_divisor) to âŸ¨1,Â 2âŸ© and then decremented to âŸ¨0,Â 1âŸ©; â…“Â â‰ Â 0â„1), but we obviously want incrementing and decrementing to be inverses of one another.

  Interestingly, there seems to be a way to do this (viz. add the same quantity to each duration in the sequence) that is both invertible _and linear_. The obvious way to do it is to simply choose some ğ‘Â âˆˆÂ â„š and then add the vector âŸ¨ğ‘,Â ğ‘,Â ğ‘,Â ğ‘,Â â‹¯âŸ©; but as we saw above with ğ“<sup>ğ‘˜</sup>, this generally gets you an _affinity_, but _not_ a linear mapping. That being said, weâ€™ve already accepted the generalisation from a linear space to an affine space, in order for ğ“<sup>ğ‘˜</sup> to remain a true automorphism (i\.e. an affinity). But simply adding âŸ¨ğ‘,Â ğ‘,Â ğ‘,Â ğ‘,Â â‹¯âŸ© has another issue: the value of ğ‘ is insensitive to the magnitudes of the durations in the input vector. If we preordain the allowable values for ğ‘, thereâ€™s nothing in particular stopping us from accidentally getting nonpositive duration(s) in the output vector. As mentioned before, nonpositive durations are something that we can encode, but donâ€™t really want to deal with. This linear method for performing temporal â€œextensionâ€/â€œretractionâ€ is _questionable_ just because it still does **not** guarantee that the output vector only contains positive durations. However, it has the advantage of being linear, and of incrementing/decrementing durations by an amount that actually depends on the input in some way.

  For incrementing (for simplicity, we only consider ğ„<sub>2</sub>, but any ğ„<sub>ğ‘</sub> such that ğ‘Â \>Â 1 is a valid increment), we double (i\.e. multiply by ğ‘) the duration of the [zeroth](https://en.wikipedia.org/wiki/Zero-based_numbering) element in the duration sequence, and then ensure that all other elements are increased (additively; in this case, increased by the original duration of the zeroth element) by the same amount. If the zeroth duration in the sequence is ğ‘‘<sub>0</sub>, then this amounts to simply adding âŸ¨ğ‘‘<sub>0</sub>,Â ğ‘‘<sub>0</sub>,Â ğ‘‘<sub>0</sub>,Â ğ‘‘<sub>0</sub>,Â â‹¯âŸ©. For decrementing (for simplicity, we only consider ğ„<sub>Â½</sub>, but any ğ„<sub>ğ‘</sub> such that ğ‘Â \<Â 1 is a valid decrement), we halve (i\.e. multiply by ğ‘) the duration of the zeroth element in the duration sequence, and then ensure that all other elements are decreased (additively; in this case, decreased by half of the original duration of the zeroth element) by the same amount. If the zeroth duration in the sequence is ğ‘‘<sub>0</sub>, then this amounts to simply adding âŸ¨âˆ’ğ‘‘<sub>0</sub>â§¸2,Â âˆ’ğ‘‘<sub>0</sub>â§¸2,Â âˆ’ğ‘‘<sub>0</sub>â§¸2,Â âˆ’ğ‘‘<sub>0</sub>â§¸2,Â â‹¯âŸ©. As a result of applying ğ„<sub>ğ‘</sub>, given an entirely positive input duration sequence, all durations remain positive [iff](https://en.wikipedia.org/wiki/If_and_only_if) (1Â âˆ’Â ğ‘)&#x2062;ğ‘‘<sub>0</sub>Â \<Â [ğ—†ğ—‚ğ—‡](https://en.wikipedia.org/wiki/Greatest_element_and_least_element){ğ‘‘<sub>ğ‘–</sub>Â [|](https://en.wikipedia.org/wiki/Set-builder_notation)Â 0Â â‰¤Â ğ‘–Â \<Â ğ‘›}. The use of â€œğ—†ğ—‚ğ—‡â€ here might inspire a version of this function that looks not at the _zeroth_ element of the duration sequence, but rather, looks for whatever element of the duration sequence is the _smallest_. This has the very neat property that a fully positive input always yields a fully positive output. However, although it is invertible (I think), itâ€™s nonlinear, and Iâ€™m pretty sure that itâ€™s not affine, either.

  To prove that ğ„<sub>ğ‘</sub> is linear, consider two duration sequences ğ and ğœ. Let ğÂ â‰”Â âŸ¨ğ‘‘<sub>0</sub>,Â ğ‘‘<sub>1</sub>,Â ğ‘‘<sub>2</sub>,Â â‹¯âŸ©, and let ğœÂ â‰”Â âŸ¨ğ‘<sub>0</sub>,Â ğ‘<sub>1</sub>,Â ğ‘<sub>2</sub>,Â â‹¯âŸ©. Then, to show that ğ„<sub>ğ‘</sub> is [additive](https://en.wikipedia.org/wiki/Additive_map), we need to show that ğ„<sub>ğ‘</sub>&#x2062;(ğÂ +Â ğœ)Â =Â ğ„<sub>ğ‘</sub>&#x2062;ğÂ +Â ğ„<sub>ğ‘</sub>&#x2062;ğœ:

  ğ„<sub>ğ‘</sub>&#x2062;(âŸ¨ğ‘‘<sub>0</sub>,Â ğ‘‘<sub>1</sub>,Â ğ‘‘<sub>2</sub>,Â â‹¯âŸ©Â +Â âŸ¨ğ‘<sub>0</sub>,Â ğ‘<sub>1</sub>,Â ğ‘<sub>2</sub>,Â â‹¯âŸ©) = ğ„<sub>ğ‘</sub>&#x2062;âŸ¨ğ‘‘<sub>0</sub>,Â ğ‘‘<sub>1</sub>,Â ğ‘‘<sub>2</sub>,Â â‹¯âŸ©Â +Â ğ„<sub>ğ‘</sub>&#x2062;âŸ¨ğ‘<sub>0</sub>,Â ğ‘<sub>1</sub>,Â ğ‘<sub>2</sub>,Â â‹¯âŸ©

  ğ„<sub>ğ‘</sub>&#x2062;âŸ¨ğ‘‘<sub>0</sub>Â +Â ğ‘<sub>0</sub>,Â ğ‘‘<sub>1</sub>Â +Â ğ‘<sub>1</sub>,Â ğ‘‘<sub>2</sub>Â +Â ğ‘<sub>2</sub>,Â â‹¯âŸ© = âŸ¨ğ‘ğ‘‘<sub>0</sub>,Â ğ‘‘<sub>1</sub>Â +Â (ğ‘Â âˆ’Â 1)&#x2062;ğ‘‘<sub>0</sub>,Â ğ‘‘<sub>2</sub>Â +Â (ğ‘Â âˆ’Â 1)&#x2062;ğ‘‘<sub>0</sub>,Â â‹¯âŸ©Â +Â âŸ¨2ğ‘<sub>0</sub>,Â ğ‘<sub>1</sub>Â +Â (ğ‘Â âˆ’Â 1)&#x2062;ğ‘<sub>0</sub>,Â ğ‘<sub>2</sub>Â +Â (ğ‘Â âˆ’Â 1)&#x2062;ğ‘<sub>0</sub>,Â â‹¯âŸ©

  ğ„<sub>ğ‘</sub>&#x2062;âŸ¨ğ‘‘<sub>0</sub>Â +Â ğ‘<sub>0</sub>,Â ğ‘‘<sub>1</sub>Â +Â ğ‘<sub>1</sub>,Â ğ‘‘<sub>2</sub>Â +Â ğ‘<sub>2</sub>,Â â‹¯âŸ© = âŸ¨ğ‘ğ‘‘<sub>0</sub>Â +Â ğ‘ğ‘<sub>0</sub>,Â ğ‘‘<sub>1</sub>Â +Â (ğ‘Â âˆ’Â 1)&#x2062;ğ‘‘<sub>0</sub>Â +Â ğ‘<sub>1</sub>Â +Â (ğ‘Â âˆ’Â 1)&#x2062;ğ‘<sub>0</sub>,Â ğ‘‘<sub>2</sub>Â +Â (ğ‘Â âˆ’Â 1)&#x2062;ğ‘‘<sub>0</sub>Â +Â ğ‘<sub>2</sub>Â +Â (ğ‘Â âˆ’Â 1)&#x2062;ğ‘<sub>0</sub>,Â â‹¯âŸ©

  âŸ¨ğ‘ğ‘‘<sub>0</sub>Â +Â ğ‘ğ‘<sub>0</sub>,Â ğ‘‘<sub>1</sub>Â +Â ğ‘<sub>1</sub>Â +Â (ğ‘Â âˆ’Â 1)&#x2062;ğ‘‘<sub>0</sub>Â +Â (ğ‘Â âˆ’Â 1)&#x2062;ğ‘<sub>0</sub>,Â ğ‘‘<sub>2</sub>Â +Â ğ‘<sub>2</sub>Â +Â (ğ‘Â âˆ’Â 1)&#x2062;ğ‘‘<sub>0</sub>Â +Â (ğ‘Â âˆ’Â 1)&#x2062;ğ‘<sub>0</sub>,Â â‹¯âŸ© = âŸ¨ğ‘ğ‘‘<sub>0</sub>Â +Â ğ‘ğ‘<sub>0</sub>,Â ğ‘‘<sub>1</sub>Â +Â ğ‘<sub>1</sub>Â +Â (ğ‘Â âˆ’Â 1)&#x2062;ğ‘‘<sub>0</sub>Â +Â (ğ‘Â âˆ’Â 1)&#x2062;ğ‘<sub>0</sub>,Â ğ‘‘<sub>2</sub>Â +Â ğ‘<sub>2</sub>Â +Â (ğ‘Â âˆ’Â 1)&#x2062;ğ‘‘<sub>0</sub>Â +Â (ğ‘Â âˆ’Â 1)&#x2062;ğ‘<sub>0</sub>,Â â‹¯âŸ©.

  And to show that ğ„<sub>ğ‘</sub> is [homogeneous](https://en.wikipedia.org/wiki/Homogeneous_function) of degree 1:

  ğ„<sub>ğ‘</sub>&#x2062;(ğ‘ŸÂ â‹…Â ğ) = ğ‘ŸÂ â‹…Â (ğ„<sub>ğ‘</sub>&#x2062;ğ)

  ğ„<sub>ğ‘</sub>&#x2062;(ğ‘ŸÂ â‹…Â âŸ¨ğ‘‘<sub>0</sub>,Â ğ‘‘<sub>1</sub>,Â ğ‘‘<sub>2</sub>,Â â‹¯âŸ©) = ğ‘ŸÂ â‹…Â (ğ„<sub>ğ‘</sub>&#x2062;âŸ¨ğ‘‘<sub>0</sub>,Â ğ‘‘<sub>1</sub>,Â ğ‘‘<sub>2</sub>,Â â‹¯âŸ©)

  ğ„<sub>ğ‘</sub>&#x2062;âŸ¨ğ‘Ÿğ‘‘<sub>0</sub>,Â ğ‘Ÿğ‘‘<sub>1</sub>,Â ğ‘Ÿğ‘‘<sub>2</sub>,Â â‹¯âŸ© = ğ‘ŸÂ â‹…Â âŸ¨ğ‘ğ‘‘<sub>0</sub>,Â ğ‘‘<sub>1</sub>Â +Â (ğ‘Â âˆ’Â 1)&#x2062;ğ‘‘<sub>0</sub>,Â ğ‘‘<sub>2</sub>Â +Â (ğ‘Â âˆ’Â 1)&#x2062;ğ‘‘<sub>0</sub>,Â â‹¯âŸ©

  âŸ¨ğ‘Ÿğ‘ğ‘‘<sub>0</sub>,Â ğ‘Ÿğ‘‘<sub>1</sub>Â +Â ğ‘Ÿ&#x2062;(ğ‘Â âˆ’Â 1)&#x2062;ğ‘‘<sub>0</sub>,Â ğ‘Ÿğ‘‘<sub>2</sub>Â +Â ğ‘Ÿ&#x2062;(ğ‘Â âˆ’Â 1)&#x2062;ğ‘‘<sub>0</sub>,Â â‹¯âŸ© = âŸ¨ğ‘Ÿğ‘ğ‘‘<sub>0</sub>,Â ğ‘Ÿğ‘‘<sub>1</sub>Â +Â ğ‘Ÿ&#x2062;(ğ‘Â âˆ’Â 1)&#x2062;ğ‘‘<sub>0</sub>,Â ğ‘Ÿğ‘‘<sub>2</sub>Â +Â ğ‘Ÿ&#x2062;(ğ‘Â âˆ’Â 1)&#x2062;ğ‘‘<sub>0</sub>,Â â‹¯âŸ©.

  I donâ€™t know whether or not I really want to use ğ„<sub>ğ‘</sub> at all, but if it seems appropriate, I might throw ğ„<sub>2</sub> into the mix, and possibly even ğ„<sub>Â½</sub> as well.

And, just to be clear on what the [inverses](https://en.wikipedia.org/wiki/Inverse_element) of these mutation functions are:

- [(ğ‘<sub>t</sub>)<sup>âˆ’1</sup>Â =Â ğ‘<sub>t</sub>][involution].
- (ğ‘<sub>p</sub>)<sup>âˆ’1</sup>Â =Â ğ‘<sub>p</sub>.
- (ğˆ<sub>p</sub>)<sup>âˆ’1</sup>Â =Â ğˆ<sub>p</sub>.
- (ğŒ<sub>5</sub>)<sup>âˆ’1</sup>Â =Â ğŒ<sub>5</sub>.
- (ğŒ<sub>7</sub>)<sup>âˆ’1</sup>Â =Â ğŒ<sub>7</sub>.
- (ğ“<sup>ğ‘˜</sup>)<sup>âˆ’1</sup>Â =Â ğ“<sup>âˆ’ğ‘˜</sup>.
- (ğ‚<sub>t</sub><sup>ğ‘˜</sup>)<sup>âˆ’1</sup>Â =Â ğ‚<sub>t</sub><sup>âˆ’ğ‘˜</sup>.
- (ğ‚<sub>p</sub><sup>ğ‘˜</sup>)<sup>âˆ’1</sup>Â =Â ğ‚<sub>p</sub><sup>âˆ’ğ‘˜</sup>.
- (ğ’<sub>ğ‘</sub>)<sup>âˆ’1</sup>Â =Â ğ’<sub>1â§¸ğ‘</sub>.
- (ğ„<sub>ğ‘</sub>)<sup>âˆ’1</sup>Â =Â ğ„<sub>1â§¸ğ‘</sub>.

As you can see, like half of them are involutionsâ€¦

##### In summaryâ€¦ (TL;DR)

I want to create a [set][set] of â€œmutation [functions][function]â€, any one of which can be applied to a [melody](https://en.wikipedia.org/wiki/Melody) to get another melody â€œ[of the same kind](https://en.wikipedia.org/wiki/Homomorphism)â€, in some appropriate sense. In order to get [invertibility](https://en.wikipedia.org/wiki/Inverse_element) (the [action](https://en.wikipedia.org/wiki/Group_action) of any mutation function can be [reversed](https://en.wikipedia.org/wiki/Multiplicative_inverse) by another mutation function â€” possibly the same one), and to get [closure][closure] â€” plus some slightly more obvious things like [association](https://en.wikipedia.org/wiki/Associative_property) and an [identity](https://en.wikipedia.org/wiki/Identity_element) â€” I want the set of mutation functions to form a [group][group] under the [operation](https://en.wikipedia.org/wiki/Binary_operation) of [function composition](https://en.wikipedia.org/wiki/Function_composition). In order to [formalise](https://en.wikipedia.org/wiki/Formal_language) what a â€œmelodyâ€ even is, I [encoded](https://en.wikipedia.org/wiki/Code) [pitches][pitch] as [pitch classes](https://en.wikipedia.org/wiki/Pitch_class) (basically, [elements][element] of [â„¤â§¸12â„¤](https://en.wikipedia.org/wiki/Modular_arithmetic#Integers_modulo_n)). This [loses some information](https://en.wikipedia.org/wiki/Surjective_function) (because of [octave equivalence](https://en.wikipedia.org/wiki/Octave#Equivalence)), but that information is left to the discretion of the [composer](https://en.wikipedia.org/wiki/Composer) (a\.k\.a. me) to reconstruct. Furthermore, I encoded [durations](https://en.wikipedia.org/wiki/Note_value) as [rational numbers](https://en.wikipedia.org/wiki/Rational_number), with the caveat that we remain agnostic about what [negative](https://en.wikipedia.org/wiki/Negative_number) durations mean (as long as they can be [inverted back to their positive counterpart][sign]). I called the set of pitch-classes ğ’«, and the set of durations ğ’Ÿ; thus, ğ’«<sup>[ğ‘›](https://en.wikipedia.org/wiki/Cartesian_product)</sup> is the set of all pitch-class [sequences](https://en.wikipedia.org/wiki/Sequence) of length ğ‘›, and likewise ğ’Ÿ<sup>ğ‘›</sup> the set of all duration sequences of length ğ‘›. By equipping ğ’«<sup>ğ‘›</sup> with â„¤â§¸12â„¤ as its [(commutative) ring](https://en.wikipedia.org/wiki/Commutative_ring) of [scalars][scalar], and ğ’Ÿ<sup>ğ‘›</sup> with [â„š](https://en.wikipedia.org/wiki/Rational_number) as its ring (even better: â„š is a [field][field], so ğ’Ÿ<sup>ğ‘›</sup> is ultimately a full-blown [vector space](https://en.wikipedia.org/wiki/Vector_space)) of scalars, both ğ’«<sup>ğ‘›</sup> and ğ’Ÿ<sup>ğ‘›</sup> take on the [structure][structure] of [modules][module]. By taking the [direct sum](https://en.wikipedia.org/wiki/Direct_sum) ğ’«<sup>ğ‘›</sup>Â âŠ•Â ğ’Ÿ<sup>ğ‘›</sup>, I got â„³<sup>ğ‘›</sup>, the set of all melodies of note length ğ‘›, which is also a module (with â„¤â§¸12â„¤Â [Ã—](https://en.wikipedia.org/wiki/Cartesian_product)Â â„š as its ring of scalars). The group that I seek (whose [members][element] are the aforementioned â€œmutation functionsâ€) is then [Aff](https://en.wikipedia.org/wiki/Affine_group)(â„³<sup>ğ‘›</sup>), the group of [affinities](https://en.wikipedia.org/wiki/Affine_transformation) from â„³<sup>ğ‘›</sup> to itself (a\.k\.a. [affine](https://en.wikipedia.org/wiki/Affine_space) [automorphisms](https://en.wikipedia.org/wiki/Automorphism)).

Now armed with a working definition of â€œmutation functionâ€, I considered a few of the mutation functions that I might actually want to use:

- ğ‘<sub>t</sub>: Temporal [retrograde][retrograde]. This reverses the order of the duration sequence.
- ğ‘<sub>p</sub>: Pitch retrograde. Similar to ğ‘<sub>t</sub>, but only retrogrades the pitches (instead of only retrograding the durations). So we have: ğ‘<sub>p</sub>&#x2062;ğ‘<sub>t</sub>Â =Â ğ‘<sub>t</sub>&#x2062;ğ‘<sub>p</sub>Â =Â ğ‘.
- ğˆ<sub>p</sub> or ğŒ<sub>11</sub>: Pitch [inversion][inversion]. We use ğŒ<sub>ğ‘˜</sub>ğ¦ to mean [scalar multiplication](https://en.wikipedia.org/wiki/Scalar_multiplication) of the melody ğ¦ (ğ¦Â [âˆˆ][element]Â â„³<sup>ğ‘›</sup>) by [(](https://en.wikipedia.org/wiki/Tuple)ğ‘˜,Â 1[)](https://en.wikipedia.org/wiki/Tuple). In the usual case of â€œinversionâ€, [octave](https://en.wikipedia.org/wiki/Octave) information is preserved, viz. the pitches are merely [reflected][reflection] about some pitch axis (_not_ a pitch-class axis). For this reason, this mutation function gets two â€œnamesâ€ ğˆ<sub>p</sub> and ğŒ<sub>11</sub>. We call it â€œğˆ<sub>p</sub>â€ when what we _really_ want is ordinary inversion, and â€œğŒ<sub>11</sub>â€ when weâ€™re talking only about pitch-classes and our fancy-dancy module encoding.
- ğŒ<sub>5</sub>: [Pitch multiplication][mul] by 5 (a\.k\.a. â€œ[circle of fourths](https://en.wikipedia.org/wiki/Circle_of_fifths)â€  transformationâ€). Because 5 is [coprime](https://en.wikipedia.org/wiki/Coprime_integers) with 12, this is an automorphism (in particular, itâ€™s invertible). Consider the sequence of elements of ğ’« that contains every element of ğ’« exactly once, in order: âŸ¨0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11âŸ©. Then we have:

  ğŒ<sub>5</sub>&#x2062;âŸ¨0,Â 1,Â 2,Â 3,Â 4,Â 5,Â 6,Â 7,Â 8,Â 9,Â 10,Â 11âŸ© = âŸ¨0,Â 5,Â 10,Â 3,Â 8,Â 1,Â 6,Â 11,Â 4,Â 9,Â 2,Â 7âŸ©.

  So we can call this the â€œcircle of fourthsâ€ transformation, because it transforms the [chromatic scale](https://en.wikipedia.org/wiki/Chromatic_scale) into a full tour of the circle of fourths.
- ğŒ<sub>7</sub>: Pitch multiplication by 7 (a\.k\.a. â€œ[circle of fifths](https://en.wikipedia.org/wiki/Circle_of_fifths) transformationâ€). Like with ğŒ<sub>5</sub>, 7 is also coprime with 12, so ğŒ<sub>7</sub> is an automorphism. Consider the sequence of elements of ğ’« that contains every element of ğ’« exactly once, in order: âŸ¨0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11âŸ©. Then we have:

  ğŒ<sub>7</sub>&#x2062;âŸ¨0,Â 1,Â 2,Â 3,Â 4,Â 5,Â 6,Â 7,Â 8,Â 9,Â 10,Â 11âŸ© = âŸ¨0,Â 7,Â 2,Â 9,Â 4,Â 11,Â 6,Â 1,Â 8,Â 3,Â 10,Â 5âŸ©.

  Note that the result here is essentially the retrograde of the result obtained by using ğŒ<sub>5</sub>. Just like ğŒ<sub>5</sub> is the â€œcircle of fourthsâ€ transformation, we can call this the â€œcircle of fifthsâ€ transformation, because it transforms the chromatic scale into a full tour of the circle of fifths.
- ğ“<sup>ğ‘˜</sup>: [Transposition][transpose] by ğ‘˜. I limit ğ‘˜ so that ğ‘˜Â â‰ Â 0, because ğ“<sup>0</sup> does nothing. And â€” not that it matters for our encoding here, as we are encoding pitches as pitch-classes â€” I want to also limit ğ‘˜ so that [|](https://en.wikipedia.org/wiki/Absolute_value)ğ‘˜[|](https://en.wikipedia.org/wiki/Absolute_value)Â â‰¤Â 6, because larger absolute values of ğ‘˜ (e\.g. ğ‘˜Â =Â âˆ’19) can be inverted and/or have [octaves](https://en.wikipedia.org/wiki/Octave#Equivalence) removed (âˆ’19Â [â†¦][map]Â 5). This is the only mutation function that Iâ€™m considering that is non[linear](https://en.wikipedia.org/wiki/Linear_map) (but it is affine, of course).
- ğ‚<sub>t</sub><sup>ğ‘˜</sup>: Temporal [circular shift](https://en.wikipedia.org/wiki/Circular_shift) by ğ‘˜ positions. This operation amounts to shifting the elements of the duration sequence to the right by ğ‘˜ positions (ğ‘˜ is possibly negative, which would change the direction to leftwards), â€œwrapping aroundâ€ so that elements shifted off of one side cycle around to the other. We restrict ğ‘˜ so that ğ‘˜Â âˆˆÂ [â„¤](https://en.wikipedia.org/wiki/Integer)Â [âˆ–][complement]Â {0}, because ğ‚<sub>t</sub><sup>0</sup> does nothing.
- ğ‚<sub>p</sub><sup>ğ‘˜</sup>: Pitch circular shift by ğ‘˜ positions. This operation amounts to shifting the elements of the pitch sequence to the right by ğ‘˜ positions, â€œwrapping aroundâ€ so that elements shifted off of one side cycle around to the other. Again, we restrict ğ‘˜ so that ğ‘˜Â âˆˆÂ â„¤Â âˆ–Â {0}.
- ğ’<sub>ğ‘</sub>: [Metric modulation](https://en.wikipedia.org/wiki/Metric_modulation) by a factor of ğ‘, a\.k\.a. scalar multiplication by (1,Â ğ‘). This function is so named because it effectively changes the **s**peed at which the melody is played. Although in principle, this function makes perfect sense for any ğ‘Â âˆˆÂ â„š<sup>+</sup>, Iâ€™m going to restrict ğ‘ so that ğ‘Â âˆˆÂ {â…”, Â¾, 4â„3, 3â„2}.
- ğ„<sub>ğ‘</sub>: Temporal â€œextensionâ€/â€œretractionâ€. This function is one that I came up with entirely on my own â€” _as far as I know_, this is not a musical transformation with any literature behind it (probably because it sucks lmfao). To [apply](https://en.wikipedia.org/wiki/Function_application) ğ„<sub>ğ‘</sub>, multiply the duration of the [zeroth](https://en.wikipedia.org/wiki/Zero-based_numbering) element in the duration sequence by ğ‘, and then ensure that all other elements are increased (additively!) by the same amount. If the zeroth duration in the sequence is ğ‘‘<sub>0</sub>, then this amounts to simply adding âŸ¨(ğ‘Â âˆ’Â 1)&#x2062;ğ‘‘<sub>0</sub>,Â (ğ‘Â âˆ’Â 1)&#x2062;ğ‘‘<sub>0</sub>,Â (ğ‘Â âˆ’Â 1)&#x2062;ğ‘‘<sub>0</sub>,Â â‹¯âŸ© to the inputâ€™s duration sequence. For simplicity, we only consider ğ„<sub>2</sub> and ğ„<sub>Â½</sub>.

##### Applying mutation functions stochastically

Now that we have a modest zoo of mutation functions, we need to actually _use_ them. As I said above:

> The basic idea here is to have a [melody](https://en.wikipedia.org/wiki/Melody) that appears in successive mutations \[â€¦\], with only the first variation being composed, and the mutations being randomly generated from it. Then, the rest of the piece will be composed _around_ this sequence of mutations, to accommodate it, [harmonise](https://en.wikipedia.org/wiki/Harmony) with it, justify it, etc.

So the idea is simple:

1. I start with the prime form of the subject (as seen in â€œThe subjectâ€ above), ğ¬. This melody is â€œmutatedâ€ by the identity function (ğ“˜), which serves as ğ…<sub>0</sub>.
2. I [randomly select](https://en.wikipedia.org/wiki/Stochastic_process) a single mutation function ğ…<sub>ğ‘˜</sub> (where ğ…<sub>ğ‘˜âˆ’1</sub> is the previously selected mutation function), and use it to obtain the melody ğ…<sub>ğ‘˜</sub>&#x2062;ğ…<sub>ğ‘˜âˆ’1</sub>&#x2062;â‹¯&#x2062;ğ…<sub>1</sub>&#x2062;ğ…<sub>0</sub>&#x2062;ğ¬. Call this melody ğ¬<sub>ğ‘˜</sub>.
3. I [concatenate](https://en.wikipedia.org/wiki/Concatenation) ğ¬<sub>ğ‘˜</sub> onto the end of the [part][part] (in this case, a [glockenspiel](https://en.wikipedia.org/wiki/Glockenspiel) part) written so far. This concatenation results in the part now being ğ¬<sub>0</sub>[â§º](https://en.wikipedia.org/wiki/Concatenation)ğ¬<sub>1</sub>â§ºâ‹¯â§ºğ¬<sub>ğ‘˜âˆ’1</sub>â§ºğ¬<sub>ğ‘˜</sub> (which is a member of â„³<sup>(ğ‘˜+1)&#x2062;ğ‘›</sup>).
4. I then repeat steps 2â€“3 as many times as I see fit, writing the other parts around it as I go.

For step 2 (the â€œrandom selectionâ€ step), Iâ€™m going to use a battle-tested [CSPRNG](https://en.wikipedia.org/wiki/Cryptographically-secure_pseudorandom_number_generator)â¸¸ to ensure that I get good [statistical](https://en.wikipedia.org/wiki/Statistics) properties from my [randomness](https://en.wikipedia.org/wiki/Randomness) â€” and at the same time, the generated sequence of [pseudorandom](https://en.wikipedia.org/wiki/Pseudorandomness) [bits](https://en.wikipedia.org/wiki/Bit) should be reproducible by anyone who knows the [seed](https://en.wikipedia.org/wiki/Random_seed).

Very importantly, I also need to know the [probability space](https://en.wikipedia.org/wiki/Probability_space) that Iâ€™m consulting to perform step 2. Weâ€™ll call the probability space [(Î©,Â ğ’œ,Â ğ‘ƒ)](https://en.wikipedia.org/wiki/Measure_space). Î© is the [sample space](https://en.wikipedia.org/wiki/Sample_space) (the [set][set] of all possible [outcomes][outcome]), and ğ’œ is some [Ïƒ-algebra](https://en.wikipedia.org/wiki/%CE%A3-algebra) on Î©, so that (Î©,Â ğ’œ) is a [measurable space](https://en.wikipedia.org/wiki/Measurable_space). Then, ğ‘ƒ is a [measure][measure] (in particular, a [PMF](https://en.wikipedia.org/wiki/Probability_mass_function)) so that ğ‘ƒÂ [:](https://en.wikipedia.org/wiki/Type_theory)Â ğ’œÂ â†’Â [\[0,Â 1\]](https://en.wikipedia.org/wiki/Unit_interval), and so that ğ‘ƒ(Î©)Â =Â 1. Iâ€™m not incredibly interested in ğ’œ (because Î© is going to be [finite](https://en.wikipedia.org/wiki/Finite_set) anyways), so we can just let ğ’œÂ â‰”Â [ğ—£](https://en.wikipedia.org/wiki/Power_set)(Î©). On the other hand, I _am_ quite interested in both Î© and ğ‘ƒ.

Weâ€™ll let Î© be the [union][union] of the following sets (note that weâ€™re only considering nontrivial melodies where ğ‘›Â \>Â 1):

- {ğ‘<sub>t</sub>, ğ‘<sub>p</sub>}
- {ğˆ<sub>p</sub>}
- {ğŒ<sub>5</sub>, ğŒ<sub>7</sub>}
- {ğ“<sup>ğ‘˜</sup>Â [|](https://en.wikipedia.org/wiki/Set-builder_notation)Â ğ‘˜Â [âˆˆ][element]Â [â„¤](https://en.wikipedia.org/wiki/Integer)Â [âˆ–][complement]Â {0}Â [âˆ§](https://en.wikipedia.org/wiki/Logical_conjunction)Â âˆ’6Â â‰¤Â ğ‘˜Â â‰¤Â 6}
- {ğ‚<sub>t</sub><sup>ğ‘˜</sup>Â |Â ğ‘˜Â âˆˆÂ â„¤Â âˆ§Â 0Â \<Â ğ‘˜Â \<Â ğ‘›}
- {ğ‚<sub>p</sub><sup>ğ‘˜</sup>Â |Â ğ‘˜Â âˆˆÂ â„¤Â âˆ§Â 0Â \<Â ğ‘˜Â \<Â ğ‘›}
- {ğ’<sub>ğ‘</sub>Â |Â ğ‘Â âˆˆÂ {[â…”](https://en.wikipedia.org/wiki/Rational_number),Â Â¾,Â 4â„3,Â 3â„2}}
- {ğ„<sub>2</sub>, ğ„<sub>Â½</sub>}.

Then, weâ€™ll define ğ‘ƒ based on the above list: [for any](https://en.wikipedia.org/wiki/Universal_quantification) two [events][event] ğ’¶,Â ğ’·Â âˆˆÂ ğ’œ that are in the above list, ğ‘ƒ(ğ’¶)Â =Â ğ‘ƒ(ğ’·). Because the union of the events in the above list is just Î©, this is a kind of [discrete uniform distribution](https://en.wikipedia.org/wiki/Discrete_uniform_distribution). But ğ‘ƒ as a whole is **not** uniform over Î©. Each such event ğ’¶ should have a kind of uniform â€œsub-distributionâ€, if you will: for any two outcomes Ï‰,Â Î±Â âˆˆÂ ğ’¶, ğ‘ƒ({Ï‰})Â =Â ğ‘ƒ({Î±}). Well, with just one exception: for any valid ğ“<sup>ğ‘˜</sup> (that is, ğ‘ƒ({ğ“<sup>ğ‘˜</sup>})Â \>Â 0) [s\.t.](https://en.wiktionary.org/wiki/s.t.#Conjunction) âˆ’6Â \<Â ğ‘˜Â \<Â 6, we want ğ‘ƒ({ğ“<sup>âˆ’6</sup>})Â =Â ğ‘ƒ({ğ“<sup>6</sup>})Â =Â ğ‘ƒ({ğ“<sup>ğ‘˜</sup>})â§¸2. This takes away the unfair advantage that the [tritone](https://en.wikipedia.org/wiki/Tritone) has for being its own [inverse][inversion], without biasing ğ“<sup>ğ‘˜</sup> to go in a particular direction (down vs. up). So, ultimately, the probabilities look something like this:

|                                                                           Ï‰ (s\.t. Ï‰Â âˆˆÂ Î©) |     ğ‘ƒ({Ï‰}) |
| ----------------------------------------------------------------------------------------: | ---------: |
|                                                                             ğ‘<sub>t</sub> |       1â§¸16 |
|                                                                             ğ‘<sub>p</sub> |       1â§¸16 |
|                                                                             ğˆ<sub>p</sub> |        1â§¸8 |
|                                                                             ğŒ<sub>5</sub> |       1â§¸16 |
|                                                                             ğŒ<sub>7</sub> |       1â§¸16 |
| ğ‘˜Â â‰ Â [Â±](https://en.wikipedia.org/wiki/Plus%E2%80%93minus_sign)6; some valid ğ“<sup>ğ‘˜</sup> |       1â§¸88 |
|                                                                            ğ“<sup>âˆ’6</sup> |      1â§¸176 |
|                                                                             ğ“<sup>6</sup> |      1â§¸176 |
|                                                      some valid ğ‚<sub>t</sub><sup>ğ‘˜</sup> | 1â§¸(8ğ‘›Â âˆ’Â 8) |
|                                                      some valid ğ‚<sub>p</sub><sup>ğ‘˜</sup> | 1â§¸(8ğ‘›Â âˆ’Â 8) |
|                                                                  some valid ğ’<sub>ğ‘</sub> |       1â§¸32 |
|                                                                             ğ„<sub>2</sub> |       1â§¸16 |
|                                                                             ğ„<sub>Â½</sub> |       1â§¸16 |

To confirm that these probabilities do indeed [sum](https://en.wikipedia.org/wiki/Summation) to [unity](https://en.wikipedia.org/wiki/1), we observe that:

- There are 12 valid values (viz. {Â±1, Â±2, Â±3, Â±4, Â±5, Â±6}) of ğ‘˜ for ğ“<sup>ğ‘˜</sup>, 10 of which are s\.t. ğ‘˜Â â‰ Â Â±6, and 2 of which are s\.t. ğ‘˜Â =Â Â±6.
- There are ğ‘›Â âˆ’Â 1 valid values (viz. {1, 2, 3, â‹¯, ğ‘›Â âˆ’Â 2, ğ‘›Â âˆ’Â 1}) of ğ‘˜ for ğ‚<sub>t</sub><sup>ğ‘˜</sup>.
- There are ğ‘›Â âˆ’Â 1 valid values (viz. {1, 2, 3, â‹¯, ğ‘›Â âˆ’Â 2, ğ‘›Â âˆ’Â 1}) of ğ‘˜ for ğ‚<sub>p</sub><sup>ğ‘˜</sup>.
- There are 4 valid values (viz. {â…”, Â¾, 4â„3, 3â„2}) of ğ‘ for ğ’<sub>ğ‘</sub>.

Then we have the following sum:

1â§¸16 + 1â§¸16 + 1â§¸8 + 1â§¸16 + 1â§¸16 + (10Â â‹…Â 1â§¸88) + 1â§¸176 + 1â§¸176 + ((ğ‘›Â âˆ’Â 1)Â â‹…Â 1â§¸(8ğ‘›Â âˆ’Â 8)) + ((ğ‘›Â âˆ’Â 1)Â â‹…Â 1â§¸(8ğ‘›Â âˆ’Â 8)) + (4Â â‹…Â 1â§¸32) + 1â§¸16 + 1â§¸16

Which simplifies to:

3â§¸8 + (5â§¸44) + 1â§¸88 + (ğ‘›Â âˆ’Â 1)â§¸(8&#x2062;(ğ‘›Â âˆ’Â 1)) + (ğ‘›Â âˆ’Â 1)â§¸(8&#x2062;(ğ‘›Â âˆ’Â 1)) + (1â§¸8) + 1â§¸8

Simplifying further (again, keeping in mind that ğ‘›Â \>Â 1)â€¦:

1â§¸2 + 1â§¸8 + 1â§¸8 + 1â§¸4Â =Â 1.

Aaaand thatâ€™s 1[!](https://en.wikipedia.org/wiki/Factorial) Fantastic! [Stochastic](https://en.wikipedia.org/wiki/Stochastic)! [Barftastic](https://maplelegends.com/lib/cash?id=5160000)!

One nice property is that, if it turns out that my ğ„<sub>ğ‘</sub> function sucks (which is likely), then I can simply discard every occurrence of ğ„<sub>ğ‘</sub> from the random stream of mutation functions. This results in the same distribution that weâ€™d get by repeating this process without the intent to include ğ„<sub>ğ‘</sub>.

Speaking of random stream, we need to actually generate one of those. For that, Iâ€™m going to be using the handy-handy [ChaCha](https://en.wikipedia.org/wiki/Salsa20#ChaCha_variant) family of [stream ciphers](https://en.wikipedia.org/wiki/Stream_cipher). The use of ChaCha for [cryptographic](https://en.wikipedia.org/wiki/Cryptography) purposes is pretty standard nowadays, as itâ€™s considered to be extremely secure, well-tested, easily implemented efficiently in [software](https://en.wikipedia.org/wiki/Machine_code), and can be implemented reasonably efficiently in [hardware](https://en.wikipedia.org/wiki/Integrated_circuit), as well. In particular, ChaCha20, which uses ten double-rounds of ChaCha, hence the name. Because this function is so common, I was able to just snag a [Rust](https://www.rust-lang.org/) implementation from the [rand\_chacha](https://crates.io/crates/rand_chacha) crate, using the [rand](https://crates.io/crates/rand) crate as a front-end for it. I made a little program that spits out a random stream of the mutation functions by sampling (Î©,Â ğ’œ,Â ğ‘ƒ), with ğ‘› (the number of notes in the melody) [hardcoded](https://en.wikipedia.org/wiki/Hard_coding) into the program, and the [seed](https://en.wikipedia.org/wiki/Random_seed) for ChaCha20 also hardcoded in. By exposing the seed, the â€œrandomâ€ stream of mutation functions is actually totally reproducible; running the program multiple times will always produce the same results each time.

For the seed, I picked the [UTF-8](https://en.wikipedia.org/wiki/UTF-8) encoding of the [string][string] â€œcervine is an I/L magelet &#x2764;&#xfe0f;â€, which comes out to exactly 32 [bytes](https://en.wikipedia.org/wiki/Byte), the number of bytes expected by rand\_chachaâ€™s implementation of ChaCha20. The last six bytes actually represent the two [Unicode](https://en.wikipedia.org/wiki/Unicode) codepoints [U](https://en.wikipedia.org/wiki/Unicode)+2764, U+fe0f (â€œheavy black heartâ€, â€œemoji variation selectorâ€), which combine to form the red heart [emoji](https://en.wikipedia.org/wiki/Emoji).

You can find the program at [src/main\.rs](src/main.rs). The program outputs the mutation functions to [stdout](https://en.wikipedia.org/wiki/Standard_streams), in [Markdown](https://en.wikipedia.org/wiki/Markdown) format (because I write my diary entries in Markdown). The first 16 functions that are output by the program can be seen below:

- ğˆ<sub>p</sub>
- ğ“<sup>4</sup>
- ğ„<sub>Â½</sub>
- ğ‚<sub>t</sub><sup>8</sup>
- ğ‘<sub>p</sub>
- ğ„<sub>Â½</sub>
- ğŒ<sub>5</sub>
- ğ‚<sub>t</sub><sup>16</sup>
- ğ’<sub>3â„2</sub>
- ğ„<sub>2</sub>
- ğ‘<sub>t</sub>
- ğ„<sub>Â½</sub>
- ğŒ<sub>7</sub>
- ğˆ<sub>p</sub>
- ğ“<sup>5</sup>
- ğˆ<sub>p</sub>
- &vellip;

Okay, yeah, I figured that something like this was gonna happen. We effectively get two occurrences of ğ„<sub>Â½</sub> in a row (separated only by ğ‚<sub>t</sub><sup>8</sup> and ğ‘<sub>p</sub>), which is going to turn all of the [16th notes](https://en.wikipedia.org/wiki/Sixteenth_note) in the original melody into [64th notes](https://en.wikipedia.org/wiki/Sixty-fourth_note)â€¦ I was a little curious, so I tried applying (ğ„<sub>Â½</sub>)<sup>2</sup> to the prime form of the subject (ignoring the other mutation functions for now), and got this monstrosity: [E\_1-4-test\.opus](E_1-4-test.opus). Ooof. So, partly because I just got a bit unlucky here, I am indeed just going to throw out all occurrences of ğ„<sub>ğ‘</sub>. \>.\< To be clear, I still think that itâ€™s a neat idea for a musical transformation, but thereâ€™s just no way to really make it cooperate with us in this context.

In any case, for some of these functions (ğˆ<sub>p</sub>, ğŒ<sub>5</sub>, ğŒ<sub>7</sub>), I have to choose some [pitch-class](https://en.wikipedia.org/wiki/Pitch_class) to serve as the [origin][origin] (i\.e. 0, in [integer notation](https://en.wikipedia.org/wiki/Pitch_class#Integer_notation)). For that, Iâ€™ll just pick Gâ™¯, as I already decided above that the prime form of the subject is in Gâ™¯ minor (or something like that).

You might reasonably wonder whether or not this stream of mutation functions is â€œactually randomâ€; after all, I just said that â€œrunning the program multiple times will always produce the same results each timeâ€. Because I chose ChaCha20 as the [PRNG](https://en.wikipedia.org/wiki/Pseudorandom_number_generator), we get very strong [statistical guarantees](https://en.wikipedia.org/wiki/Randomness_test) about the [pseudorandom](https://en.wikipedia.org/wiki/Pseudorandomness) stream that it emits. As a result, the stream that we get â€” although it is always the exact same stream, given the exact same [seed](https://en.wikipedia.org/wiki/Random_seed) â€” is very well-[modelled](https://en.wikipedia.org/wiki/Model) by the [probability distribution](https://en.wikipedia.org/wiki/Probability_distribution) that is laid out above, viz. (Î©,Â ğ’œ,Â ğ‘ƒ). And it isnâ€™t well-modelled by anything else, other than actually working through the [computation](https://en.wikipedia.org/wiki/Computation) of ChaCha20, step by step, knowing all 32 bytes of the seed in advance. You can think of it kind of like the [infinite sequence of digits](https://en.wikipedia.org/wiki/Irrational_number) (in any given [base](https://en.wikipedia.org/wiki/Radix), e\.g. [2](https://en.wikipedia.org/wiki/Binary_number)) representing the number [Ï€](https://en.wikipedia.org/wiki/Pi). Itâ€™s widely suspected (although unproven), on the basis of virtually every [statistical test](https://en.wikipedia.org/wiki/Randomness_test) in the book, that Ï€ is an [(absolutely) normal number](https://en.wikipedia.org/wiki/Normal_number). If this is really the case, then given any arbitrary [natural number](https://en.wikipedia.org/wiki/Natural_number) ğ‘˜, the ğ‘˜th digit of the base ğ‘ representation of Ï€ is well-modelled by [ğ’°{0,Â ğ‘Â âˆ’Â 1}](https://en.wikipedia.org/wiki/Discrete_uniform_distribution). Yet, the sequence of digits for ğ‘˜Â â‰”Â 0, ğ‘˜Â â‰”Â 1, ğ‘˜Â â‰”Â 2, etc. (i\.e. the base ğ‘ expansion of Ï€) can be calculated totally deterministically, e\.g. with the [Gaussâ€“Legendre algorithm](https://en.wikipedia.org/wiki/Gauss%E2%80%93Legendre_algorithm). In spite of this determinism (which is to be expected, as Ï€ is justâ€¦ a number), a [UTM](https://en.wikipedia.org/wiki/Universal_Turing_machine) equipped with an [oracle](https://en.wikipedia.org/wiki/Oracle_machine) that can calculate the ğ‘˜th (ğ‘˜ is a natural number that is the seed for this PRNG, and contains ğ‘– [bits](https://en.wikipedia.org/wiki/Bit) of [information](https://en.wikipedia.org/wiki/Information)) digit of Ï€ in [constant time](https://en.wikipedia.org/wiki/Time_complexity#Constant_time) can be used (again, assuming the absolute normality of Ï€) to generate a _random sequence_, in the sense that the sequence is unpredictable to anyone who doesnâ€™t have any information about the seeded value of ğ‘˜. The situation here is similar; the random sequence of mutation functions is easily calculated deterministically by anyone who has the seed (â€œcervine is an I/L magelet &#x2764;&#xfe0f;â€), but without the seed â€” or even with some, but not all, of the seed â€” itâ€™s [intractable](https://en.wikipedia.org/wiki/Cobham%27s_thesis) to predict the next mutation function in the stream any better than (Î©,Â ğ’œ,Â ğ‘ƒ) can.

##### Inspecting our group a little more closely

Also, now that weâ€™ve decided on exactly which mutation functions we want, an important mathematical structure is very appropriate: the [group][group] whose underlying [set][set] is exactly this desired set of mutation functions and their [compositions](https://en.wikipedia.org/wiki/Function_composition). As mentioned before, we chose our mutation functions to all be members of an [affine group](https://en.wikipedia.org/wiki/Affine_group): Aff(â„³<sup>ğ‘›</sup>). Just to be clear (because Iâ€™ve been using the word â€œ[automorphism](https://en.wikipedia.org/wiki/Automorphism)â€ a lot), if we treat â„³<sup>ğ‘›</sup> as an [affine space](https://en.wikipedia.org/wiki/Affine_space), then the [automorphism group](https://en.wikipedia.org/wiki/Automorphism_group) of â„³<sup>ğ‘›</sup> is the same thing as Aff(â„³<sup>ğ‘›</sup>). The problem is that we are being picky about which elements of Aff(â„³<sup>ğ‘›</sup>) we like. So it would be good to narrow Aff(â„³<sup>ğ‘›</sup>) down to a proper [subgroup](https://en.wikipedia.org/wiki/Subgroup) â€” this subgroup still, in order to be a group, needs to [closed][closure] under composition, have an [inverse](https://en.wikipedia.org/wiki/Multiplicative_inverse) for every element, and have an [identity](https://en.wikipedia.org/wiki/Identity_element) element ([associativity](https://en.wikipedia.org/wiki/Associative_property) is already taken care of because Aff(â„³<sup>ğ‘›</sup>) associates). So weâ€™re going to have to throw ğ“˜ back into the mix, even though we donâ€™t actually want to _use_ it (because it does nothing).

There are, of course, some other elements in this group that arenâ€™t going to be directly \& individually applied to our melody. Take ğ’<sub>ğ‘</sub> for example: because we want to limit ğ‘ to be an element of {â…”,Â Â¾,Â 4â„3,Â 3â„2} (for the purpose of stochastically applying mutation functions), we donâ€™t get closure; ğ’<sub>â…”</sub>&#x2062;ğ’<sub>â…”</sub>Â =Â ğ’<sub>4â„9</sub>. Oopsies! So we will end up including {ğ’<sub>ğ‘</sub>Â |Â ğ‘Â =Â 2<sup>ğ‘âˆ’2ğ‘</sup>Â â‹…Â 3<sup>ğ‘âˆ’ğ‘</sup>Â âˆ§Â ğ‘,Â ğ‘Â âˆˆÂ â„¤} as a subset of the underlying set of this group. This is now closed because (2<sup>ğ‘âˆ’2ğ‘</sup>Â â‹…Â 3<sup>ğ‘âˆ’ğ‘</sup>)&#x2062;(2<sup>ğ‘âˆ’2ğ‘‘</sup>Â â‹…Â 3<sup>ğ‘‘âˆ’ğ‘</sup>) = 2<sup>ğ‘âˆ’2ğ‘+ğ‘âˆ’2ğ‘‘</sup>Â â‹…Â 3<sup>ğ‘âˆ’ğ‘+ğ‘‘âˆ’ğ‘</sup> = 2<sup>(ğ‘+ğ‘)âˆ’(2ğ‘+2ğ‘‘)</sup>Â â‹…Â 3<sup>(ğ‘+ğ‘‘)âˆ’(ğ‘+ğ‘)</sup> = 2<sup>(ğ‘+ğ‘)âˆ’2&#x2062;(ğ‘+ğ‘‘)</sup>Â â‹…Â 3<sup>(ğ‘+ğ‘‘)âˆ’(ğ‘+ğ‘)</sup>. Proving the other direction (that this _only_ includes the elements actually generated by {ğ’<sub>â…”</sub>,Â ğ’<sub>Â¾</sub>}) is left as an exercise for the reader.

Let ğºÂ â‰”Â {ğ‘<sub>t</sub>,Â ğ‘<sub>p</sub>,Â ğˆ<sub>p</sub>,Â ğŒ<sub>5</sub>,Â ğ“<sup>1</sup>,Â ğ‚<sub>t</sub><sup>1</sup>,Â ğ‚<sub>p</sub><sup>1</sup>,Â ğ’<sub>â…”</sub>,Â ğ’<sub>Â¾</sub>,Â ğ„<sub>2</sub>}. Then [â§¼](https://en.wikipedia.org/wiki/Generating_set_of_a_group)ğº[â§½](https://en.wikipedia.org/wiki/Generating_set_of_a_group) is the â€œsmallestâ€ (in the sense that we only include those elements absolutely necessary to maintain closure) group that contains all of our desired mutation functions. It also contains ğ“˜ (because, for example, (ğ‘<sub>t</sub>)<sup>2</sup>Â =Â ğ“˜), and as mentioned before, all elements of {ğ’<sub>ğ‘</sub>Â |Â ğ‘Â =Â 2<sup>ğ‘âˆ’2ğ‘</sup>Â â‹…Â 3<sup>ğ‘âˆ’ğ‘</sup>Â âˆ§Â ğ‘,Â ğ‘Â âˆˆÂ â„¤}. The group is [countably](https://en.wikipedia.org/wiki/Countable_set) [infinite](https://en.wikipedia.org/wiki/Infinite_set) (only because of ğ’<sub>ğ‘</sub>), but clearly [finitely generated](https://en.wikipedia.org/wiki/Finitely_generated_group). Youâ€™ll notice that some of the desired mutation functions are missing from ğº:

- ğŒ<sub>7</sub>: Because ğˆ<sub>p</sub>&#x2062;ğŒ<sub>5</sub>Â =Â ğŒ<sub>7</sub>.
- {ğ“<sup>ğ‘˜</sup>Â |Â ğ‘˜Â âˆˆÂ â„¤Â âˆ–Â {0,Â 1}}: Because (ğ“<sup>1</sup>)<sup>ğ‘˜</sup>Â =Â ğ“<sup>ğ‘˜</sup>.
- {ğ‚<sub>t</sub><sup>ğ‘˜</sup>Â |Â ğ‘˜Â âˆˆÂ â„¤}: Because (ğ‚<sub>t</sub><sup>1</sup>)<sup>ğ‘˜</sup>Â =Â ğ‚<sub>t</sub><sup>ğ‘˜</sup>.
- {ğ‚<sub>p</sub><sup>ğ‘˜</sup>Â |Â ğ‘˜Â âˆˆÂ â„¤}: Because (ğ‚<sub>p</sub><sup>1</sup>)<sup>ğ‘˜</sup>Â =Â ğ‚<sub>p</sub><sup>ğ‘˜</sup>.
- {ğ’<sub>ğ‘</sub>Â |Â ğ‘Â âˆˆÂ {4â„3,Â 3â„2}}: Because (ğ’<sub>Â¾</sub>)<sup>âˆ’1</sup>Â =Â ğ’<sub>4â„3</sub>, and (ğ’<sub>â…”</sub>)<sup>âˆ’1</sup>Â =Â ğ’<sub>3â„2</sub>.
- ğ„<sub>Â½</sub>: Because (ğ„<sub>2</sub>)<sup>âˆ’1</sup>Â =Â ğ„<sub>Â½</sub>.

Itâ€™s worth taking a look at some of the groupâ€™s structure. Now, Iâ€™m no computer algebraistâ€», but I can at least manually consider a few _examples_ of elements that are part of this group. Before I give a small list of a few, we have to talk about commutators.

In general, this group is not [abelian](https://en.wikipedia.org/wiki/Abelian_group), which means that for any two elements of the group ğ‘“ and ğ‘”, it may **or may not** be true that [ğ‘“&#x2062;ğ‘”Â =Â ğ‘”&#x2062;ğ‘“](https://en.wikipedia.org/wiki/Commutative_property). That being said, thereâ€™s a sense in which this group â€œkinda mostly commutesâ€, because most of the elements of the generating set ğº commute with each other. To test whether or not two elements commute, we can just test whether or not the quality ğ‘“&#x2062;ğ‘”Â =Â ğ‘”&#x2062;ğ‘“ holds. Or, we can consult the [commutator](https://en.wikipedia.org/wiki/Commutator), which is a handy-dandy [binary operation](https://en.wikipedia.org/wiki/Binary_operation) defined like: [\[](https://en.wikipedia.org/wiki/Commutator)ğ‘“,Â ğ‘”[\]](https://en.wikipedia.org/wiki/Commutator)Â â‰Â ğ‘“<sup>âˆ’1</sup>&#x2062;ğ‘”<sup>âˆ’1</sup>&#x2062;ğ‘“&#x2062;ğ‘”. The purpose of this operation is that \[ğ‘“,Â ğ‘”\]Â =Â ğ“˜ [iff](https://en.wikipedia.org/wiki/If_and_only_if) ğ‘“&#x2062;ğ‘”Â =Â ğ‘”&#x2062;ğ‘“. Because [|](https://en.wikipedia.org/wiki/Cardinality)ğº[|](https://en.wikipedia.org/wiki/Cardinality)Â =Â 10, there are [<sub>10</sub>ğ–¢<sub>2</sub>Â =Â 45](https://en.wikipedia.org/wiki/Triangular_number) distinct unordered pairs of distinct elements of ğº. We donâ€™t care about pairs of the same element with itself, because any element trivially commutes with itself. Out of these 45 unordered pairs, only the following 6 pairs do not commute:

- {ğ‘<sub>t</sub>,Â ğ‚<sub>t</sub><sup>1</sup>}.

  \[ğ‘<sub>t</sub>,Â ğ‚<sub>t</sub><sup>1</sup>\] = (ğ‘<sub>t</sub>)<sup>âˆ’1</sup>&#x2062;(ğ‚<sub>t</sub><sup>1</sup>)<sup>âˆ’1</sup>&#x2062;ğ‘<sub>t</sub>&#x2062;ğ‚<sub>t</sub><sup>1</sup> = ğ‘<sub>t</sub>&#x2062;ğ‚<sub>t</sub><sup>âˆ’1</sup>&#x2062;ğ‘<sub>t</sub>&#x2062;ğ‚<sub>t</sub><sup>1</sup> = ğ‚<sub>t</sub><sup>2</sup> â‰  ğ“˜.
- {ğ‘<sub>t</sub>,Â ğ„<sub>2</sub>}.

  \[ğ‘<sub>t</sub>,Â ğ„<sub>2</sub>\]&#x2062;ğÂ =Â ğÂ =Â âŸ¨ğ‘‘<sub>0</sub>,Â ğ‘‘<sub>1</sub>,Â â‹¯,Â ğ‘‘<sub>ğ‘›âˆ’2</sub>,Â ğ‘‘<sub>ğ‘›âˆ’1</sub>âŸ© iff ğ‘‘<sub>0</sub>Â =Â ğ‘‘<sub>ğ‘›âˆ’1</sub>. In general, \[ğ‘<sub>t</sub>,Â ğ„<sub>2</sub>\]&#x2062;ğÂ =Â âŸ¨2&#x2062;ğ‘‘<sub>0</sub>Â âˆ’Â ğ‘‘<sub>0</sub>â§¸2Â âˆ’Â ğ‘‘<sub>ğ‘›âˆ’1</sub>â§¸2,Â ğ‘‘<sub>1</sub>Â +Â ğ‘‘<sub>0</sub>â§¸2Â âˆ’Â ğ‘‘<sub>ğ‘›âˆ’1</sub>â§¸2,Â â‹¯,Â ğ‘‘<sub>ğ‘›âˆ’2</sub>Â +Â ğ‘‘<sub>0</sub>â§¸2Â âˆ’Â ğ‘‘<sub>ğ‘›âˆ’1</sub>â§¸2,Â ğ‘‘<sub>ğ‘›âˆ’1</sub>â§¸2Â +Â ğ‘‘<sub>0</sub>â§¸2âŸ©.
- {ğ‘<sub>p</sub>,Â ğ‚<sub>p</sub><sup>1</sup>}.

  \[ğ‘<sub>p</sub>,Â ğ‚<sub>p</sub><sup>1</sup>\] = (ğ‘<sub>p</sub>)<sup>âˆ’1</sup>&#x2062;(ğ‚<sub>p</sub><sup>1</sup>)<sup>âˆ’1</sup>&#x2062;ğ‘<sub>p</sub>&#x2062;ğ‚<sub>p</sub><sup>1</sup> = ğ‘<sub>p</sub>&#x2062;ğ‚<sub>p</sub><sup>âˆ’1</sup>&#x2062;ğ‘<sub>p</sub>&#x2062;ğ‚<sub>p</sub><sup>1</sup> = ğ‚<sub>p</sub><sup>2</sup> â‰  ğ“˜.
- {ğˆ<sub>p</sub>,Â ğ“<sup>1</sup>}.

  \[ğˆ<sub>p</sub>,Â ğ“<sup>1</sup>\]Â =Â (ğˆ<sub>p</sub>)<sup>âˆ’1</sup>&#x2062;(ğ“<sup>1</sup>)<sup>âˆ’1</sup>&#x2062;ğˆ<sub>p</sub>&#x2062;ğ“<sup>1</sup>Â =Â ğˆ<sub>p</sub>&#x2062;ğ“<sup>âˆ’1</sup>&#x2062;ğˆ<sub>p</sub>&#x2062;ğ“<sup>1</sup>Â =Â ğ“<sup>2</sup>Â â‰ Â ğ“˜.
- {ğŒ<sub>5</sub>,Â ğ“<sup>1</sup>}.

  \[ğŒ<sub>5</sub>,Â ğ“<sup>1</sup>\]Â =Â (ğŒ<sub>5</sub>)<sup>âˆ’1</sup>&#x2062;(ğ“<sup>1</sup>)<sup>âˆ’1</sup>&#x2062;ğŒ<sub>5</sub>&#x2062;ğ“<sup>1</sup>Â =Â ğŒ<sub>5</sub>&#x2062;ğ“<sup>âˆ’1</sup>&#x2062;ğŒ<sub>5</sub>&#x2062;ğ“<sup>1</sup>Â =Â ğ“<sup>8</sup>Â â‰ Â ğ“˜.
- {ğ‚<sub>t</sub><sup>1</sup>,Â ğ„<sub>2</sub>}.

  \[ğ‚<sub>t</sub><sup>1</sup>,Â ğ„<sub>2</sub>\]&#x2062;ğÂ =Â ğÂ =Â âŸ¨ğ‘‘<sub>0</sub>,Â ğ‘‘<sub>1</sub>,Â â‹¯,Â ğ‘‘<sub>ğ‘›âˆ’2</sub>,Â ğ‘‘<sub>ğ‘›âˆ’1</sub>âŸ© iff ğ‘‘<sub>0</sub>Â =Â ğ‘‘<sub>ğ‘›âˆ’1</sub>. In general, \[ğ‚<sub>t</sub><sup>1</sup>,Â ğ„<sub>2</sub>\]&#x2062;ğÂ =Â âŸ¨2&#x2062;ğ‘‘<sub>0</sub>Â âˆ’Â (ğ‘‘<sub>ğ‘›âˆ’1</sub>Â +Â ğ‘‘<sub>0</sub>)â§¸2,Â ğ‘‘<sub>1</sub>Â +Â ğ‘‘<sub>0</sub>Â âˆ’Â (ğ‘‘<sub>ğ‘›âˆ’1</sub>Â +Â ğ‘‘<sub>0</sub>)â§¸2,Â â‹¯,Â ğ‘‘<sub>ğ‘›âˆ’2</sub>Â +Â ğ‘‘<sub>0</sub>Â âˆ’Â (ğ‘‘<sub>ğ‘›âˆ’1</sub>Â +Â ğ‘‘<sub>0</sub>)â§¸2,Â (ğ‘‘<sub>ğ‘›âˆ’1</sub>Â +Â ğ‘‘<sub>0</sub>)â§¸2âŸ©.

The only part of the above list that is maybe not so obvious is that neither {ğ’<sub>â…”</sub>, ğ„<sub>2</sub>} nor {ğ’<sub>Â¾</sub>, ğ„<sub>2</sub>} are on it. To show that these commute, we can just show that, [for any](https://en.wikipedia.org/wiki/Universal_quantification) duration sequence ğÂ â‰”Â âŸ¨ğ‘‘<sub>0</sub>,Â ğ‘‘<sub>1</sub>,Â ğ‘‘<sub>2</sub>,Â â‹¯âŸ©:

ğ’<sub>ğ‘</sub>&#x2062;(ğ„<sub>2</sub>&#x2062;ğ) = ğ„<sub>2</sub>&#x2062;(ğ’<sub>ğ‘</sub>&#x2062;ğ)

ğ’<sub>ğ‘</sub>&#x2062;âŸ¨2ğ‘‘<sub>0</sub>,Â ğ‘‘<sub>1</sub>Â +Â ğ‘‘<sub>0</sub>,Â ğ‘‘<sub>2</sub>Â +Â ğ‘‘<sub>0</sub>,Â â‹¯âŸ© = ğ„<sub>2</sub>&#x2062;âŸ¨ğ‘ğ‘‘<sub>0</sub>,Â ğ‘ğ‘‘<sub>1</sub>,Â ğ‘ğ‘‘<sub>2</sub>,Â â‹¯âŸ©

âŸ¨2ğ‘ğ‘‘<sub>0</sub>,Â ğ‘ğ‘‘<sub>1</sub>Â +Â ğ‘ğ‘‘<sub>0</sub>,Â ğ‘ğ‘‘<sub>2</sub>Â +Â ğ‘ğ‘‘<sub>0</sub>,Â â‹¯âŸ© = âŸ¨2ğ‘ğ‘‘<sub>0</sub>,Â ğ‘ğ‘‘<sub>1</sub>Â +Â ğ‘ğ‘‘<sub>0</sub>,Â ğ‘ğ‘‘<sub>2</sub>Â +Â ğ‘ğ‘‘<sub>0</sub>,Â â‹¯âŸ©.

Okay, that wasnâ€™t so hard, I guess. In any case, here are a few example equations, as promised:

- ğ‘<sub>t</sub>&#x2062;ğ‘<sub>p</sub>Â =Â ğ‘<sub>p</sub>&#x2062;ğ‘<sub>t</sub>Â =Â ğ‘. We call this function â€œğ‘â€ because it retrogrades the _entire_ melody.
- ğ‚<sub>t</sub><sup>ğ‘˜</sup>&#x2062;ğ‚<sub>p</sub><sup>ğ‘˜</sup>Â =Â ğ‚<sub>p</sub><sup>ğ‘˜</sup>&#x2062;ğ‚<sub>t</sub><sup>ğ‘˜</sup>Â =Â ğ‚<sup>ğ‘˜</sup>. We call this function â€œğ‚<sup>ğ‘˜</sup>â€ because it cycles the _entire_ melody forwards by ğ‘˜ positions.
- (ğˆ<sub>p</sub>)<sup>2</sup>Â =Â (ğŒ<sub>5</sub>)<sup>2</sup>Â =Â (ğŒ<sub>7</sub>)<sup>2</sup>Â =Â ğ“˜.
- ğŒ<sub>7</sub>&#x2062;ğŒ<sub>5</sub>Â =Â ğŒ<sub>5</sub>&#x2062;ğŒ<sub>7</sub>Â =Â ğˆ<sub>p</sub>.
- ğˆ<sub>p</sub>&#x2062;ğŒ<sub>5</sub>Â =Â ğŒ<sub>5</sub>&#x2062;ğˆ<sub>p</sub>Â =Â ğŒ<sub>7</sub>. ğˆ<sub>p</sub>&#x2062;ğŒ<sub>7</sub>Â =Â ğŒ<sub>7</sub>&#x2062;ğˆ<sub>p</sub>Â =Â ğŒ<sub>5</sub>.
- ğŒ<sub>7</sub>&#x2062;ğ“<sup>1</sup>&#x2062;ğˆ<sub>p</sub>Â =Â ğŒ<sub>5</sub>&#x2062;ğ“<sup>âˆ’1</sup>. ğŒ<sub>5</sub>&#x2062;ğ“<sup>1</sup>&#x2062;ğˆ<sub>p</sub>Â =Â ğŒ<sub>7</sub>&#x2062;ğ“<sup>âˆ’1</sup>. ğˆ<sub>p</sub>&#x2062;ğ“<sup>1</sup>&#x2062;ğˆ<sub>p</sub>Â =Â ğ“<sup>âˆ’1</sup>.
- ğ“<sup>1</sup>&#x2062;ğŒ<sub>5</sub>&#x2062;ğ“<sup>1</sup>Â =Â ğŒ<sub>5</sub>&#x2062;ğ“<sup>6</sup>.
- ğ“<sup>1</sup>&#x2062;ğˆ<sub>p</sub>&#x2062;ğ“<sup>1</sup>Â =Â ğˆ<sub>p</sub>.
- ğŒ<sub>5</sub>&#x2062;ğ“<sup>1</sup>&#x2062;ğŒ<sub>5</sub>Â =Â ğ“<sup>5</sup>.
- ğˆ<sub>p</sub>&#x2062;ğ“<sup>1</sup>&#x2062;ğŒ<sub>5</sub>Â =Â ğŒ<sub>5</sub>&#x2062;ğ“<sup>7</sup>.
- ğ‚<sup>âˆ’1</sup>&#x2062;ğ‘&#x2062;ğ‚<sup>1</sup>Â =Â ğ‚<sup>âˆ’2</sup>&#x2062;ğ‘.
- ğ‘&#x2062;ğ‚<sup>1</sup>&#x2062;ğ‘Â =Â ğ‚<sup>âˆ’1</sup>.
- &vellip;

Iâ€™m interested in the [Cayley graph](https://en.wikipedia.org/wiki/Cayley_graph) Î“(â§¼ğºâ§½,Â ğº). This [graph][graph] is just the graph whose [vertex][vertex] set is the underlying set of â§¼ğºâ§½, and whose edge set is the set of all [directed](https://en.wikipedia.org/wiki/Directed_graph) edges from ğ‘¥ to ğ‘¥ğ‘”, where ğ‘”Â âˆˆÂ ğº, and ğ‘¥Â âˆˆÂ â§¼ğºâ§½. If ğ‘” is its own inverse, then we get an edge from ğ‘¥ to ğ‘¥ğ‘” and an edge from ğ‘¥ğ‘” to ğ‘¥, so we usually draw those two edges as a single undirected edge. Each edge gets a [â€œcolourâ€](https://en.wikipedia.org/wiki/Graph_labeling) that corresponds to the value of ğ‘” for that edge, i\.e. the colour of the generating element that takes you across that edge. For our case, ğº is finite; however, â§¼ğºâ§½ is infinite, so Î“(â§¼ğºâ§½,Â ğº) is infinite as well. That being said, we can still visualise infinite graphs â€” especially ones like this, where the core of the graph is essentially finite, but it goes off onto infinite tangents at some points â€” so I tried to draw an [induced subgraph](https://en.wikipedia.org/wiki/Induced_subgraph) of Î“(â§¼ğºâ§½,Â ğº). I assigned the following colours arbitrarily:

<!-- markdownlint-disable MD033 -->
- <span style="color:red;">ğ‘<sub>t</sub></span> is <span style="color:red;">red</span>.
- <span style="color:blue;">ğ‘<sub>p</sub></span> is <span style="color:blue;">blue</span>.
- <span style="color:green;">ğˆ<sub>p</sub></span> is <span style="color:green;">green</span>.
- <span style="color:purple;">ğŒ<sub>5</sub></span> is <span style="color:purple;">purple</span>.
- <span style="color:orange;">ğ“<sup>1</sup></span> is <span style="color:orange;">orange</span>.
<!-- markdownlint-disable MD033 -->

If we write ğ´\[ğ‘†\] to mean the subgraph of ğ´ induced by a [subset](https://en.wikipedia.org/wiki/Subset) of its vertices ğ‘†, then you can see a visualisation of Î“(â§¼ğºâ§½,Â ğº)\[{ğ“˜, ğˆ<sub>p</sub>, ğˆ<sub>p</sub>ğ“<sup>1</sup>, ğŒ<sub>5</sub>, ğŒ<sub>5</sub>ğ“<sup>1</sup>, ğŒ<sub>7</sub>, ğŒ<sub>7</sub>ğ“<sup>1</sup>, ğ‘, ğ‘<sub>p</sub>, ğ‘<sub>p</sub>ğˆ<sub>p</sub>, ğ‘<sub>p</sub>ğˆ<sub>p</sub>ğ“<sup>1</sup>, ğ‘<sub>p</sub>ğŒ<sub>5</sub>, ğ‘<sub>p</sub>ğŒ<sub>5</sub>ğ“<sup>1</sup>, ğ‘<sub>p</sub>ğŒ<sub>7</sub>, ğ‘<sub>p</sub>ğŒ<sub>7</sub>ğ“<sup>1</sup>, ğ‘<sub>p</sub>ğ“<sup>1</sup>, ğ‘<sub>p</sub>ğ“<sup>1</sup>ğˆ<sub>p</sub>, ğ‘<sub>p</sub>ğ“<sup>1</sup>ğŒ<sub>5</sub>, ğ‘<sub>p</sub>ğ“<sup>1</sup>ğŒ<sub>7</sub>, ğ‘<sub>t</sub>, ğ‘<sub>t</sub>ğˆ<sub>p</sub>, ğ‘<sub>t</sub>ğˆ<sub>p</sub>ğ“<sup>1</sup>, ğ‘<sub>t</sub>ğŒ<sub>5</sub>, ğ‘<sub>t</sub>ğŒ<sub>5</sub>ğ“<sup>1</sup>, ğ‘<sub>t</sub>ğŒ<sub>7</sub>, ğ‘<sub>t</sub>ğŒ<sub>7</sub>ğ“<sup>1</sup>, ğ‘<sub>t</sub>ğ“<sup>1</sup>, ğ‘<sub>t</sub>ğ“<sup>1</sup>ğˆ<sub>p</sub>, ğ‘<sub>t</sub>ğ“<sup>1</sup>ğŒ<sub>5</sub>, ğ‘<sub>t</sub>ğ“<sup>1</sup>ğŒ<sub>7</sub>, ğ‘ğˆ<sub>p</sub>, ğ‘ğˆ<sub>p</sub>ğ“<sup>1</sup>, ğ‘ğŒ<sub>5</sub>, ğ‘ğŒ<sub>5</sub>ğ“<sup>1</sup>, ğ‘ğŒ<sub>7</sub>, ğ‘ğŒ<sub>7</sub>ğ“<sup>1</sup>, ğ‘ğ“<sup>1</sup>, ğ‘ğ“<sup>1</sup>ğˆ<sub>p</sub>, ğ‘ğ“<sup>1</sup>ğŒ<sub>5</sub>, ğ‘ğ“<sup>1</sup>ğŒ<sub>7</sub>, ğ“<sup>1</sup>, ğ“<sup>1</sup>ğˆ<sub>p</sub>, ğ“<sup>1</sup>ğŒ<sub>5</sub>, ğ“<sup>1</sup>ğŒ<sub>7</sub>}\] below:

![Î“(â§¼ğºâ§½,Â ğº)\[{ğ“˜, ğˆâ‚š, ğˆâ‚šğ“Â¹, ğŒâ‚…, ğŒâ‚…ğ“Â¹, ğŒâ‚‡, ğŒâ‚‡ğ“Â¹, ğ‘, ğ‘â‚š, ğ‘â‚šğˆâ‚š, ğ‘â‚šğˆâ‚šğ“Â¹, ğ‘â‚šğŒâ‚…, ğ‘â‚šğŒâ‚…ğ“Â¹, ğ‘â‚šğŒâ‚‡, ğ‘â‚šğŒâ‚‡ğ“Â¹, ğ‘â‚šğ“Â¹, ğ‘â‚šğ“Â¹ğˆâ‚š, ğ‘â‚šğ“Â¹ğŒâ‚…, ğ‘â‚šğ“Â¹ğŒâ‚‡, ğ‘â‚œ, ğ‘â‚œğˆâ‚š, ğ‘â‚œğˆâ‚šğ“Â¹, ğ‘â‚œğŒâ‚…, ğ‘â‚œğŒâ‚…ğ“Â¹, ğ‘â‚œğŒâ‚‡, ğ‘â‚œğŒâ‚‡ğ“Â¹, ğ‘â‚œğ“Â¹, ğ‘â‚œğ“Â¹ğˆâ‚š, ğ‘â‚œğ“Â¹ğŒâ‚…, ğ‘â‚œğ“Â¹ğŒâ‚‡, ğ‘ğˆâ‚š, ğ‘ğˆâ‚šğ“Â¹, ğ‘ğŒâ‚…, ğ‘ğŒâ‚…ğ“Â¹, ğ‘ğŒâ‚‡, ğ‘ğŒâ‚‡ğ“Â¹, ğ‘ğ“Â¹, ğ‘ğ“Â¹ğˆâ‚š, ğ‘ğ“Â¹ğŒâ‚…, ğ‘ğ“Â¹ğŒâ‚‡, ğ“Â¹, ğ“Â¹ğˆâ‚š, ğ“Â¹ğŒâ‚…, ğ“Â¹ğŒâ‚‡}\]](cayley_graph.svg "Î“(â§¼ğºâ§½,Â ğº)\[{ğ“˜, ğˆâ‚š, ğˆâ‚šğ“Â¹, ğŒâ‚…, ğŒâ‚…ğ“Â¹, ğŒâ‚‡, ğŒâ‚‡ğ“Â¹, ğ‘, ğ‘â‚š, ğ‘â‚šğˆâ‚š, ğ‘â‚šğˆâ‚šğ“Â¹, ğ‘â‚šğŒâ‚…, ğ‘â‚šğŒâ‚…ğ“Â¹, ğ‘â‚šğŒâ‚‡, ğ‘â‚šğŒâ‚‡ğ“Â¹, ğ‘â‚šğ“Â¹, ğ‘â‚šğ“Â¹ğˆâ‚š, ğ‘â‚šğ“Â¹ğŒâ‚…, ğ‘â‚šğ“Â¹ğŒâ‚‡, ğ‘â‚œ, ğ‘â‚œğˆâ‚š, ğ‘â‚œğˆâ‚šğ“Â¹, ğ‘â‚œğŒâ‚…, ğ‘â‚œğŒâ‚…ğ“Â¹, ğ‘â‚œğŒâ‚‡, ğ‘â‚œğŒâ‚‡ğ“Â¹, ğ‘â‚œğ“Â¹, ğ‘â‚œğ“Â¹ğˆâ‚š, ğ‘â‚œğ“Â¹ğŒâ‚…, ğ‘â‚œğ“Â¹ğŒâ‚‡, ğ‘ğˆâ‚š, ğ‘ğˆâ‚šğ“Â¹, ğ‘ğŒâ‚…, ğ‘ğŒâ‚…ğ“Â¹, ğ‘ğŒâ‚‡, ğ‘ğŒâ‚‡ğ“Â¹, ğ‘ğ“Â¹, ğ‘ğ“Â¹ğˆâ‚š, ğ‘ğ“Â¹ğŒâ‚…, ğ‘ğ“Â¹ğŒâ‚‡, ğ“Â¹, ğ“Â¹ğˆâ‚š, ğ“Â¹ğŒâ‚…, ğ“Â¹ğŒâ‚‡}\]")

The [SVG](https://en.wikipedia.org/wiki/Scalable_Vector_Graphics) above was generated by [Graphviz](https://en.wikipedia.org/wiki/Graphviz) version 2\.43\.0; the [DOT][dot] data can be found in [cayley\_graph\.gv](cayley_graph.gv).

<details>
<summary>Bonus graph~</summary>

Same graph as above, but with no node labels, and with a somewhat different layout:

![Same graph as above, but with no node labels, and with a somewhat different layout](cayley_graph1.svg "Same graph as above, but with no node labels, and with a somewhat different layout")

The [SVG](https://en.wikipedia.org/wiki/Scalable_Vector_Graphics) above was generated by [Graphviz](https://en.wikipedia.org/wiki/Graphviz) version 2\.43\.0; the [DOT][dot] data can be found in [cayley\_graph1\.gv](cayley_graph1.gv).

</details>

Kinda weird-lookinâ€™, butâ€¦ cool! I wish I had the patience to make the vertex subset largerâ€¦

<details>
<summary>Footnotes for â€œThe stochastic bitsâ€</summary>

\*i tried to prove that it was linear lol

â€ For any non-musicians wondering why â€œcircle of **fourths**â€ links to the Wikipedia article on the circle of **fifths**: the circle of fourths and the circle of fifths are the same structure. A fifth is just the inverse of a fourth, so depending on which direction you traverse this structure in, you either get a â€œcircle of fourthsâ€ or a â€œcircle of fifthsâ€.

â€¡Confusingly, some authors differ slightly in how they define â€œnormal formâ€. [**John Rahn**](https://en.wikipedia.org/wiki/John_Rahn) (_Basic Atonal Theory_ (1980)) defines it as Iâ€™ve defined it here, but [**Forte**](https://en.wikipedia.org/wiki/Allen_Forte) (who created the [Forte number](https://en.wikipedia.org/wiki/Forte_number) system for naming pitch-class sets; _The Structure of Atonal Music_ (1973)) packs the numbers â€œfrom the leftâ€. This means that when trying to determine a normal form, Forte reads from left to right, and then tries to minimise the number of â€œ0â€s before the first â€œ1â€, then tries to minimise the number of â€œ0â€s before the next â€œ1â€, and so onâ€¦ As it turns out, this only makes the two methods differ slightly on like half a dozen pitch-class sets (e\.g. Forte 8-26).

â¸¸Pronounced [/ËˆsiË\.spÉ¹ÉªÅ‹/](https://en.wikipedia.org/wiki/Help:IPA/English).

Â¶As much as I love 12-TET, it would be cooler if 12 were [prime](https://en.wikipedia.org/wiki/Prime_number). When the [modulus](https://en.wikipedia.org/wiki/Modular_arithmetic) ğ‘ is prime, all elements of the [ring](https://en.wikipedia.org/wiki/Commutative_ring) [â„¤â§¸ğ‘â„¤](https://en.wikipedia.org/wiki/Modular_arithmetic#Integers_modulo_n) are [coprime](https://en.wikipedia.org/wiki/Coprime_integers) with ğ‘ (for obvious reasons), so every element has a [multiplicative inverse](https://en.wikipedia.org/wiki/Multiplicative_inverse), and you get a nifty [finite field](https://en.wikipedia.org/wiki/Finite_field)! And two of the most common [equally tempered](https://en.wikipedia.org/wiki/Equal_temperament) tuning systems, after 12-TET â€” which completely dominates, for better or worse â€” are [19-TET](https://en.wikipedia.org/wiki/19_equal_temperament) and [31-TET](https://en.wikipedia.org/wiki/31_equal_temperament), both of which divide the [octave](https://en.wikipedia.org/wiki/Octave) into a prime number of equal parts!!

â€»if someone whoâ€™s reading this _is_, pls help i have no idea what iâ€™m doing lol

â¦The closest thing that I know of would be in the works of [**Olivier Messiaen**](https://en.wikipedia.org/wiki/Olivier_Messiaen), who did experiment with some rhythmic transformations that involved adding a fixed duration (e\.g. a [sixteenth note](https://en.wikipedia.org/wiki/Sixteenth_note)) to every note in a rhythm.

</details>

#### Accompaniment

Now that we have a lovely string of random melodies to deal with, itâ€™s time to deal with themâ€¦ After all, the melodies themselves â€” left entirely [monophonic](https://en.wikipedia.org/wiki/Monophony) â€” are only so interesting!

Well, even unaccompanied, it is still kind of interesting to me, at least. But I want something more appropriate for the style of my other MapleStory charactersâ€™ themes. Something with a [chamber music](https://en.wikipedia.org/wiki/Chamber_music) (in the most broad sense of the term) kind of vibe. For this, I chose to accompany the [glockenspiel](https://en.wikipedia.org/wiki/Glockenspiel) with the following instruments:

- a [viola](https://en.wikipedia.org/wiki/Viola),
- a [contrabass](https://en.wikipedia.org/wiki/Double_bass)\*,
- a [drum kit](https://en.wikipedia.org/wiki/Drum_kit),
- and perhaps a [timpano](https://en.wikipedia.org/wiki/Timpani) (as mentioned previously)â€¦?

I picked these instruments fairly arbitrarily. I thought Iâ€™d pick some [chordophones](https://en.wikipedia.org/wiki/String_instrument), to make things a bit easier on myself; this would keep the glockenspiel naturally more distinct in [timbre](https://en.wikipedia.org/wiki/Timbre), as itâ€™s an [idiophone](https://en.wikipedia.org/wiki/Idiophone). Picking members of the [violin family](https://en.wikipedia.org/wiki/Violin_family) keeps things familiar, and gives a useful choice between [arco][bow] and [pizzicato](https://en.wikipedia.org/wiki/Pizzicato). Extended passages of pizzicato (during which the performer typically puts their [bow][bow] down, to free up a hand for plucking) are somewhat rare for instruments in the violin family â€” excepting the use of contrabass in [jazz](https://en.wikipedia.org/wiki/Jazz) contexts â€” but Iâ€™m a huge sucker for pizz. So if you play my music, youâ€™re gonna have to get used to putting down that bow!! I picked the viola and contrabass in particular, because I felt like this divided up the [ranges][range] of the instruments nicely. If we take the violin family, supplement it with the glockenspiel, and order them all from highest to lowest range, we have (**bold** instruments are used in _cervineâ€™s Theme_):

- **glockenspiel**
- [violin](https://en.wikipedia.org/wiki/Violin)
- **viola**
- [cello](https://en.wikipedia.org/wiki/Cello)
- **contrabass**

So, as you can see, Iâ€™m making use of every _other_ instrument on the list.

The inclusion of a drum kit can be owed to the fact that Iâ€™m just extremely accustomed to writing for drum kitâ€¦ All of the other themes have a drum kit in them, as well. So the drum kit will be taking care of all of my un[pitched][pitch] [percussion](https://en.wikipedia.org/wiki/Percussion_instrument) needs.

<details>
<summary>Footnotes for â€œAccompanimentâ€</summary>

\*This instrument goes by many names: â€œcontrabassâ€, â€œdouble bassâ€, â€œupright bassâ€, â€œstring bassâ€, â€œstandup bassâ€, or even just â€œbassâ€. Iâ€™m using â€œcontrabassâ€, which is a common nomenclature in [Western classical music](https://en.wikipedia.org/wiki/Classical_music).

</details>

#### The introduction

I toyed around with some simple accompaniment ideas â€” none of which I really liked â€” before I came up with the following:

![Introductory/prime accompaniment parts](intro.svg "Introductory/prime accompaniment parts")

<details>
<summary>In ABC notation</summary>

```abc
%abc-2.2
X:1
T:Introductory/prime accompaniment parts of â€œcervineâ€™s Themeâ€
C:deer
M:5/4
L:1/8
Q:1/4=108
I:linebreak $
V:1 name="Viola"      clef=alto
V:2 name="Contrabass" clef=bass instrument=C
K:G#m
[V:1] "^pizz." B,/G,B,/ G,D/A,/    B,/G,B,/  G,D/^^F,/-     F,2      |
[V:2] "^pizz." z8                                           zB,,/C,/ |
[V:1]          B,/G,B,/ G,D/A,/    B,/G,B,/  G,D/^^F,/-     F,2      ||
[V:2]          D,/G,,z/ G,,z/A,,/- A,,/G,,z/ G,,A,,/^^F,,/- F,,<z    ||
```

</details>

It might seem strange that this is in 5â„4, when the prime form of the subject is in 4â„4. However, the use of 5â„4 is just for effect, and is limited to the introduction of the piece. Later, these accompaniment parts drop the final [beat][beat] of the [bar][bar] entirely, thus fitting into 4â„4. The [metric][metre] structure can be reduced as follows. Iâ€™ll use an uppercase `X` for stressed [sixteenth notes](https://en.wikipedia.org/wiki/Sixteenth_note), a lowercase `o` for less stressed sixteenth notes, and a [hyphen-minus](https://en.wikipedia.org/wiki/Hyphen-minus) (`-`) for sixteenth notes that are less stressed than an `o`, or that are not felt at all:

```text
Xo-Xo-XoXo-Xo-Xo
1 + 2 + 3 + 4 +
```

As you can see, this is basically just an embellishment of [tresillo][tresillo]. Tresillo originated in [the music of Sub-Saharan Africa](https://en.wikipedia.org/wiki/Sub-Saharan_African_music_traditions), and then spread to other parts of the world â€” most notably to [the music of Cuba](https://en.wikipedia.org/wiki/Music_of_Cuba)\*, where it formed the fundamental basis for Afro-Cuban musical styles like e\.g. [Afro-Cuban jazz](https://en.wikipedia.org/wiki/Afro-Cuban_jazz). Tresillo is commonly embellished; for example, see [cinquillo](https://en.wikipedia.org/wiki/Cinquillo), although the pattern that Iâ€™m using here is not cinquillo. The highly [syncopated](https://en.wikipedia.org/wiki/Syncopation) rhythm that results is appropriate, given the rhythmic structure of the prime form of the subject.

For the drum kit, I wrote the following partâ€ :

![Primary drum pattern](primary-drum-pattern.svg "Primary drum pattern")

<details>
<summary>In drum tablature</summary>

```tab
 H|o--o----o--o----||
 S|----o-o-d--g-oog||
 B|oo---o-o-o--o--o||
Hf|--x-x-----x-x---||
   1 + 2 + 3 + 4 +
```

Refer to the appendix for the [drum tablature legend](#drum-tablature-legend).

</details>

As you can see, open [hi-hat](https://en.wikipedia.org/wiki/Hi-hat) hits are placed on the first two notes of the tresillo, and [snare](https://en.wikipedia.org/wiki/Snare_drum) hits are placed on the third (final) note of the tresillo. Somewhat interestingly, the hi-hat pedal presses form a little rhythm of their own:

```text
--X-X-----X-X---
1 + 2 + 3 + 4 +
```

This rhythm creates a [composite](https://en.wikipedia.org/wiki/Rhythm#Composite_rhythm) with the driving tresillo rhythm. I continue to use this hi-hat pedal pattern throughout the drumkit part, even after doing away with the tresillo rhythm.

Looking at the introductory viola and contrabass parts, we can see that they essentially outline a Gâ™¯ [minor chord](https://en.wikipedia.org/wiki/Minor_chord) â€” nothing fancy going on pitch-wise, although there is a [sneaky Aâ™¯ thrown in there](https://en.wikipedia.org/wiki/Nonchord_tone). Well, and thereâ€™s that Fğ„ª at the end! Normally, the seventh [scale degree][degree] of Gâ™¯ minor is Fâ™¯ (the [subtonic](https://en.wikipedia.org/wiki/Subtonic)) â€” however, itâ€™s common to [borrow](https://en.wikipedia.org/wiki/Borrowed_chord) the [leading tone](https://en.wikipedia.org/wiki/Leading-tone) (Fğ„ª in this case) from the [parallel](https://en.wikipedia.org/wiki/Parallel_key) major, as in the [harmonic minor scale](https://en.wikipedia.org/wiki/Minor_scale#Harmonic_minor_scale). The added leading tone produces â€” or as the case may be, implies â€” a more effective [dominant][dominant] that can then be [resolved][resolution] to the [tonic][tonic]. A full Dâ™¯ [major chord](https://en.wikipedia.org/wiki/Major_chord) is outlined at the end: {Dâ™¯,Â Fğ„ª,Â Aâ™¯} (the Aâ™¯ is in the contrabass part).

<details>
<summary>Footnotes for â€œThe introductionâ€</summary>

\*Hence the [Spanish](https://en.wikipedia.org/wiki/Spanish_language) name _tresillo_. Note that in Spanish, _tresillo_ literally means â€œ[triplet](https://en.wikipedia.org/wiki/Tuplet)â€, in the sense of three notes that evenly divide the usual space of two notes. This latter sense should not be confused with the vernacular sense used here.

â€ The notational conventions used here are taken from **Audio Graffiti**â€™s [_Guide to Drum &amp; Percussion Notation_](https://web.mit.edu/merolish/Public/drums.pdf) (2004) ([archived](https://web.archive.org/web/20210210214150/http://web.mit.edu/merolish/Public/drums.pdf)), which is based on **Norman Weinberg**â€™s _Guide to Standardized Drumset Notation_ (2002; 1998). Note that Audio Graffiti is now defunct.

</details>

#### Musical texture

By continuing to accompany the various mutations of the subject with viola and contrabass parts similar to the ones that you see above, I was essentially going for a [homophonic](https://en.wikipedia.org/wiki/Homophony) kind of [texture][texture]; the viola produces [broken chords](https://en.wikipedia.org/wiki/Arpeggio), and the contrabass supports the broken chords with a [bassline](https://en.wikipedia.org/wiki/Bassline). In the end, Iâ€™ve obtainedâ€¦ more or less what I was going for, but there are also some not-so-subtle hints at [polyphony](https://en.wikipedia.org/wiki/Polyphony)\* throughout. Some genuine moments of polyphony help to â€œglue togetherâ€ (if you will) some of the liminal regions of the [harmony](https://en.wikipedia.org/wiki/Harmony). And furthermore, the unpredictably shifting rhythmic structure of the main melody encourages a â€œwhatever worksâ€ approach to writing the accompaniment â€” sticking _strictly_ to broken chords may sound rather â€œforcedâ€, on certain rhythms. The melody mutates in a way that I did not pre-determine (that was the whole point of the [stochastic](https://en.wikipedia.org/wiki/Stochastic) bits!), so itâ€™s my job to make the accompaniment cooperate with the glockenspiel part â€” not so much the other way around. And alsoâ€¦ I just couldnâ€™t help myselfâ€¦

<details>
<summary>Footnotes for â€œMusical textureâ€</summary>

\*_Polyphony_ is sometimes used in the very broad sense of â€œany [musical texture][texture] featuring two or more [voices][part]â€. However, such a sense fails to distinguish between [homophony](https://en.wikipedia.org/wiki/Homophony) and true polyphony (in the usual sense), and also fails to distinguish between [heterophony](https://en.wikipedia.org/wiki/Heterophony) and true polyphony.

</details>

#### Timbral issues

I quickly started to notice that my arrangement of [glockenspiel](https://en.wikipedia.org/wiki/Glockenspiel), [pizzicato](https://en.wikipedia.org/wiki/Pizzicato) [viola](https://en.wikipedia.org/wiki/Viola), pizzicato [contrabass](https://en.wikipedia.org/wiki/Double_bass), and [drumkit](https://en.wikipedia.org/wiki/Drum_kit) was having some issues, at least within the â€œperformanceâ€ and â€œrecordingâ€ (using both of these terms very loosely) paradigm that Iâ€™m working with â€” namely, [MuseScore 3](https://musescore.org/)â€™s built-in [MIDI](https://en.wikipedia.org/wiki/MIDI) playback. In a [live music](https://en.wikipedia.org/wiki/Concert) setting, the arrangement would almost work, with the exception of the drumkit being too loud. The glockenspiel is not impressively loud (mostly just impressively high-pitched), and the pizzicato violin-family instruments can work with this, as violin-family instruments are characteristically quiet and [transient][transient]-heavy (read: [fast decay, low sustain][envelope]), particularly when compared to playing the same instrument [arco][bow]. A drumkit, on the other hand, is not so subtle. There are ways to make drums more subtle:

- Play more softly (obviously). This can only take you so far, as below a certain [dynamic level][dynamics], the drumkit part loses intelligibility.
- Use different [beaters](https://en.wikipedia.org/wiki/Percussion_mallet), instead of the usual [drumsticks](https://en.wikipedia.org/wiki/Drum_stick). [Rutes][rute] are now commonly used in drumkit playing. In some cases, even brushes can work; however, brushes are more traditionally used for [snare](https://en.wikipedia.org/wiki/Snare_drum) playing, and when applied to the drumkit, can suffer from similar intelligibility issues to just trying to play softly. Some techniques that are possible with sticks/rutes are not possible with brushes (and vice versa).
- Try to use acoustic arrangements that downplay the drumkit. This could include things like (note that all of these things potentially have knock-on effects):
    - [Amplifying](https://en.wikipedia.org/wiki/Instrument_amplifier) other instruments, but not the drumkit (or amplifying the drumkit to a lesser degree).
    - Moving the drumkit physically further away from the other instruments (and from the audience), to get a little more acoustic attenuation/dispersion.
    - â€¦etc.â€¦
- In a non-live setting, drums can be [mixed][mixing] to the [engineer](https://en.wikipedia.org/wiki/Audio_engineer)â€™s satisfaction.

But, ultimately, I picked drumkit mostly because Iâ€™m very familiar with writing for kit, and the part that I wrote isâ€¦ pretty busy and complicated. The main issue with this is that normally, the glockenspiel sonically cuts through an arrangement by having such high-frequency [fundamentals](https://en.wikipedia.org/wiki/Fundamental_frequency), resulting in the glockenspiel having significant â€” and importantly, intelligible â€” activity at _and above_ the 2k[Hz](https://en.wikipedia.org/wiki/Hertz)â€“4kHz [band](https://en.wikipedia.org/wiki/Frequency_band). The 2kHzâ€“4kHz band is a critical range for [human auditory perception](https://en.wikipedia.org/wiki/Psychoacoustics), and audio mixing techniques tend to target this band for â€œleadâ€ voices, e\.g. the leading vocal line in a [pop](https://en.wikipedia.org/wiki/Pop_music) song. Anything above this range (viz. \>4kHz) is usually thought of as â€œhigh frequencyâ€ or even â€œvery high frequencyâ€, and tends to be felt, rather than heard. Most [acoustic instruments](https://en.wikipedia.org/wiki/Acoustic_music) donâ€™t naturally produce high-amplitude content in the \>4kHz frequencies, and this results in instruments that _do_ produce significant content at \>4kHz being thought of as â€œharsh-soundingâ€. Instruments like glockenspiel tend to get a pass because of their low [inharmonicity](https://en.wikipedia.org/wiki/Inharmonicity), hence the â€œchimeâ€- or â€œbellâ€-like quality of their [timbre](https://en.wikipedia.org/wiki/Timbre).

On the other hand, a drumkit is an assemblage of [unpitched percussion instruments](https://en.wikipedia.org/wiki/Unpitched_percussion_instrument), some of which are known for their [noisiness](https://en.wikipedia.org/wiki/Colors_of_noise)\*. As a result of being noisy, these instruments tend to have significant activity across almost the entire [human hearing range](https://en.wikipedia.org/wiki/Hearing_range) (roughly 20Hzâ€“20kHz) â€” in other words, these instruments have unusually broad [spectral density](https://en.wikipedia.org/wiki/Spectral_density), particularly around the higher frequencies of the human hearing range. For example, [hi-hats](https://en.wikipedia.org/wiki/Hi-hat) produce signals that are basically bursts of [white noise](https://en.wikipedia.org/wiki/White_noise)!â€  And even a less noisy [cymbal](https://en.wikipedia.org/wiki/Cymbal) like a [ride](https://en.wikipedia.org/wiki/Ride_cymbal) can contain significant high-frequency content, especially when played on (or near) the bell of the ride. All of this can, regrettably, result in the drumkit stepping on the toes of the glockenspiel.

To remedy this issue, I decided to double the glockenspiel throughout _almost_ all of its part. In particular, I settled on using a [vibraphone](https://en.wikipedia.org/wiki/Vibraphone) to double the glockenspiel two [octaves](https://en.wikipedia.org/wiki/Octave) below it. This results in the glockenspiel and vibraphone parts being written identically, as the glockenspiel is a [transposing instrument](https://en.wikipedia.org/wiki/Transposing_instrument) that sounds two octaves higher than written. The doubling effect is supposed to be a bit subtle, so that the glockenspiel is still clearly heard as the â€œleadâ€ instrument; the vibraphone is played at a much lower volume/dynamic level. I considered a few other instruments to do the doubling, including [celesta](https://en.wikipedia.org/wiki/Celesta) and [marimba](https://en.wikipedia.org/wiki/Marimba). Both the celesta and marimba are closely related to the glockenspiel (and to the vibraphone); in fact, we can take a look at their [Hornbostelâ€“Sachs](https://en.wikipedia.org/wiki/Hornbostel%E2%80%93Sachs)â€¡ (Hâ€“S) classifications:

| name         | Hâ€“S        |
| :----------- | :--------- |
| glockenspiel | 111\.222   |
| vibraphone   | 111\.222   |
| celesta      | 111\.222-8 |
| marimba      | 111\.212   |

The reason for picking a similar instrument to the glockenspiel is obvious: itâ€™s merely there to _reinforce_ the glockenspiel part, and should _not_ sound like its own independent voice. The only real difference between a glockenspiel and a vibraphone (assuming that the latter has its [motor](https://en.wikipedia.org/wiki/Engine) powered off) is that the vibraphone has a lower [range][range] (and a [sustain pedal](https://en.wikipedia.org/wiki/Sustain_pedal), I suppose). The vibraphone is probably more common in [jazz](https://en.wikipedia.org/wiki/Jazz) than it is in [Western classical music](https://en.wikipedia.org/wiki/Classical_music), although [**Berg**](https://en.wikipedia.org/wiki/Alban_Berg), for example, did use it extensively (q\.v. [_Lulu_][lulu] (1935)). Putting the vibraphone quite low in the mix is important here, as its range is close to that of the viola, and the viola part is quite important as well (I put a lot of work into it lol).

<details>
<summary>Footnotes for â€œTimbral issuesâ€</summary>

\*The word _noise_ (and related words like _noisy_, _noisiness_, etc.) is used to mean several different things in [English](https://en.wikipedia.org/wiki/English_language). In this context, I mean _noise_ in the technical sense of â€œ[stochastic](https://en.wikipedia.org/wiki/Stochastic_process) signalâ€. Think _white noise_, _pink noise_, etc.

â€ This often results in hi-hats being a kind of [shibboleth](https://en.wikipedia.org/wiki/Shibboleth) that can distinguish [lossy](https://en.wikipedia.org/wiki/Lossy_compression) audio [coding formats](https://en.wikipedia.org/wiki/Audio_coding_format) from lossless ones.

â€¡For a Hornbostelâ€“Sachs classification reference, see [**MIMO**](https://mimo-international.com/)â€™s \[**[raw HTTP](https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Encrypted_connections) warning**\] â€œ[Revision of the Hornbostelâ€“Sachs Classification of Musical Instruments by the MIMO Consortium](http://www.mimo-international.com/documents/Hornbostel%20Sachs.pdf)â€ (2011-07-08; [archived](https://web.archive.org/web/20220120174133/http://www.mimo-international.com/documents/hornbostel%20sachs.pdf)).

</details>

#### Dotted eighth pattern

At the point where ğ‚<sub>t</sub><sup>8</sup> kicks in, the rhythm of the subject changes enough that I shake up the rhythm of the accompaniment, as well. One part of this was that it sounded to me like a good time to introduce a [dotted](https://en.wikipedia.org/wiki/Dotted_note) [eighth note](https://en.wikipedia.org/wiki/Eighth_note) pattern in the [cymbals](https://en.wikipedia.org/wiki/Cymbal) of the drumkit part. You can see the first instance of this below\*â€ :

![Dotted eighth note cymbal pattern](dotted-eighth-pattern.svg "Dotted eighth note cymbal pattern")

<details>
<summary>In drum tablature</summary>

```tab
 C|x-------------------------------||
 R|---b--b--b--b--b--b--b--b--b--b-||
 S|-R--o-or-o-og-go--o--d-goo--oo-o||
 B|o-oo----o----og--o-o--o---o-gg-g||
Hf|--x-x-----x-x-----x-x-----x-x---||
   1 + 2 + 3 + 4 + 1 + 2 + 3 + 4 +
```

Refer to the appendix for the [drum tablature legend](#drum-tablature-legend).

</details>

As you can see, I have a [ride](https://en.wikipedia.org/wiki/Ride_cymbal) bellâ€  hit at every dotted eighth note interval. Because the pattern is just two [bars][bar] of 4â„4, there are a total of 32 [sixteenth notes](https://en.wikipedia.org/wiki/Sixteenth_note) making up the patternâ€™s duration, and 32 isnâ€™t [divisible](https://en.wikipedia.org/wiki/Divisor) by three (three being the number of sixteenth notes making up a dotted eighth note). So the ride bell pattern is â€œtruncated to fitâ€, if you will â€” the final ride bell hit in the pattern is just a normal undotted eighth note. Also, you can see that the hi-hat pedal pattern is still intact.

The dotted eighth notes, against the 4â„4 [metre][metre] and the undotted eighth notes in the hi-hat part, generate a particular example of [polyrhythm](https://en.wikipedia.org/wiki/Polyrhythm). In particular, this is essentially a 3âˆ¶4 (dotted eighthâˆ¶[quarter](https://en.wikipedia.org/wiki/Quarter_note)) polyrhythm.

<details>
<summary>Footnotes for â€œTimbral issuesâ€</summary>

\*The notational conventions used here are taken from **Audio Graffiti**â€™s [_Guide to Drum &amp; Percussion Notation_](https://web.mit.edu/merolish/Public/drums.pdf) (2004) ([archived](https://web.archive.org/web/20210210214150/http://web.mit.edu/merolish/Public/drums.pdf)), which is based on **Norman Weinberg**â€™s _Guide to Standardized Drumset Notation_ (2002; 1998). Note that Audio Graffiti is now defunct.

â€ Iâ€™m using the [diamond](https://en.wikipedia.org/wiki/Rhombus)-shaped noteheads to indicate that specifically the _bell_ of the ride should be struck.

</details>

#### A difficult mutation

I made good progress writing viola, contrabass, and drumkit parts around the successive mutations of the glockenspiel melody. Then, I came across a bit of aâ€¦ difficult mutation. The ğˆ<sub>p</sub> function was used early on; in fact, itâ€™s the first mutation function in the [pseudorandom](https://en.wikipedia.org/wiki/Pseudorandomness) stream. Keep in mind that ğˆ<sub>p</sub> is just ğŒ<sub>11</sub> ([pitch multiplication][mul] by 11). When I later arrived at the ğŒ<sub>5</sub> function, I expected something a little bit more exotic â€” after all, it doesnâ€™t have a very straightforward interpretation like â€œpitch-class [inversion][inversion]â€ â€” but didnâ€™t expect it to be much more difficult to work with than ğŒ<sub>11</sub>. Well, I guess my expectations were a bit misplaced. Maybe itâ€™s because I decided to always use Gâ™¯ as the pitch-class [origin][origin] (to maintain the mathematical structure discussed above), in spite of the fact that I was essentially working in the key of [F major](https://en.wikipedia.org/wiki/F_major) by this point, thanks to the ğŒ<sub>11</sub> and ğ“<sup>4</sup> functions. Maybe not. In any case, [applying](https://en.wikipedia.org/wiki/Function_application) ğŒ<sub>5</sub> left me with the following sequence of pitch-classes:

âŸ¨Fâ™¯,Â Câ™¯,Â Fâ™¯,Â E,Â Fâ™¯,Â Gâ™¯,Â F,Â Fâ™¯,Â E,Â Fâ™¯,Â Câ™¯,Â E,Â Câ™¯,Â D,Â Fâ™¯,Â Câ™¯,Â Dâ™¯,Â E,Â F,Â Câ™¯âŸ©.

If we write these in [integer notation](https://en.wikipedia.org/wiki/Pitch_class#Integer_notation), with Gâ™¯ as the origin, we get:

âŸ¨10,Â 5,Â 10,Â 8,Â 10,Â 0,Â 9,Â 10,Â 8,Â 10,Â 5,Â 8,Â 5,Â 6,Â 10,Â 5,Â 7,Â 8,Â 9,Â 5âŸ©.

Some of you may be looking at this and already weeping. If we deduplicate the entries in this sequence (and write them in ascending order), we get:

{0,Â 5,Â 6,Â 7,Â 8,Â 9,Â 10}.

Now thatâ€™s what I call [chromatic](https://en.wikipedia.org/wiki/Chromatic_scale)! The [interval vector](https://en.wikipedia.org/wiki/Interval_vector) for this [pitch-class set][pc-set] is âŸª554331âŸ«; compare this to the interval vector of a much more familiar pitch-class set of [cardinality](https://en.wikipedia.org/wiki/Cardinality) seven, the [diatonic scale](https://en.wikipedia.org/wiki/Diatonic_scale): âŸª254361âŸ«. Yeahâ€¦ the diatonic scale has three more [perfect](https://en.wikipedia.org/wiki/Perfect_fifth) intervals, and three fewer [semitones](https://en.wikipedia.org/wiki/Semitone)\*â€¦ \>.\< But wait â€” some of these pitch-classes only appear once in the melody, so maybe we can justâ€¦ dismiss them as alterationsâ€¦? In particular, 6 and 7 both appear only once. Well, 0 also appears only once, but weâ€™re going to ignore that fact for now.â€  Plucking out 6 and 7 gets us:

{0,Â 5,Â 8,Â 9,Â 10}.

Remember all that mumbo-jumbo from before, about [bracelets][necklace] and pitch-class sets? Well, the normal form of this pitch-class set is {0,Â 2,Â 3,Â 4,Â 7} ([Forte](https://en.wikipedia.org/wiki/Forte_number) 5-11). But, to get to this normal form from {0,Â 5,Â 8,Â 9,Â 10}, we have to do an [inversion][inversion]. Because weâ€™re treating pitch-class inversion as its own mutation function, and as its own pitch multiplication (ğŒ<sub>11</sub>), we canâ€™t take it for granted (i\.e. weâ€™re working with _necklaces_ now, not bracelets). So if we want a kind of â€œnormal formâ€ of this pitch-class set for _our_ purposes, then we have to do it with [transposition][transpose] alone, because transposition is really just choosing a different origin â€” and the choice of origin was pretty arbitrary to begin with. This gets us the following â€œnormal formâ€ (listed [here](https://en.wikipedia.org/wiki/List_of_pitch-class_sets) as Forte 5-11B):

{0,Â 3,Â 4,Â 5,Â 7}.

Now, instead of Gâ™¯ being the origin, Câ™¯ ([or perhaps Dâ™­](https://en.wikipedia.org/wiki/Enharmonic)) is the origin. As you can see, plucking out those two pitch-classes didnâ€™t really get rid of the difficult-to-interpret chromaticism; the [subset](https://en.wikipedia.org/wiki/Subset) {3,Â 4,Â 5} still represents more than one adjacent semitone. Having more than one adjacent semitone represented within a tonal region is musically unusual. Such an occasion is usually due to the tonal region being [intentionally difficult](https://en.wikipedia.org/wiki/Enigmatic_scale), [intentionally chromatic](https://en.wikipedia.org/wiki/Twelve-tone_technique), or [analysed in a way that includes â€œblue notesâ€ as being part of the tonal region](https://en.wikipedia.org/wiki/Blues_scale)â€¡. However, in this case, itâ€™s none of these things; here, the apparent â€œchromaticismâ€ is incidental, as a result of treating pitches [set-theoretically][set-theory] and doing a straightforward [multiplication][mul] operation. And Iâ€™m left here to try to figure out what Iâ€™m supposed to do with this sequence of pitch-classesâ€¦

Well, if I decide to take the {0,Â 3,Â 4,Â 5,Â 7} set, at face value, as a starting point, then we can straightforwardly take the origin (viz. 0) to be the â€œ[tonic][tonic]â€. Doing so gives us a kind of [split third](https://en.wikipedia.org/wiki/Added_tone_chord#Mixed_third_chords) structure; we could think of it like a kind of [pentachord](https://en.wikipedia.org/wiki/Pentachord) (in the sense of â€œany five consecutive notes of a \[[diatonic](https://en.wikipedia.org/wiki/Diatonic_scale)\] [scale][scale]â€), where the second [degree][degree] of a [major scale](https://en.wikipedia.org/wiki/Major_scale) has been raised to an [augmented second](https://en.wikipedia.org/wiki/Augmented_second) above the tonic. Because this is an initial pentachord, no sixth nor seventh degrees are present; as a result, we could equally well interpret this as the initial [Mixolydian](https://en.wikipedia.org/wiki/Mixolydian_mode) pentachord (with the same â™¯2 degree alteration). The [seventh chord](https://en.wikipedia.org/wiki/Seventh_chord) built on the tonic would then be a Dâ™­7â™¯9 â€” the â€œ7â€ here denotes â€œ[dominant seventh chord](https://en.wikipedia.org/wiki/Dominant_seventh_chord)â€, and the â€œâ™¯9â€ denotes an [alteration](https://en.wikipedia.org/wiki/Altered_chord) of the ninth [factor][factor] to an [augmented ninth](https://en.wikipedia.org/wiki/Ninth#Augmented_ninth) (see [\[1\]][chord-naming], [\[2\]](https://en.wikipedia.org/wiki/Dominant_seventh_sharp_ninth_chord)). A nice corollary of this is that the two pitch-classes that we omitted would be the [minor ninth](https://en.wikipedia.org/wiki/Ninth#Minor_ninth) and [major ninth](https://en.wikipedia.org/wiki/Ninth#Major_ninth) (the latter being the unaltered ninth) of this chord, both of which are _also_ theoretically useful for a dominant seventh chord (the use of â™­9 can be thought of as stemming from the [altered scale](https://en.wikipedia.org/wiki/Altered_scale)). So, heyâ€¦ I managed to squeeze something _vaguely_ tonal out of this mess of a pitch-class sequence! After a whole lot of squeezing!!!

Because the tonality here is fairly ambiguous, and because I somehow managed to analyse a split third out of it, itâ€™s unclear how to write the [key signature](https://en.wikipedia.org/wiki/Key_signature). Ultimately, the key signature doesnâ€™t actually matter all that much here; however, while Iâ€™m writing the other parts (viola and contrabass) around this glockenspiel melody, it will impart some opinion upon the pitches that I choose. Because our pitch-classes are a bitâ€¦ all over the place, itâ€™s totally fair to just have no key signature at all; having no key signature is not uncommon. But if we actually play the melody (the melody, as shown below, is just one possible rendering; remember that [the octave of each note can be changed freely](https://en.wikipedia.org/wiki/Pitch_class))â€¦

![The fifth mutation of the subject melody](m5.svg "The fifth mutation of the subject melody")

<details>
<summary>In ABC notation</summary>

```abc
%abc-2.2
X:2
T:The fifth mutation of the subject melody of â€œcervineâ€™s Themeâ€
C:deer
M:4/4
L:1/8
Q:1/4=108
I:linebreak $
K:none
^f/^cf/- fe/f/- f/^G/^e/f/ =e/fc/- | ce/^c/- c/d/^f c^d e/^ec/ |
```

</details>

â€¦Then it becomes clear that said melody centres around Fâ™¯. Because Câ™¯7â™¯9 (or Dâ™­7â™¯9) is an [altered dominant](https://en.wikipedia.org/wiki/Altered_chord#Altered_dominant_chord) of [Fâ™¯ major](https://en.wikipedia.org/wiki/F-sharp_major) (or [Gâ™­ major](https://en.wikipedia.org/wiki/G-flat_major)), this actually accords with the analysis above. To see why Fâ™¯ sounds like the â€œcentreâ€ (dare I say â€œtonicâ€!) here, recall when I originally analysed the _prime_ form of the subject. I found that it sounded like it was pretty firmly in the key of [Gâ™¯ minor](https://en.wikipedia.org/wiki/G-sharp_minor). Furthermore, when counting up the number of occurrences of each [scale degree][degree], I found that the second (the [supertonic](https://en.wikipedia.org/wiki/Supertonic)) and the third (the [mediant](https://en.wikipedia.org/wiki/Mediant)) were by far the most frequent, even more frequent than the tonic! These would be Aâ™¯ and B, respectively. We can look at how these two pitch-classes evolved over the course of the random mutations (again, Gâ™¯ is the [origin][origin], and Iâ€™ll be spelling everything with [sharps][sharp] to aid comprehension):

ğˆ<sub>p</sub>&#x2062;âŸ¨Aâ™¯,Â BâŸ©Â =Â âŸ¨Fâ™¯,Â Eâ™¯âŸ©

ğ“<sup>4</sup>&#x2062;ğˆ<sub>p</sub>&#x2062;âŸ¨Aâ™¯,Â BâŸ©Â =Â âŸ¨Aâ™¯,Â AâŸ©

ğŒ<sub>5</sub>&#x2062;ğ“<sup>4</sup>&#x2062;ğˆ<sub>p</sub>&#x2062;âŸ¨Aâ™¯,Â BâŸ©Â =Â âŸ¨Fâ™¯,Â Câ™¯âŸ©.

Interestingly â€” and by pure coincidence â€” the first of these two pitch-classes has only oscillated between Aâ™¯ and Fâ™¯. Perhaps this contributes to the tonicisation of Fâ™¯. In any case, what started out as {Aâ™¯,Â B} in the prime form of the subject, is now {Fâ™¯,Â Câ™¯}. Depending on whether you let Fâ™¯ be the origin, or let Câ™¯ be the origin, this [dyad][dyad] either spans a [perfect fifth](https://en.wikipedia.org/wiki/Perfect_fifth), or spans a [perfect fourth](https://en.wikipedia.org/wiki/Perfect_fourth). In [the West](https://en.wikipedia.org/wiki/Western_culture#Music), a perfect fourth in isolation is traditionally considered to be [dissonant](https://en.wikipedia.org/wiki/Consonance_and_dissonance); the way that such a dissonance is usually (melodically) â€œresolvedâ€ is by collapsing the perfect fourth into a [major third](https://en.wikipedia.org/wiki/Major_third) or into a [minor third](https://en.wikipedia.org/wiki/Minor_third). In this tradition, perfect fourths could only be consonant when they appear as the [inversion][inversion] of a perfect fifth thatâ€™s found in some chord; for example, a major (or minor) [triad][triad] in [second inversion](https://en.wikipedia.org/wiki/Second_inversion). But even then, resolving to a triad thatâ€™s not in [root position](https://en.wikipedia.org/wiki/Root_position) would be considered â€œincompleteâ€ in some sense, requiring still further resolution in order to be truly resolved. So, naturally, this dyad feels like a perfect fifth, with Fâ™¯ â€œon the bottomâ€ (i\.e. as the origin). This dyad could, for example, be turned into an Fâ™¯ [major triad](https://en.wikipedia.org/wiki/Major_chord) by the inclusion of an Aâ™¯.

So, when it came to the key signature, I decided on [Fâ™¯ major](https://en.wikipedia.org/wiki/F-sharp_major) (six sharps). Because the previous section is in [F major](https://en.wikipedia.org/wiki/F_major), it actually does end up sounding like a [modulation][modulation] up by a [semitone](https://en.wikipedia.org/wiki/Semitone), as I (at first) intentionally mimic the viola and contrabass parts from the previous section.

With this in mind, I want to take a look at the main portion of _cervineâ€™s Theme_ â€” where the subject is mutated randomly â€” and show a little about whatâ€™s going on tonally.

<details>
<summary>Footnotes for â€œA difficult mutationâ€</summary>

\*Note that the sum of the interval vectorâ€™s entries (the [ğ¿<sup>1</sup> norm](https://en.wikipedia.org/wiki/Lp_space) of the interval vector) is always the (ğ‘˜Â âˆ’Â 1)th [triangular number](https://en.wikipedia.org/wiki/Triangular_number), where ğ‘˜ is the cardinality of the pitch-class set. So, because weâ€™re just looking at [heptatonic](https://en.wikipedia.org/wiki/Heptatonic_scale) (ğ‘˜Â â‰”Â 7) sets here, the ğ¿<sup>1</sup> norm is just [<sub>7</sub>ğ–¢<sub>2</sub>](https://en.wikipedia.org/wiki/Binomial_coefficient)Â =Â 21. Also, as a matter of notation, itâ€™s common to not separate the entries in the vector from one another (you might expect them to be separated by, for example, [commas](https://en.wikipedia.org/wiki/Comma)), as each entry is always a single [digit](https://en.wikipedia.org/wiki/Numerical_digit).

â€ If you get rid of 0 as well, the same logic will apply anyways. Leaving in 0 just makes the structure (if it can be called thatâ€¦) a little more obvious. And also, 0 is significant here for being the [origin][origin] â€” because 0 is the [absorbing element](https://en.wikipedia.org/wiki/Absorbing_element) of ([â„¤â§¸12â„¤](https://en.wikipedia.org/wiki/Modular_arithmetic#Integers_modulo_n),Â â‹…), itâ€™s a [fixed point][fixed-point] of ğŒ<sub>ğ‘˜</sub> [for any](https://en.wikipedia.org/wiki/Universal_quantification) ğ‘˜.

â€¡Arguably, this last possibility is an abuse of the notion of â€œtonal regionâ€. That being said, exactly what â€œtonal regionâ€ conceptually means is situational â€” it depends significantly on your broader theoretical framework.

</details>

#### First mutation (ğˆ<sub>p</sub>)

![Mutation 1 (ğˆâ‚š)](mutation-1.svg "Mutation 1 (ğˆâ‚š)")

(Pardon the misspellings; the â€œAâ™®â€s should be â€œBğ„«â€s, and the â€œEâ™®â€s should probably be â€œFâ™­â€sâ€¦)

<details>
<summary>In ABC notation</summary>

```abc
%abc-2.2
X:3
T:â€œcervineâ€™s Themeâ€, first mutation (ğˆâ‚š)
C:deer
M:4/4
L:1/8
Q:1/4=108
I:linebreak $
V:1 name="Glockenspiel" clef=treble instrument=c''
V:2 name="Viola"        clef=alto
V:3 name="Contrabass"   clef=bass   instrument=C
K:Db
[V:1] F/dA/-    Ae/F/-      F/G/B     FA            |
[V:2] F/A,F/    A,D/G,/     F/A,F/    A,D/__B,/     |
[V:3] D,/A,,z/  A,,z/G,,/-  G,,/A,,z/ A,,G,,/__B,,/ |
[V:1] F/GA/     G/d_F/-     FG/A/-    A/G/=F/G/     |
[V:2] E,/G,E,/  G,D/_F,/    E,/B,G,/  GF/_F/        |
[V:3] B,,/G,,z/ G,,z/_F,,/- F,,/B,,z/ G,F,/_F,/     |
```

</details>

The first mutation is [pitch inversion][inversion], which swings us from the starting key of [Gâ™¯ minor](https://en.wikipedia.org/wiki/G-sharp_minor) to a new key of [Dâ™­ major](https://en.wikipedia.org/wiki/D-flat_major); this moves the tonic down by a [perfect fifth](https://en.wikipedia.org/wiki/Perfect_fifth), and additionally [shifts from minor to the parallel major](https://en.wikipedia.org/wiki/Parallel_key). In the figure above, Iâ€™ve done a little [Roman numeral analysis](https://en.wikipedia.org/wiki/Roman_numeral_analysis), highlighting each tonal subregion with its own colour. A simplified version might look something like this (in Dâ™­ major):

IÂ â€“Â IVÂ â€“Â IÂ â€“Â ivÂ â€“Â ii7Â â€“Â IV\[âˆ†\]7.

(See the [Roman numeral analysis legend](#roman-numeral-analysis-legend) in the appendix below.)

Thereâ€™s nothing super funky going on here, for the most part. The I functions as a tonic; although it does appear exclusively in [second inversion](https://en.wikipedia.org/wiki/Second_inversion) (I<sup>6</sup><sub>4</sub>), which classically can have a [predominant](https://en.wikipedia.org/wiki/Predominant_chord) [function][functional-harmony], itâ€™s not being used like that here. The IV, iv, and ii are all perfectly usual predominant chords, and virtually â€œfunctionâ€ this way here, although the IV\[âˆ†\]7 is perhaps a bit confusing in the context of Dâ™­ major (i\.e. itâ€™s not clearly a [dominant][dominant], at least not yet). The next [measure][bar] (not shown above) is written in [F major](https://en.wikipedia.org/wiki/F_major), in which case this chord functions as â™­II\[âˆ†\]7 (a\.k\.a. V\[âˆ†\]7â§¸â™­V); effectively a [tritone substitution](https://en.wikipedia.org/wiki/Tritone_substitution) in F major.

Speaking of this last chord, I have it analysed as a [major triad](https://en.wikipedia.org/wiki/Major_chord) with a [split seventh](https://en.wikipedia.org/wiki/Added_tone_chord) on top. Split sevenths are a bit unusual (probably because they necessarily produce a 3-1\*), but both F and Fâ™­ do feature fairly prominently here. Tonally, it actually kinda makes sense, considering that this chord functions as a [pivot chord][pivot] from Dâ™­ major to F major: in Dâ™­, this would diatonically be a [major seventh chord](https://en.wikipedia.org/wiki/Major_seventh_chord) (IVâˆ†7); in F major, a [seventh chord](https://en.wikipedia.org/wiki/Seventh_chord) based on this [root][root] would tonally be some kind of tritone substitution, and thus a [dominant seventh chord](https://en.wikipedia.org/wiki/Dominant_seventh_chord) of some kind (â™­II7, a\.k\.a. V7â§¸â™­V). This naturally suggests a split seventh. Also, because of the split seventh combined with the chord being in [third inversion](https://en.wikipedia.org/wiki/Third_inversion), the â€œIV\[âˆ†\]13<sup>4</sup><sub>2</sub>â€ (and the â€œâ™­II\[âˆ†\]13<sup>4</sup><sub>2</sub>â€) in the image above is ambiguous â€” in this case, Fâ™­ is in [the bass](https://en.wikipedia.org/wiki/Bass_note), so this is to be interpreted as IV13<sup>4</sup><sub>2</sub> with an added major seventh above the root.

<details>
<summary>Footnotes for â€œFirst mutation (ğˆ<sub>p</sub>)â€</summary>

\*Iâ€™m just going to use â€œ[Forte 3-1](https://en.wikipedia.org/wiki/List_of_pitch-class_sets)â€ (â€œ3-1â€ for short) to refer to [chromatically](https://en.wikipedia.org/wiki/Chromatic_scale)-filled-in [whole tones](https://en.wikipedia.org/wiki/Major_second). To be honest, it comes up so frequently that itâ€™s nice to have a less awkward and less ambiguous name for it.

</details>

#### Second mutation (ğ“<sup>4</sup>)

![Mutation 2 (ğ“â´)](mutation-2.svg "Mutation 2 (ğ“â´)")

<details>
<summary>In ABC notation</summary>

```abc
%abc-2.2
X:4
T:â€œcervineâ€™s Themeâ€, second mutation (ğ“â´)
C:deer
M:4/4
L:1/8
Q:1/4=108
I:linebreak $
V:1 name="Glockenspiel" clef=treble instrument=c''
V:2 name="Viola"        clef=alto
V:3 name="Contrabass"   clef=bass   instrument=C
K:F
[V:1] A/fc/-             cg/A/-      A/B/d    Ac          |
[V:2] F/CF/              CF/B,/      A,/CA,/  CF/_D/      |
[V:3] F,/C,z/            C,z/B,,/-   B,,/C,z/ C,_A,,/_D,/ |
[V:1] A/Bc/              B/f_A/-     AB/c/-   c/B/=A/B/   |
[V:2] G,/B,G,/           B,C/_A,/    G,/DB,/  C=A,/G,/    |
[V:3] !courtesy!D,/B,,z/ B,,z/_A,,/- A,,/D,z/ C,E,/G,/    |
```

</details>

The next mutation is [transposition][transpose] up by four [semitones](https://en.wikipedia.org/wiki/Semitone) (ğ“<sup>4</sup>). This takes us from Dâ™­ major to [F major](https://en.wikipedia.org/wiki/F_major), and the beginning of this section starts similarly to the previous one. A simplified version of the above Roman numeral analysis follows:

IÂ â€“Â IVâˆ†9Â â€“Â â™­VIâˆ†7Â â€“Â iiÂ â€“Â IV13Â â€“Â V.

(See the [Roman numeral analysis legend](#roman-numeral-analysis-legend) in the appendix below.)

The â™­VIâˆ†7 (which appears in [second inversion](https://en.wikipedia.org/wiki/Second_inversion)) is non[functional][functional-harmony]; it serves as a [chromatic mediant](https://en.wikipedia.org/wiki/Chromatic_mediant) of the previous subregion (IVâˆ†9). Itâ€™s tempting to read this as â™­VI7, as â™­VI7 is more common and actually has a function, but there are several â€œCâ€s in there, and no â€œCâ™­â€s. We can see that this is a chromatic mediant (in the strict sense) because the [roots][root] of IVâˆ†9 and â™­VIâˆ†7 are separated by a [minor third](https://en.wikipedia.org/wiki/Minor_third) (hence the â€œmediantâ€), and the two chords have the same [triadic][triad] quality â€” they also have the same [seventh chord](https://en.wikipedia.org/wiki/Seventh_chord) quality, as they are both [major seventh chords](https://en.wikipedia.org/wiki/Major_seventh_chord), but thatâ€™s technically just an added bonus. By spelling the two chords, we can see that they share two [common tones][common-tone] (exactly one of which is between the two triads):

- IVâˆ†9: {Bâ™­,Â D,Â **F**,Â A,Â **C**}
- â™­VIâˆ†7: {Dâ™­,Â **F**,Â Aâ™­,Â **C**}

Using â™­VIâˆ†7 as a nonfunctional [passing chord](https://en.wikipedia.org/wiki/Passing_chord) (â€œpassingâ€ because it occurs only in passing), and placing it in a chromatic mediant relationship with the subregion immediately before it, gives this a more â€œmodernâ€ feel. Chromatic mediants and nonfunctional harmony are unusual in Western music from the [common practice period](https://en.wikipedia.org/wiki/Common_practice_period), but reasonably common in styles that emerged during the [20th century](https://en.wikipedia.org/wiki/20th_century) and onwards, including not just [Western art music](https://en.wikipedia.org/wiki/Classical_music) of this era, but also [jazz](https://en.wikipedia.org/wiki/Jazz) (particularly [hard bop](https://en.wikipedia.org/wiki/Hard_bop), [modal jazz](https://en.wikipedia.org/wiki/Modal_jazz), [post-bop](https://en.wikipedia.org/wiki/Post-bop), and onwards) and [video game music](https://en.wikipedia.org/wiki/Video_game_music).

After the ii subregion â€” which commonly has [predominant](https://en.wikipedia.org/wiki/Predominant_chord) function, and does here â€” comes a subregion that I analysed primarily as IV7 (IV13). In a more traditional setting, flattening the seventh [factor][factor] to make this a [dominant seventh chord](https://en.wikipedia.org/wiki/Dominant_seventh_chord) (instead of a major seventh chord) is unusual unless it serves as a [secondary dominant](https://en.wikipedia.org/wiki/Secondary_chord) â€” which it doesnâ€™t, here. However, particularly in jazz (and [blues](https://en.wikipedia.org/wiki/Blues)), itâ€™s common to take chords with a clear function and then transmute them (if they arenâ€™t already) into their â€œ[parallel](https://en.wikipedia.org/wiki/Parallel_key) dominant seventh chordsâ€, if you will. This stems from the use of [neutral sevenths](https://en.wikipedia.org/wiki/Neutral_interval#Seventh) (and thus neutral seventh chords) in blues music: the [minor seventh](https://en.wikipedia.org/wiki/Minor_seventh) is used as a [12-TET](https://en.wikipedia.org/wiki/12_equal_temperament) replacement for a more neutral seventh, because a [major seventh](https://en.wikipedia.org/wiki/Major_seventh) in 12-TET is just too large (also, on [guitar](https://en.wikipedia.org/wiki/Guitar) and other instruments that allow slightly sharp pitches, the seventh factor/[degree][degree] can be [bent](https://en.wikipedia.org/wiki/String_bending) slightly to be more neutral). Of course, [IVâ€“Vâ€“I](https://en.wikipedia.org/wiki/I%E2%80%93IV%E2%80%93V%E2%80%93I) is an [extremely common](https://en.wikipedia.org/wiki/Three-chord_song) progression, and just like all three of these chords are commonly transmuted into dominant seventh chords in the context of e\.g. [12-bar blues](https://en.wikipedia.org/wiki/Twelve-bar_blues) (although the 12-bar blues traditionally has these chords in the opposite order: Vâ€“IV), the same has happened here.

It may seem unusual that I _also_ analysed this as an Italian [augmented sixth chord](https://en.wikipedia.org/wiki/Augmented_sixth_chord); after all, if it were such a chord, it _would_ traditionally be followed by some subregion based on an A [major triad](https://en.wikipedia.org/wiki/Major_chord). An A major triad forms the III of F major, hence the â€œâ§¸IIIâ€; however, the [relative](https://en.wikipedia.org/wiki/Relative_key) minor of F major is [D minor](https://en.wikipedia.org/wiki/D_minor), and in this key, an A major triad is just a plain old V. Thus, even though this â€œIt+6â§¸IIIâ€ is probably better analysed as â€œIV7â€ (or â€œIV13â€, or what have you), I chose to also write it as â€œIt+6â§¸IIIâ€ to illustrate the strong relationship that it has with the relative minor here. I also have it analysed a third way, even: â€œâ™­IIIâˆ†9â™¯11â€. This third analysis might seem even weirder, but is actually well-contextualised by the subregions that appear before it: if we switch to the perspective of [Aâ™­ major](https://en.wikipedia.org/wiki/A-flat_major), â™­VIâˆ†7â€“iiâ€“â™­IIIâˆ†7 becomes IVâˆ†7â€“viiâ€“Iâˆ†7. Thatâ€™s almost a IVâ€“V7â€“I, if only the vii were a viiÂ° (the [leading-tone triad](https://en.wikipedia.org/wiki/Leading-tone#Leading-tone_triad) has a dominant [function][functional-harmony]; you can think of it as a [root][root]less V7). Cool!

#### Third mutation (ğ‚<sub>t</sub><sup>8</sup>)

This mutation performs a [**c**ircular shift](https://en.wikipedia.org/wiki/Circular_shift) of the [duration values](https://en.wikipedia.org/wiki/Note_value) of the notes in the subject â€” the [pitches][pitch] (including the order that they occur in) are left totally intact. The new rhythm of the subject can be notated as follows:

```text
XX-X--XX-XXXXX-X--XX-XX-X-X-XX-X
1 + 2 + 3 + 4 + 1 + 2 + 3 + 4 +
```

See the â€œ[Dotted eighth pattern](#dotted-eighth-pattern)â€ section above. You can see why I went with a [dotted](https://en.wikipedia.org/wiki/Dotted_note) [eighth note](https://en.wikipedia.org/wiki/Eighth_note) pattern in the drumkit part here. Out of the eight [beats][beat], just four have the incipit of a note occurring on them, and looking only at the [on beats][on-beat], again only half of them have a note (even the [downbeat][downbeat] is missing). On the other hand, we can divide this up into ten dotted eighth notes followed by an undotted eighth note (as 3 does not [divide](https://en.wikipedia.org/wiki/Divisor) 32); in doing so, the first _nine_ of these subdivisions have notes starting on them.

![Mutation 3 (ğ‚â‚œâ¸)](mutation-3.svg "Mutation 3 (ğ‚â‚œâ¸)")

<details>
<summary>In ABC notation</summary>

```abc
%abc-2.2
X:5
T:â€œcervineâ€™s Themeâ€, third mutation (ğ‚â‚œâ¸)
C:deer
M:4/4
L:1/8
Q:1/4=108
I:linebreak $
V:1 name="Glockenspiel" clef=treble instrument=c''
V:2 name="Viola"        clef=alto
V:3 name="Contrabass"   clef=bass   instrument=C
K:F
[V:1] A/fc/-         cg/A/-           A/B/d/A/   c/AB/-            |
[V:2] F/CF/          CF/B,/           A,/C/A,/C/ A,/F_D/-          |
[V:3] F,/C,z/        C,z/B,,/-        B,,/C,z/   C,/F,,/_A,,/_D,/- |
[V:1] Bc/B/-         B/f/_A           Bc         B/=AB/            |
[V:2] D/B,/G,/A,/    B,_A,/B,/        =DC/B,/    D/FB,/            |
[V:3] D,/z/B,,/G,,/- G,,/z/G,,/_A,,/- A,,/z/=D,  G,/D,F,/          |
```

</details>

A simplified version of the above Roman numeral analysis follows:

IÂ â€“Â iiiÂ â€“Â â™­VIÂ â€“Â iiÂ â€“Â IV13Â â€“Â ii7.

(See the [Roman numeral analysis legend](#roman-numeral-analysis-legend) in the appendix below.)

This is the first appearance of the [diatonic](https://en.wikipedia.org/wiki/Diatonic_and_chromatic) [mediant](https://en.wikipedia.org/wiki/Mediant) chord, a\.k\.a. iii. Because weâ€™re in the key of [F major](https://en.wikipedia.org/wiki/F_major), this manifests as an A [minor triad](https://en.wikipedia.org/wiki/Minor_chord). The iii is kind of an interesting chord, in that itâ€™s the only one of the seven diatonic triads that has no clear [function][functional-harmony] in Western [tonal music](https://en.wikipedia.org/wiki/Tonality). Thatâ€™s not to say that the mediant is _useless_ â€” to the contrary, it has no clear function just because it can be used for so many things. Different eras and different composers throughout the [common practice period](https://en.wikipedia.org/wiki/Common_practice_period) have used (and analysed) the mediant in varying ways. Because the mediant sits one third away from both the [tonic][tonic] and the [dominant][dominant], some composers and theorists â€” such as [**Schenker**](https://en.wikipedia.org/wiki/Schenkerian_analysis) â€” have treated it has an expansion of the tonic, and others â€” such as [**Riemann**](https://en.wikipedia.org/wiki/Riemannian_theory) â€” have treated it as an expansion of the dominant. The mediant is also commonly the target â€” or method â€” of [modulation][modulation], in which case it may not clearly be either of these two things. In our particular case, the iii triad appears in [first inversion](https://en.wikipedia.org/wiki/First_inversion), which suggests that itâ€™s probably functioning more like an expansion of the dominant (the V) than anything else.

We also revisit the â™­VI here, which appears as â™­VIâˆ†7 in the previous section. Then, the last three tonal subregions here are again similar to the previous section, except that we end on ii7 in [second inversion](https://en.wikipedia.org/wiki/Second_inversion), which hints at the IV, and thus almost functions as a kind of [amen cadence](https://en.wikipedia.org/wiki/Cadence#Plagal_cadence) here.

#### Fourth mutation (ğ‘<sub>p</sub>)

![Mutation 4 (ğ‘â‚š)](mutation-4.svg "Mutation 4 (ğ‘â‚š)")

<details>
<summary>In ABC notation</summary>

```abc
%abc-2.2
X:6
T:â€œcervineâ€™s Themeâ€, fourth mutation (ğ‘â‚š)
C:deer
M:4/4
L:1/8
Q:1/4=108
I:linebreak $
V:1 name="Glockenspiel" clef=treble instrument=c''
V:2 name="Viola"        clef=alto
V:3 name="Contrabass"   clef=bass   instrument=C
K:F
[V:1] B/AB/-    Bc/B/-     B/_A/f/B/        c/B=A/-          |
[V:2] C/FC/     FC/G,/-    G,/_A,/C/_E/     A,/C/E/=A,/-     |
[V:3] C,/F,,z/  F,,z/G,,/- G,,/_A,,/C,/_E,/ A,,/C,/E,/=A,,/- |
[V:1] Ac/A/-    A/d/B      Ag               c/fA/            |
[V:2] A,B,/E/-  E/F/E      A,/B,_D/         _G,/_A,/B,/C/    |
[V:3] A,,/z/B,, E,/D,/E,   A,,/.A,,A,,/     E,/D,/C,/B,,/    |
```

</details>

This mutation (ğ‘<sub>p</sub>) [reverses the order][reflection] of the pitches in the subject, but leaves the rhythm untouched. What follows is the same Roman numeral analysis from the image above:

IÂ â€“Â â™­IIIâˆ†7Â â€“Â IVâˆ†7â™¯11Â â€“Â Vğ–ºğ—…ğ—7â§¸viÂ â€“Â â™­II+11Ã—I.

(See the [Roman numeral analysis legend](#roman-numeral-analysis-legend) in the appendix below.)

The â™­IIIâˆ†7 appears here, which is not entirely new â€” in the â€œSecond mutation (ğ“<sup>4</sup>)â€ section above, I analysed one of the tonal subregions in various ways, including as â™­IIIâˆ†9â™¯11. However, here it appears much more clearly as â™­IIIâˆ†7, and appears directly after the initial I, instead of being more towards the end of the section. This subregion is [borrowed](https://en.wikipedia.org/wiki/Borrowed_chord) from the [parallel](https://en.wikipedia.org/wiki/Parallel_key) minor ([F minor](https://en.wikipedia.org/wiki/F_minor)). After moving to the [subdominant](https://en.wikipedia.org/wiki/Subdominant) (IV[âˆ†7â™¯11](https://en.wikipedia.org/wiki/Lydian_chord)), another subregion is borrowed, but this time from the [relative](https://en.wikipedia.org/wiki/Relative_key) minor ([D minor](https://en.wikipedia.org/wiki/D_minor)): Vğ–ºğ—…ğ—7â§¸vi. In D minor, this is just Vğ–ºğ—…ğ—7. Because the V7 is [altered](https://en.wikipedia.org/wiki/Altered_chord#Altered_dominant_chord), the â™­9 ([minor ninth](https://en.wikipedia.org/wiki/Ninth#Minor_ninth) [factor][factor]) shows up.

Although such an altered dominant chord already produces a lot of tension on its own (that is, after all, what altered dominants are good at), the next tonal subregion after it is even more difficult! Much more difficult, in fact. I have it written as â€œâ™­II+11Ã—Iâ€, in order to fit it within the context of Roman numeral analysis. This is a bit shoehorned, but actually works surprisingly well as an analytical label. Both the viola and contrabass are playing a [whole tone scale](https://en.wikipedia.org/wiki/Whole-tone_scale), ascending and descending, respectively. Because the whole tone scale is highly [symmetric](https://en.wikipedia.org/wiki/Symmetric_scale)\*, there are only two possible whole tone scales in [12-TET](https://en.wikipedia.org/wiki/12_equal_temperament), given a particular [reference pitch][a440]. This one is the one that contains the [pitch-classes](https://en.wikipedia.org/wiki/Pitch_class) {Gâ™­,Â Aâ™­,Â Bâ™­,Â C,Â D,Â E}. Because Iâ€™m using Roman numerals here, I decided to notate this as â€œâ™­II+11â€: if â€œ+7â€ is [{0,Â 4,Â 8,Â 10}](https://en.wikipedia.org/wiki/Pitch_class#Integer_notation), then â€œ+9â€ must be {0,Â 4,Â 8,Â 10,Â 14}, so then surely â€œ+11â€ is {0,Â 4,Â 8,Â 10,Â 14,Â 18}! Aaaand thatâ€™s just the entire whole tone scale. I went with â€œâ™­II+â€ (rather than â€œâ™­III+â€, â€œIV+â€, etc.) because the next section is in [Fâ™¯ major](https://en.wikipedia.org/wiki/F-sharp_major), and in Fâ™¯ major, this would be I+, which is reasonable to resolve to I (among other things).

The fact that Iâ€™m using a whole-tone scale here isnâ€™t really the difficult part _per se_; the whole-tone scale is certainly very non-diatonic, but what makes things _really_ spicy is the fact that thereâ€™s an F [major triad](https://en.wikipedia.org/wiki/Major_chord) going on at the same time (in the glockenspiel part)!! Thatâ€™s why I labelled this subregion as â€œâ™­II+11Ã—Iâ€, rather than e\.g. â€œâ™­II+11â€. The F major triad only shares one of its three [factors][factor] (viz. [C](https://en.wikipedia.org/wiki/Perfect_fifth)) [in common][common-tone] with the chosen whole-tone scale, so this adds two new pitch-classes into the mix and makes things really juicyâ€¦ or â€œmessyâ€, depending on how you look at it. The resulting pitch-class set is [Forte](https://en.wikipedia.org/wiki/Forte_number) 8-24, and its normal form is:

{0,Â 1,Â 2,Â 4,Â 5,Â 6,Â 8,Â 10}.

This pitch-class set is invariant under [inversion][inversion], meaning that it inverts to a [transposition][transpose] of itself. Its [interval vector](https://en.wikipedia.org/wiki/Interval_vector) is âŸª464743âŸ«. This pitch-class set doesnâ€™t have any special name, because who in their right mind would slap a whole-tone scale onto a major triad? â€” and with only one [common tone][common-tone]â€½ However, its complement, Forte 4-24, is the pitch-class set of an [augmented seventh chord](https://en.wikipedia.org/wiki/Augmented_seventh_chord)! Thatâ€™s nice, I guess. Even nicer is the fact that the augmented seventh chord in question is C+7, which is the V+7 (or Vğ–ºğ—…ğ—7, if you prefer) of F major! So itâ€™s kinda like Iâ€™m outlining everything _except_ the dominant chord of the current key, just as Iâ€™m going to modulate to a very distant key (Fâ™¯ major).

That being said, I think that paving over the F major triad playing in the glockenspiel part with a whole-tone scale does actually make a lot of sense, even if it is highly [dissonant](https://en.wikipedia.org/wiki/Consonance_and_dissonance). I canâ€™t change the glockenspiel part to make it not outline an F major triad â€” the glockenspiel part has been generated partially [stochastically](https://en.wikipedia.org/wiki/Stochastic). But leaving it like that makes the transition to Fâ™¯ major sound too mechanical, almost like a [truck driverâ€™s gear change](https://tvtropes.org/pmwiki/pmwiki.php/Main/TruckDriversGearChange)â€ ; modulating directly from an F major chord, the tonic triad of F major, to the key of Fâ™¯ major, is just about as clumsy as it gets. Paving over it with a whole tone scale makes things sound extremely unstable, as the whole tone scale is as unstable as it gets: it has no [modes][mode], because each scale step is of identical size (a [whole tone](https://en.wikipedia.org/wiki/Major_second)). Therefore, none of its scale degrees can be effectively [tonicised][tonic]. This effectively obfuscates whatâ€™s going on while transitioning from F major to Fâ™¯ major.

<details>
<summary>Footnotes for â€œFourth mutation (ğ‘<sub>p</sub>)â€</summary>

\*See also: â€œ[Mode of limited transposition](https://en.wikipedia.org/wiki/Mode_of_limited_transposition)â€.

â€ Also known as â€œtruck driverâ€™s gear shiftâ€.

</details>

#### Fifth mutation (ğŒ<sub>5</sub>)

I talked about my initial attempts to grapple with this mutation (ğŒ<sub>5</sub>) in the section above entitled â€œ[A difficult mutation](#a-difficult-mutation)â€. As mentioned before, ğŒ<sub>5</sub> is [pitch-class multiplication][mul] by five, and in our case, we take the [pitch-class](https://en.wikipedia.org/wiki/Pitch_class) [origin][origin] to be Gâ™¯ throughout. ğŒ<sub>5</sub> is dubbed the â€œ[circle of fourths](https://en.wikipedia.org/wiki/Circle_of_fifths) transformationâ€, and it maps [even][parity] elements to their [inverses][inversion] (e\.g. 2Â â†¦Â 10), with the rest getting expanded by an [augmented triad](https://en.wikipedia.org/wiki/Augmented_triad), viz. each one is [transposed][transpose] by âŸ¨4,Â 0,Â âˆ’4,Â 4,Â 0,Â âˆ’4âŸ©, respectively (i\.e. in ascending order 1, 3, 5, 7, 9, 11). This augmented triad [action](https://en.wikipedia.org/wiki/Group_action) is relevant to the way that I transitioned from the previous section to this one: via a [whole tone scale](https://en.wikipedia.org/wiki/Whole-tone_scale).

![Mutation 5 (ğŒâ‚…)](mutation-5.svg "Mutation 5 (ğŒâ‚…)")

<details>
<summary>In ABC notation</summary>

```abc
%abc-2.2
X:7
T:â€œcervineâ€™s Themeâ€, fifth mutation (ğŒâ‚…)
C:deer
M:4/4
L:1/8
Q:1/4=108
I:linebreak $
V:1 name="Glockenspiel" clef=treble instrument=c''
V:2 name="Viola"        clef=alto
V:3 name="Contrabass"   clef=bass   instrument=C
K:F#
[V:1] f/cf/-        f=e/f/-     f/G/^e/f/   =e/fc/-       |
[V:2] C/FC/         FC/G,/-     G,/E/C/=A,/ =E/C/A,/^A,/- |
[V:3] C,/F,,z/      F,,A,,/C,/- C,/G,,/.E,  .D,B,,/C,/-   |
[V:1] c=e/c/-       c/=d/f      c^d         e/^ec/        |
[V:2] A,G,/B,/-     B,/=D/F     G,/B,/A,/C/ B,/D/C/E/     |
[V:3] C,/z/B,,/=E,/ z/=G,/F,    G,,/.B,,C,/ .B,,C,/^E,/   |
```

</details>

In the image above, Iâ€™ve not only highlighted the tonal subregions and annotated each one with a Roman numeral analysis, but Iâ€™ve also labelled each note of the glockenspiel part (that is, the subject) with a [scale degree][degree]. The degrees are named relative to the [root][root] of the tonal subregion/chord (not to the [tonic][tonic] of the [key][key]), and are also named relative to a [major scale](https://en.wikipedia.org/wiki/Major_scale) starting on said root. So, for example, the iii chord in [Fâ™¯ major](https://en.wikipedia.org/wiki/F-sharp_major) is an Aâ™¯ [minor chord](https://en.wikipedia.org/wiki/Minor_chord); playing a Câ™¯ over this chord would be labelled as â€œâ™­3â€, not â€œ5â€ nor â€œ3â€. The scale degrees are colour-coded, as well. [Chord tones (CTs)][factor] are in black, non-chord tones (NCTs) that are otherwise happy members of the tonal subregion are in orange, and â€œ[blue notes](https://en.wikipedia.org/wiki/Blue_note)â€ â€” basically, non-members of the tonal subregion â€” are in blue. A simplified version of the Roman numeral analysis in the above image follows:

IÂ â€“Â VÂ â€“Â â™­IIIâˆ†9â™¯11Â â€“Â iiiÂ â€“Â â™­VIIÂ â€“Â â™­VIÂ â€“Â viiÂ°7.

(See the [Roman numeral analysis legend](#roman-numeral-analysis-legend) in the appendix below.)

Hopefully youâ€™re not playing a drinking game related to how many times deer can [borrow](https://en.wikipedia.org/wiki/Borrowed_chord) from the [parallel](https://en.wikipedia.org/wiki/Parallel_key) minor, because you might have alcohol poisoning by now. The â™­IIIâˆ†9â™¯11, â™­VII, and â™­VI are all borrowed from the parallel minor, [Fâ™¯ minor](https://en.wikipedia.org/wiki/F-sharp_minor). I considered analysing the â™­VII as v, but preferred â™­VII for its more clearly [dominant][dominant] [function][functional-harmony] (or at least flavour). This swings back to the â™­VI, which serves as a [predominant](https://en.wikipedia.org/wiki/Predominant_chord), and then finally commits to a _really_ functionally dominant chord thatâ€™s actually going to resolve to the [tonic][tonic]: viiÂ°7. [Diatonically](https://en.wikipedia.org/wiki/Diatonic_and_chromatic), this chord appears as viiÂ° (as a [triad][triad]), or as vii[ğ†©7](https://en.wikipedia.org/wiki/Half-diminished_seventh_chord) (as a [seventh chord](https://en.wikipedia.org/wiki/Seventh_chord)), but why be merely [_half_-diminished](https://en.wikipedia.org/wiki/Half-diminished_seventh_chord) when you can embrace the [limited-transposition](https://en.wikipedia.org/wiki/Mode_of_limited_transposition) chaos that is the [diminished scale](https://en.wikipedia.org/wiki/Octatonic_scale)?

The clear use of diminished scale here helps to contextualise the weirdly [chromatic](https://en.wikipedia.org/wiki/Diatonic_and_chromatic) stuff going on in the subject at this point. The effect is somewhat similar to the whole tone scale overlaid onto the [major triad](https://en.wikipedia.org/wiki/Major_chord) in the previous section, albeit less [dissonant](https://en.wikipedia.org/wiki/Consonance_and_dissonance) (in my opinion). The highly [symmetric](https://en.wikipedia.org/wiki/Symmetric_scale) nature of the [fully diminished seventh chord](https://en.wikipedia.org/wiki/Diminished_seventh_chord) makes it effectively [root][root]less, so we could also label this as iiÂ°7, ivÂ°7, or â™­viÂ°7. Analysing it as â™­viÂ°7 is a little spicy because then we have the progression â™­VIâ€“â™­viÂ°7, which is a bit of fun parallelism.

#### Sixth mutation (ğ‚<sub>t</sub><sup>16</sup>)

This mutation (ğ‚<sub>t</sub><sup>16</sup>) doesnâ€™t affect the [pitches][pitch] of the subject nor their order, but simply performs a [circular shift](https://en.wikipedia.org/wiki/Circular_shift) of the [duration values](https://en.wikipedia.org/wiki/Note_value) rightwards by 16 places. So the subject gets a new rhythm:

![Mutation 6 (ğ‚â‚œÂ¹â¶)](mutation-6.svg "Mutation 6 (ğ‚â‚œÂ¹â¶)")

<details>
<summary>In ABC notation</summary>

```abc
%abc-2.2
X:8
T:â€œcervineâ€™s Themeâ€, sixth mutation (ğ‚â‚œÂ¹â¶)
C:deer
M:4/4
L:1/8
Q:1/4=108
I:linebreak $
V:1 name="Glockenspiel" clef=treble instrument=c''
V:2 name="Viola"        clef=alto
V:3 name="Contrabass"   clef=bass   instrument=C
K:F#
[V:1] fc/f/         =e/f/G     ^e>f         =ef/c/-     |
[V:2] CF/C/         FC/G,/-    G,/EC/       =EC/D/-     |
[V:3] .C,.C,        F,C,/G,,/- G,,/.E,=A,,/ .=E,G,,/D,/ |
[V:1] c/=ec/-       c/=d/f     c/^d/e       ^e>c        |
[V:2] D/C/=A,/B,/-  B,/=D/B,   C=E/C/-      C/^E/C      |
[V:3] z/F,/=D,/B,,/ z/F,,/.B,, .C,=A,,/C,/  z/^A,,/.C,  |
```

</details>

Like with the previous section, I not only give a Roman numeral analysis in the image above, but also label each note of the subject with a [scale degree][degree]. As before, the degrees are named relative to the [root][root] of the tonal subregion/chord (not to the [tonic][tonic] of the [key][key]), and are also named relative to a [major scale](https://en.wikipedia.org/wiki/Major_scale) starting on said root. This time, things fit together even better: most of the notes are [CTs][factor], and all but one of the NCTs are still somewhere within the tonal subregion. The only exception is the â™­7 over the I chord at the beginning, which is pretty harmless; see in the â€œSecond mutation (ğ“<sup>4</sup>)â€ section above where I talk about [neutral sevenths](https://en.wikipedia.org/wiki/Neutral_interval#Seventh).

What follows is a simplified version of the Roman numeral analysis in the image above:

IÂ â€“Â viiÂ°Â â€“Â â™­IIIÂ â€“Â iiğ—Œğ—ğ—Œ4Â â€“Â iv9Â â€“Â â™­IIIÂ â€“Â iii.

(See the [Roman numeral analysis legend](#roman-numeral-analysis-legend) in the appendix below.)

The viiÂ°â€“â™­IIIâ€“ii[ğ—Œğ—ğ—Œ](https://en.wikipedia.org/wiki/Suspended_chord)4 sequence is notable for the â€œ[voicings][voicing]â€ used; if we pay attention to the [inversions][inversion] that each Roman numeral is annotated with (see: [figured bass](https://en.wikipedia.org/wiki/Figured_bass)), we can get the following [reduction][reduction] of the first five tonal subregions:

![Reduction of first five tonal subregions of sixth mutation (ğ‚â‚œÂ¹â¶)](reduction.svg "Reduction of first five tonal subregions of sixth mutation (ğ‚â‚œÂ¹â¶)")

<details>
<summary>In ABC notation</summary>

```abc
%abc-2.2
X:9
T:â€œcervineâ€™s Themeâ€: reduction of first five tonal subregions of sixth mutation (ğ‚â‚œÂ¹â¶)
C:deer
M:
L:1/4
I:linebreak $
U: O = "<("">)"
K:F#
"_Iâ¶â‚„"[OCAcf] | "_viiÂ°â¶"[GBe] "_â™­III"[=Ac=e] "_iiğ—Œğ—ğ—Œ4"[Gcd] |
"_iv9"[OB,F=Ac=d]4
```

</details>

Between these five chords, the main three voices move like so (from top to [bottom](https://en.wikipedia.org/wiki/Bass_note)):

| pitches              | relative to first pitch                  | relative to previous              |
| :------------------- | :--------------------------------------- | :-------------------------------- |
| âŸ¨Fâ™¯,Â Eâ™¯,Â Eâ™®,Â Dâ™¯,Â Dâ™®âŸ© | âŸ¨0,Â âˆ’1,Â âˆ’2,Â âˆ’3,Â âˆ’4âŸ©                      | âŸ¨âˆ—,Â âˆ’1,Â âˆ’1,Â âˆ’1,Â âˆ’1âŸ©               |
| âŸ¨Câ™¯,Â Bâ™®,Â Câ™¯,Â Câ™¯,Â Câ™¯âŸ© | âŸ¨0,Â âˆ’2,Â &#x2007;0,Â &#x2007;0,Â &#x2007;0âŸ© | âŸ¨âˆ—,Â âˆ’2,Â +2,Â &#x2007;0,Â &#x2007;0âŸ© |
| âŸ¨Aâ™¯,Â Gâ™¯,Â Aâ™®,Â Gâ™¯,Â Aâ™®âŸ© | âŸ¨0,Â âˆ’2,Â âˆ’1,Â âˆ’2,Â âˆ’1âŸ©                      | âŸ¨âˆ—,Â âˆ’2,Â +1,Â âˆ’1,Â +1âŸ©               |

Thatâ€™s some pretty nifty [step](https://en.wikipedia.org/wiki/Steps_and_skips)wise motion! You can really hear the descending [chromatic](https://en.wikipedia.org/wiki/Chromatic_scale) line on top; in fact, it actually continues to the next tonal subregion as well, because Câ™¯ is the third [factor][factor] of â™­III! Thereâ€™s also a cute little âŸ¨0,Â âˆ’2,Â âˆ’1âŸ© (âŸ¨âˆ—,Â âˆ’2,Â +1âŸ©) in the [bass notes](https://en.wikipedia.org/wiki/Bass_note) (and thus [roots][root], as they are all in [root position](https://en.wikipedia.org/wiki/Root_position)) of the iv9â€“â™­IIIâ€“iii sequence.

As discussed above (â€œThird mutation (ğ‚<sub>t</sub><sup>8</sup>)â€), the iii chord has an unclear [function][functional-harmony] without some context. I think that itâ€™s fair to say that itâ€™s serving as an expansion of the [dominant][dominant] here, resolving to the tonic at the beginning of the next [measure][bar].

Because this mutation affects rhythm, I rewrote the [drumkit](https://en.wikipedia.org/wiki/Drum_kit) part\*:

![Drumkit part for mutation 6 (ğ‚â‚œÂ¹â¶)](mutation-6-drums.svg "Drumkit part for mutation 6 (ğ‚â‚œÂ¹â¶)")

<details>
<summary>In drum tablature</summary>

```tab
 C|----------s---------------------||
 R|x---x---x-------x---x---x---x---||
 S|--o-or--ggo-f--f-o---o--oo--do-o||
 B|o-go--oo-o-o-oo---oo--oo--og--o-||
Hf|--x-x-----x-x-----x-x-----x-x---||
   1 + 2 + 3 + 4 + 1 + 2 + 3 + 4 +
```

Refer to the appendix for the [drum tablature legend](#drum-tablature-legend).

</details>

As you can see, the persistent [hi-hat](https://en.wikipedia.org/wiki/Hi-hat) foot pedal pattern persists here, as well. Otherwise, the [cymbal](https://en.wikipedia.org/wiki/Cymbal) work has switched from [dotted](https://en.wikipedia.org/wiki/Dotted_note) [eighth notes](https://en.wikipedia.org/wiki/Eighth_note) to straight [quarter notes](https://en.wikipedia.org/wiki/Quarter_note), and from [ride](https://en.wikipedia.org/wiki/Ride_cymbal) bell/[china cymbal](https://en.wikipedia.org/wiki/China_cymbal) to just normal ride hits. I make use of a [splash cymbal](https://en.wikipedia.org/wiki/Splash_cymbal) to keep the cymbal sound going when I canâ€™t place a ride hit in the usual place; there _would_ be a ride hit on the â€œ4â€ of the first [measure][bar], but our drummer already has both of their [arms](https://en.wikipedia.org/wiki/Arm) occupied doing a [flam](https://en.wikipedia.org/wiki/Drum_rudiment#Flam) on the [snare](https://en.wikipedia.org/wiki/Snare_drum). So unless this drummer has three or more arms, thatâ€™s a no-can-do.

Speaking of the flams, this is the first time that I actually use flams within this piece. Here, the two flams on the snare emphasise the [syncopated](https://en.wikipedia.org/wiki/Syncopation) downward motion of the â™­IIIâ€“iiğ—Œğ—ğ—Œ4 progression.

<details>
<summary>Footnotes for â€œSixth mutation (ğ‚<sub>t</sub><sup>16</sup>)â€</summary>

\*The notational conventions used here are taken from **Audio Graffiti**â€™s [_Guide to Drum &amp; Percussion Notation_](https://web.mit.edu/merolish/Public/drums.pdf) (2004) ([archived](https://web.archive.org/web/20210210214150/http://web.mit.edu/merolish/Public/drums.pdf)), which is based on **Norman Weinberg**â€™s _Guide to Standardized Drumset Notation_ (2002; 1998). Note that Audio Graffiti is now defunct.

</details>

#### Seventh mutation (ğ’<sub>3â„2</sub>)

This mutation (ğ’<sub>3â„2</sub>) simply multiplies each [duration value](https://en.wikipedia.org/wiki/Note_value) by a factor of 3â„2. This is tantamount to multiplying the [tempo](https://en.wikipedia.org/wiki/Tempo) by a factor of (3â„2)<sup>âˆ’1</sup>Â =Â â…”, so this section is actually written completely identically to the previous section (the ğ‚<sub>t</sub><sup>16</sup> mutation section), with one exception: a tempo marking indicating â€œâ™©Â =Â 72â€ (72 [B][beat][P](https://en.wiktionary.org/wiki/per#English)[M](https://en.wikipedia.org/wiki/Minute)). This is a result of the fact that 108Â â‹…Â â…”Â =Â 72. This kind of systematic tempo change is referred to as [metric modulation](https://en.wikipedia.org/wiki/Metric_modulation).

Itâ€™s remarkable to me just how much different things can sound with merely a tempo change (read: metric modulation). I love employing metric modulations in my music, because preparing for them makes for interesting rhythmic play, and the tempo changes really give a new perspective on the music.

#### Eighth mutation (ğ‘<sub>t</sub>â¢)

This mutation (ğ‘<sub>t</sub>â¢) doesnâ€™t affect the [pitches][pitch] of the subject nor their order, but simply [reverses the order][reflection] of the [duration values](https://en.wikipedia.org/wiki/Note_value). So the subject gets a new rhythm:

![Mutation 8 (ğ‘â‚œ)](mutation-8.svg "Mutation 8 (ğ‘â‚œ)")

<details>
<summary>In ABC notation</summary>

```abc
%abc-2.2
X:10
T:â€œcervineâ€™s Themeâ€, eighth mutation (ğ‘â‚œ)
C:deer
M:4/4
L:1/8
Q:1/4=72
I:linebreak $
V:1 name="Glockenspiel" clef=treble instrument=c''
V:2 name="Viola"        clef=alto
V:3 name="Contrabass"   clef=bass   instrument=C
K:F#
[V:1] f<c         f=e/f/         G^e/f/-     f/=ef/-         |
[V:2] C/FC/       FC/G,/         CE/C/       =E/C/A,/D/      |
[V:3] C,/F,,z/    F,,B,,/C,/-    C,/G,,/.E,  .=E,C,/B,,/     |
[V:1] f/c/=e      c<=d           fc/^d/      e/^e/c          |
[V:2] B,/=D/C     F/D/C/B,/      A,C/B,/     =A,/B,/C/E/     |
[V:3] D,/=A,,/.C, F,/=D,/C,/B,,/ ^A,,C,/B,,/ =A,,/B,,/C,/E,/ |
```

</details>

As you can see, we once again have mostly CTs in the subject melody. This time, the one lonesome [blue note](https://en.wikipedia.org/wiki/Blue_note) is found near the end of the subject, and is a paradigmatic example of a blue note: it [chromatically](https://en.wikipedia.org/wiki/Chromatic_scale) fills in the gap between two [scale degrees][degree] (or [chord factors][factor]) that are otherwise separated by [two semitones](https://en.wikipedia.org/wiki/Major_second). The ascent from Dâ™¯ to Eâ™¯ (both members of the [whole tone scale](https://en.wikipedia.org/wiki/Whole-tone_scale) that defines the tonal subregion) is filled in with an intervening Eâ™® to give the sequence âŸ¨Dâ™¯,Â Eâ™®,Â Eâ™¯âŸ© (see also: [Forte](https://en.wikipedia.org/wiki/Forte_number) 3-1).

Hereâ€™s a simplified version of the Roman numeral analysis in the image above:

IÂ â€“Â v7Â â€“Â VÂ â€“Â iiiÂ°Â â€“Â IVÂ â€“Â â™­IIIÂ â€“Â Vğ–ºğ—…ğ—7â§¸viÂ â€“Â â™­III+9.

(See the [Roman numeral analysis legend](#roman-numeral-analysis-legend) in the appendix below.)

Whew~ Thatâ€™s a lot of Roman numerals. That being said, weâ€™re also at a significantly slower [tempo](https://en.wikipedia.org/wiki/Tempo) now (â™©Â =Â 72), so you can really _feel_ the melodies weaving their way through all of these tonal subregions in real time.

This is the first time that a â€œvâ€ ([minor chord](https://en.wikipedia.org/wiki/Minor_chord) on the [dominant][dominant] [degree][degree] of the [key][key]) has really shown up; as usual, this is [borrowed](https://en.wikipedia.org/wiki/Borrowed_chord) from the [parallel](https://en.wikipedia.org/wiki/Parallel_key) minor: [Fâ™¯ minor](https://en.wikipedia.org/wiki/F-sharp_minor). The proper V chord is then briefly outlined before essentially going back to v; I have this second occurrence analysed as â€œiiiÂ°â€, although â€œvâ€ is also plausible here. â€œiiiÂ°â€ makes more sense for at least two reasons, the most important being that it can naturally be used to effectively [tonicise][tonic] the IV (as it is the viiÂ°â§¸IV), which is exactly the subregion that is moved to next. Then we move down a [step](https://en.wikipedia.org/wiki/Steps_and_skips) to our old friend â™­III (again borrowed from the parallel minor).

The tactic after this point is very similar to how I did things in â€œFourth mutation (ğ‘<sub>p</sub>)â€ above. Just like the end of that section was preparing for an ğŒ<sub>5</sub> mutation (which drastically changes the tonal content), this section has to prepare for a similar ğŒ<sub>7</sub> mutation. Like before, I move to an [altered](https://en.wikipedia.org/wiki/Altered_chord) [dominant chord](https://en.wikipedia.org/wiki/Dominant_seventh_chord) that is borrowed not from the parallel minor, but from the [_relative_](https://en.wikipedia.org/wiki/Relative_key) minor ([Dâ™¯ minor](https://en.wikipedia.org/wiki/D-sharp_minor)): Vğ–ºğ—…ğ—7â§¸vi. This subregion is outlined with an [altered scale](https://en.wikipedia.org/wiki/Altered_scale) on Aâ™¯. Then, I move to using a [whole tone scale](https://en.wikipedia.org/wiki/Whole-tone_scale), namely {A,Â B,Â Câ™¯,Â Dâ™¯,Â Eâ™¯,Â G}. This time, the use of whole tone scale outlines a true [pivot chord][pivot]: both the â™­III+9 of the current key (Fâ™¯ major) and the â™­III+ of the key of the next section ([D major](https://en.wikipedia.org/wiki/D_major)) are outlined as part of the same whole tone scale. â™­III+ is a common substitute for a dominant chord (i\.e. a substitute for V or V7), so this preparation simultaneously sounds as if itâ€™s a cadence to the tonic in the current key _and_ a cadence to the tonic in the new key. This is possible because the tonics of each key (Fâ™¯ and D, respectively) are separated by a [major third](https://en.wikipedia.org/wiki/Major_third), and an [augmented triad](https://en.wikipedia.org/wiki/Augmented_triad) is composed entirely of major thirds, which [evenly divide the octave](https://en.wikipedia.org/wiki/Symmetric_scale) into three parts.

Because this mutation affects the rhythm of the subject, I wrote a new drumkit part from scratch just for these two [measures][bar]\*:

![Mutation 8 (ğ‘â‚œ) drumkit part](mutation-8-drums.svg "Mutation 8 (ğ‘â‚œ) drumkit part")

<details>
<summary>In drum tablature</summary>

```tab
 H|x---o---o---x---x-xxo---o-xx-x-x-x-xo---o-xxx---x---o---o---x---||
 S|----ggo-----g-o-----o---o---o-o-o-----g-o-----ggggo-o---o--o--oo||
 B|o-ooo-----o-o-----o---oo--o-------o-o-----oo-oo-o-----oo-oo--o--||
   1 e + a 2 e + a 3 e + a 4 e + a 1 e + a 2 e + a 3 e + a 4 e + a
```

Refer to the appendix for the [drum tablature legend](#drum-tablature-legend).

</details>

Because the tempo is so much slower now, there are a lot more [32nd notes](https://en.wikipedia.org/wiki/Thirty-second_note) actually being used here; before, 32nd notes were mostly limited to short one-handed [drags](https://en.wikipedia.org/wiki/Drum_rudiment#Drag_rudiments) and similar. This drumkit part is pretty much nonsense at the original tempo (â™©Â =Â 108), but perfectly reasonable at â™©Â =Â 72.

This drumkit part focuses on the use of closed [hi-hat](https://en.wikipedia.org/wiki/Hi-hat) hits â€” with the performerâ€™s choice of [beater](https://en.wikipedia.org/wiki/Percussion_mallet), not with the foot pedal â€” for the bulk of the [cymbal](https://en.wikipedia.org/wiki/Cymbal) usage. However, the persistent hi-hat foot pedal pattern does still persist here; not with foot pedal presses, but with hits of the hi-hat while _open_. Using the beaters for the hi-hat (instead of the foot pedal) allows for some [rolls](https://en.wikipedia.org/wiki/Drum_roll) on the hi-hat. Towards the end of the first measure (and the beginning of the second measure), thereâ€™s a brief 32nd-note pattern alternating between the closed hi-hat and the [snare](https://en.wikipedia.org/wiki/Snare_drum) (also [bass drum](https://en.wikipedia.org/wiki/Bass_drum), towards the end); because the hi-hat hits are so prominent (as mentioned before, they are essentially bursts of [white noise](https://en.wikipedia.org/wiki/White_noise)), the consistent hi-hat hits outside of the [16th-note](https://en.wikipedia.org/wiki/Sixteenth_note) grid give that part a brief [syncopated](https://en.wikipedia.org/wiki/Syncopation) feel.

In the last three [beats][beat] of the second measure, a pattern between the bass drum and snare is introduced that is essentially based on [dotted](https://en.wikipedia.org/wiki/Dotted_note) 16th notes. Hereâ€™s a [reduction][reduction] of whatâ€™s going on in these last three beats:

```tab
 S|o---------o-o---o--o--oo||
 B|--oo-oo-oo----oo-oo-oo--||
...2 e + a 3 e + a 4 e + a
```

(Refer to the appendix for the [drum tablature legend](#drum-tablature-legend).)

As you can see, thereâ€™s a dotted 16th note pattern in the bass drum (`oo-`) that gets punctuated with snare hits to make it fit within the [metre][metre]. The first group of three `oo-` patterns is punctuated by the snare playing straight 16th notes (`o-o-`), and the latter group of three `oo-` patterns has the snare initially filling in the missing 32nd note in the bass drum pattern, but then has the snare imitating the bass drumâ€™s `oo` (instead of just playing `o--`) in order to fill up the remaining space in the measure.

<details>
<summary>Footnotes for â€œEighth mutation (ğ‘<sub>t</sub>â¢)â€</summary>

\*The notational conventions used here are taken from **Audio Graffiti**â€™s [_Guide to Drum &amp; Percussion Notation_](https://web.mit.edu/merolish/Public/drums.pdf) (2004) ([archived](https://web.archive.org/web/20210210214150/http://web.mit.edu/merolish/Public/drums.pdf)), which is based on **Norman Weinberg**â€™s _Guide to Standardized Drumset Notation_ (2002; 1998). Note that Audio Graffiti is now defunct.

</details>

#### Ninth mutation (ğŒ<sub>7</sub>â¢)

As discussed above (also, in the context of a previous closely-related mutation: see â€œA difficult mutationâ€ and â€œFifth mutation (ğŒ<sub>5</sub>)â€), this mutation (ğŒ<sub>7</sub>) does some rather _interesting_ things to the [pitch-classes](https://en.wikipedia.org/wiki/Pitch_class) present in the subject. However, if we take a look at the mutations so far that affect the pitch-classes present in the subject:

- ğˆ<sub>p</sub>
- ğ“<sup>4</sup>
- ğŒ<sub>5</sub>
- ğŒ<sub>7</sub>

Then, if we ignore ğ“<sup>4</sup> (which doesnâ€™t change the pitch-classes _relative_ to one another; it essentially just changes the pitch-class [origin][origin]), we have:

ğŒ<sub>7</sub>&#x2062;ğŒ<sub>5</sub>&#x2062;ğˆ<sub>p</sub>Â =Â ğˆ<sub>p</sub>&#x2062;ğˆ<sub>p</sub>Â =Â ğ“˜.

Of course, thereâ€™s a ğ“<sup>4</sup> in there that I just ignored, so the pitch-classes are not actually back to their original [set][set]; the point is really that the mutations that do truly funky things to the set of pitch-classes (viz. ğˆ<sub>p</sub>, ğŒ<sub>5</sub>, and ğŒ<sub>7</sub>) have â€” by sheer [**lu**c**k**](https://en.wikipedia.org/wiki/Stochastic)! â€” undone themselves. The result is a version of the subject that is very similar to the prime form of the subject: all of the [pitches][pitch] are [diatonic](https://en.wikipedia.org/wiki/Diatonic_and_chromatic) to a particular key, except for just a single note in the subject that is [sharpened][accidental].

For this mutation of the subject, I decided to break away from the [texture][texture] used for the other mutations. For all of the mutations of the subject prior to this one, we had:

- The [glockenspiel](https://en.wikipedia.org/wiki/Glockenspiel) states the mutated subject in question.
- The [viola](https://en.wikipedia.org/wiki/Viola) accompanies the glockenspiel with freely written single-note [pizzicato](https://en.wikipedia.org/wiki/Pizzicato) lines, incorporating typical elements of [melody](https://en.wikipedia.org/wiki/Melody), alongside [broken chords](https://en.wikipedia.org/wiki/Arpeggio) and some [scale][scale] runs.
- The [contrabass](https://en.wikipedia.org/wiki/Contrabass) accompanies both the glockenspiel and the viola with [freely written single-note pizzicato lines](https://en.wikipedia.org/wiki/Bassline), but with a more [staccato](https://en.wikipedia.org/wiki/Staccato) attitude. Sometimes the contrabass [contradicts](https://en.wikipedia.org/wiki/Polyphony) the viola part, and sometimes [plays more or less the same line](https://en.wikipedia.org/wiki/Heterophony).
- The [drumkit](https://en.wikipedia.org/wiki/Drum_kit) provides [unpitched percussion](https://en.wikipedia.org/wiki/Unpitched_percussion_instrument) parts typical of [popular music](https://en.wikipedia.org/wiki/Popular_music) idioms such as [hip-hop](https://en.wikipedia.org/wiki/Hip_hop), [rock](https://en.wikipedia.org/wiki/Rock_music), [funk](https://en.wikipedia.org/wiki/Funk), etc.

The new texture stays within the realm of [chamber music](https://en.wikipedia.org/wiki/Chamber_music), but looks more like this:

- The glockenspiel states the mutated subject in question.
- A [quartet](https://en.wikipedia.org/wiki/Quartet) consisting of:
    - a [violin](https://en.wikipedia.org/wiki/Violin),
    - a viola,
    - a [violoncello](https://en.wikipedia.org/wiki/Cello),
    - and a contrabassâ€¦

  â€¦plays a [four-part harmony](https://en.wikipedia.org/wiki/Four-part_harmony) that accompanies the glockenspiel with a [hymn](https://en.wikipedia.org/wiki/Hymn_tune)-like texture that is still played pizzicato. The hymn-like texture is then elaborated with more florid [polyphony](https://en.wikipedia.org/wiki/Polyphony).

As you can see, the drumkit is now totally absent, and in its place are two new members of the [violin family](https://en.wikipedia.org/wiki/Violin_family). The result is something _vaguely_ resembling a [piano quintet](https://en.wikipedia.org/wiki/Piano_quintet), but with a glockenspiel instead of a [piano](https://en.wikipedia.org/wiki/Piano), and one of each member of the violin family for the [string quartet](https://en.wikipedia.org/wiki/String_quartet), instead of the usual two violins, one viola, and one violoncello. Although using one of each member of the violin family is very unusual for a string quartet (Iâ€™m struggling to think of any examples), I like it a lot, and I think itâ€™s natural to use one of each, thus keeping each instrument in its own distinct [range][range].

That being said, the phrase â€œone of each member of the violin familyâ€ is slightly misleading. The contrabassâ€™s inclusion in the violin family is sometimes disputed, as it represents a kind of bastard child of the violin family and the [viola da gamba family](https://en.wikipedia.org/wiki/Viol). Furthermore, the [octobass](https://en.wikipedia.org/wiki/Octobass) is sometimes considered a member of the violin family, which would put the number of family members at five, not four.

In any case, hereâ€™s the initial statement of the ninth mutation (ğŒ<sub>7</sub>â¢):

![Mutation 9 (ğŒâ‚‡)](mutation-9.svg "Mutation 9 (ğŒâ‚‡)")

<details>
<summary>In ABC notation</summary>

```abc
%abc-2.2
X:11
T:â€œcervineâ€™s Themeâ€, ninth mutation (ğŒâ‚‡)
C:deer
M:4/4
L:1/8
Q:1/4=72
I:linebreak $
V:1 name="Glockenspiel" clef=treble instrument=c''
V:2 name="Violin"       clef=treble
V:3 name="Viola"        clef=alto
V:4 name="Violoncello"  clef=bass
V:5 name="Contrabass"   clef=bass   instrument=C
K:D
[V:1] f<g             fe/f/        ^gb/f/- f/ef/-        |
[V:2] cc              cc           BB      BA/F/         |
[V:3] A,A,            A,A,         B,B,    B,B,/C/       |
[V:4] F,F,            A,/B,/A,/F,/ ^G,G,   G,G,          |
[V:5] D,D,            D,D,         ^D,D,   D,D,          |
[V:1] f/!courtesy!g/e g<d          fg/a/   e/b/g         |
[V:2] GG              GD/E/        FF      F/G/F/B/      |
[V:3] DD              D/C/D/E/     B,B,    B,/A,/F,/G,/  |
[V:4] !courtesy!G,G,  G,/D,/G,/F,/ E,E,    E,"^!"^E,/G,/ |
[V:5] E,E,            E,E,         A,A,    A,A,,/A,,/    |
```

</details>

As you can see, the overall [harmonic](https://en.wikipedia.org/wiki/Harmony) movement is essentially just an expansion of a [iiâ€“Vâ€“I progression](https://en.wikipedia.org/wiki/Ii%E2%80%93V%E2%80%93I_progression). A simplified version of the Roman numeral analysis from the image above follows:

Iâˆ†7Â â€“Â â™­vÂ â€“Â ii7Â â€“Â V13Ã—Vğ–ºğ—…ğ—7.

(See the [Roman numeral analysis legend](#roman-numeral-analysis-legend) in the appendix below.)

The second subregion here (â™­v) is perhaps surprising; it involves [root][root] movement by a [tritone](https://en.wikipedia.org/wiki/Tritone) (although the [bass](https://en.wikipedia.org/wiki/Bass_note) movement is by just a [semitone](https://en.wikipedia.org/wiki/Semitone)). We can analyse this chord as the [iii](https://en.wikipedia.org/wiki/Mediant) of [E major](https://en.wikipedia.org/wiki/E_major) (or the â™¯iii of [E minor](https://en.wikipedia.org/wiki/E_minor)). This might seem like a bit of a stretch, but consider the [pitch-classes](https://en.wikipedia.org/wiki/Pitch_class) that make up the named [chord][chord] (â™­v, a\.k\.a. â™¯iv):

[{Gâ™¯,Â B,Â Dâ™¯}](https://en.wikipedia.org/wiki/Minor_chord).

Two of these three pitch-classes â€” namely, Gâ™¯ and Dâ™¯ â€” are not diatonic to the current key ([D major](https://en.wikipedia.org/wiki/D_major)). The pitch-classes that _are_ diatonic (effectively, the D [major scale](https://en.wikipedia.org/wiki/Major_scale)) are:

{D,Â E,Â Fâ™¯,Â G,Â A,Â B,Â Câ™¯}.

If we alter this [set][set] by inserting the two aforementioned non-diatonic pitch-classes (Gâ™¯ and Dâ™¯), using them to replace the corresponding diatonic pitch-classes, we get:

{Dâ™¯,Â E,Â Fâ™¯,Â Gâ™¯,Â A,Â B,Â Câ™¯}.

This is effectively what we get by shoving a Gâ™¯ [minor chord](https://en.wikipedia.org/wiki/Minor_chord) into the context of D major (which is exactly whatâ€™s happening). If we rewrite this set using [integer notation](https://en.wikipedia.org/wiki/Pitch_class#Integer_notation), [starting at][origin] Dâ™¯, we get:

{0,Â 1,Â 3,Â 5,Â 6,Â 8,Â 10}.

This is thus the [Locrian mode](https://en.wikipedia.org/wiki/Locrian_mode) on Dâ™¯, which is the same pitch-class set as Â­â€” you guessed it â€” E major. As mentioned in a previous section (â€œThird mutation (ğ‚<sub>t</sub><sup>8</sup>)â€), the iii chord can [function][functional-harmony] as an expansion of either the [tonic][tonic], or of the [dominant][dominant]. And, within this piece, Iâ€™ve been using it pretty much exclusively as an expansion of the dominant. Thatâ€™s exactly whatâ€™s happening here; if this iii â€” in E major â€” functions as effectively a dominant, then it naturally [resolves][resolution] to E. And indeed, it does! Just not so much E major, but moreso E minor (albeit with a [major sixth](https://en.wikipedia.org/wiki/Major_sixth) scale [degree][degree]); in the actual key that weâ€™re in (D major), this is just the ii (the â€œii7â€ as labelled above). So our â€œâ™­vâ€ functions as a preparation for the ii7 that comes after it! Kinda neat, I guess. Plus, the [voice leading](https://en.wikipedia.org/wiki/Voice_leading) is a bit interesting.

Within the iiâ€“V part of this harmonic progression, the ii is pretty typical; itâ€™s your bog-standard ii[7](https://en.wikipedia.org/wiki/Minor_seventh_chord). The V, on the other hand, is a littleâ€¦ spicy. To make the V extra full of tension (and because I can, god damnit), I freely mix the diatonic subregion here (basically [V13](https://en.wikipedia.org/wiki/Thirteenth#Dominant_thirteenth)) with [the altered version of the same thing](https://en.wikipedia.org/wiki/Altered_chord#Alt_chord). This results in a cacophonous mishmash of the [Mixolydian scale](https://en.wikipedia.org/wiki/Mixolydian_mode) with the [altered scale](https://en.wikipedia.org/wiki/Altered_scale), which is why I wrote it with the highly unusual â€œV13Ã—Vğ–ºğ—…ğ—7â€ notation. In the image above, Iâ€™ve highlighted a rogue Eâ™¯ that appears in the violoncello part; if this is written [enharmonically](https://en.wikipedia.org/wiki/Enharmonic) as Fâ™®, then we have a clear [cross-relation](https://en.wikipedia.org/wiki/False_relation): {Fâ™®,Â Fâ™¯,Â G} ([Forte](https://en.wikipedia.org/wiki/Forte_number) 3-1) all sounding simultaneously. Thatâ€™s a pretty spicy meatball! But these three pitch-classes represent the [â™¯5](https://en.wikipedia.org/wiki/Augmented_fifth) (or â™­[13](https://en.wikipedia.org/wiki/Thirteenth)), 13, and [â™­7](https://en.wikipedia.org/wiki/Minor_seventh) above the [root][root], all of which are totally traditional for a V chord.

Of course, you could say, â€œyeah, but thatâ€™s just one note in one part, and itâ€™s only a [16th note](https://en.wikipedia.org/wiki/Sixteenth_note) anywaysâ€. But it does get a little bit spicier as I elaborate this section. Rather than going to the next mutation of the subject (which would be ğˆ<sub>p</sub>), I made this the last. So, here is the more florid version:

![Mutation 9 (ğŒâ‚‡), florid version](mutation-9-1.svg "Mutation 9 (ğŒâ‚‡), florid version")

<details>
<summary>In ABC notation</summary>

```abc
%abc-2.2
X:12
T:â€œcervineâ€™s Themeâ€, ninth mutation (ğŒâ‚‡), florid version
C:deer
M:4/4
L:1/16
Q:1/4=72
I:linebreak $
V:1 name="Glockenspiel" clef=treble instrument=c''
V:2 name="Violin"       clef=treble
V:3 name="Viola"        clef=alto
V:4 name="Violoncello"  clef=bass
V:5 name="Contrabass"   clef=bass   instrument=C
K:D
[V:1] f2<g2               f2ef               ^g2bf-  fe2f-     |
[V:2] c2cA                cBcA               B^dBA   BAcd      |
[V:3] A,G,A,B,            A,2A,2             B,2CB,  A,B,^DC   |
[V:4] F,2F,2              A,B,A,F,           ^G,2G,2 G,A,G,B,  |
[V:5] D,2D,2              C,B,,C,E,          ^D,2D,2 D,2^G,F,  |
[V:1] f!courtesy!ge2      g2<d2              f2ga    ebg2      |
[V:2] !courtesy!d2df      afde               fcAf    edc^B     |
[V:3] DFAF                DCDE               B,2A,C  B,A,F,G,  |
[V:4] !courtesy!G,2G,2    G,A,G,F,           E,G,CG, E,G,^E,G, |
[V:5] E,!courtesy!D,B,,D, E,!courtesy!G,B,G, A,2A,2  A,2A,,A,, |
```

</details>

Way back in a previous section (â€œ[Melodic contour](#melodic-contour)â€), I mentioned [**Fux**](https://en.wikipedia.org/wiki/Johann_Joseph_Fux)â€™s _Gradus ad Parnassum_ (1725). The string instrument [part-writing][part] in this section is, in some ways, reminiscent of Fuxâ€™s so-called â€œ[species counterpoint](https://en.wikipedia.org/wiki/Counterpoint#Species_counterpoint)â€: each part is a clearly independent melodic line (thus â€œ[counterpoint](https://en.wikipedia.org/wiki/Counterpoint)â€), there is a [_cantus firmus_](https://en.wikipedia.org/wiki/Cantus_firmus) (the subject, played by the glockenspiel), and the texture gets more elaborate (more â€œfloridâ€) as it goes onwards. But my writing is considerably more free; there are several things going on here that would be shockingly modern (or simply gauche) for someone like Fux. When I write contrapuntal textures, I already know about the stylistic mores that constitute the â€œclassicalâ€ (or rather, [baroque](https://en.wikipedia.org/wiki/Baroque_music)) polyphonic idiom. This idiom gives me a good starting point, and forms a backdrop for my expectations, by giving me a lot of supposed rules that I can freely break (or not break) as I see fit.

#### Coda

The [coda][coda] of _cervineâ€™s Theme_ consists of a two-[measure][bar] continuation of the florid [counterpoint](https://en.wikipedia.org/wiki/Counterpoint) in the string instruments, while the glockenspiel stops playing. The last of the four tonal subregions is now changed to a different [dominant chord](https://en.wikipedia.org/wiki/Dominant_seventh_chord), and a penultimate [bar][bar] of 2â„4 extends this tonal region to end the piece, followed by a final empty bar of 2â„4:

![The coda of â€œcervineâ€™s Themeâ€](coda.svg "The coda of â€œcervineâ€™s Themeâ€")

<details>
<summary>In ABC notation &amp; drum tablature</summary>

```abc
%abc-2.2
X:13
T:â€œcervineâ€™s Themeâ€, coda
C:deer
M:4/4
L:1/16
Q:1/4=72
I:linebreak $
V:1 name="Glockenspiel" clef=treble instrument=c''
V:2 name="Violin"       clef=treble
V:3 name="Viola"        clef=alto
V:4 name="Violoncello"  clef=bass
V:5 name="Contrabass"   clef=bass   instrument=C
K:D
[V:1] !fermata!f16                                              |
[V:2] c2cA                cBcA               B^dBA    Bdcd      |
[V:3] A,G,A,B,            A,2A,2             B,2CB,   A,B,^DC   |
[V:4] F,2F,2              A,B,A,F,           ^G,2G,2  G,A,G,B,  |
[V:5] D,2D,2              C,B,,C,E,          ^D,2D,2  D,2^G,F,  |
% 2
[V:1] z16                                                       |
[V:2] !courtesy!d2df      afde               gc^Af    e^dcB     |
[V:3] !courtesy!DFAF      DCDE               C2^A,C   B,A,F,G,  |
[V:4] !courtesy!G,2G,2    G,A,G,F,           G,^A,CA, ^D,F,D,G, |
[V:5] E,!courtesy!D,B,,D, !courtesy!G,B,G,E, ^D,2D,2  D,2D,D,   |
% 3â€“4
[V:1] [K:G#m][M:2/4] (3A2=G2F2      (3f2e2.d2      | !fermata!z8!D.C.! |]
[V:2] [K:G#m][M:2/4] (3A2=G2F2      (3f2e2d2       | !fermata!z8       |]
[V:3] [K:G#m][M:2/4] (3A,2B,2C2     (3D2E2F2       | !fermata!z8       |]
[V:4] [K:G#m][M:2/4] (3F,2E,2D,2    (3C,2B,,2A,,2  | !fermata!z8       |]
[V:5] [K:G#m][M:2/4] (3.D,2.D,2.D,2 (3.D,2.D,2.D,2 | !fermata!z8       |]
```

```tab
 C|----------c-|
 S|rrrrrrrrrr--|
 B|o-o-o-o-o-o-|
Hf|x-x-x-x-x-x-|
   1 t p 2 t p
```

Refer to the appendix for the [drum tablature legend](#drum-tablature-legend).

</details>

A simplified version of the [Roman numeral analysis](https://en.wikipedia.org/wiki/Roman_numeral_analysis) from the image above follows:

Iâˆ†7Â â€“Â â™­vÂ â€“Â ii7Â â€“Â â™­II7â™­9â™¯9â™­13.

(See the [Roman numeral analysis legend](#roman-numeral-analysis-legend) in the appendix below.)

As you can see, this is nearly the same subregion sequence as the one from the ninth mutation (ğŒâ‚‡) above â€” but the last subregion has been changed from â€œV13Ã—Vğ–ºğ—…ğ—7â€ to â€œâ™­II7â™­9â™¯9â™­13â€. In one sense, this new subregion [functions][functional-harmony] identically to the old one, as itâ€™s merely a [tritone substitution](https://en.wikipedia.org/wiki/Tritone_substitution) (i\.e. V7â™­9â™¯9â™­13â§¸â™­V). However, thereâ€™s a good reason why Iâ€™ve verbosely specified â€œâ™­II7â™­9â™¯9â™­13â€, rather than notation that Iâ€™ve used before, e\.g. â€œâ™­IIğ–ºğ—…ğ—7â€ or â€œâ™­II7Ã—â™­IIğ–ºğ—…ğ—7â€. This subregion is not merely an [altered dominant](https://en.wikipedia.org/wiki/Altered_chord#Alt_chord), nor is it a mixture of altered and unaltered versions of the same thing. The only [pitch-classes](https://en.wikipedia.org/wiki/Pitch_class) used are:

{Dâ™¯,Â E,Â Fâ™¯,Â G,Â Aâ™¯,Â B,Â Câ™¯}.

This gets us the Dâ™¯7â™­9â™¯9â™­13 in question, with emphasis on the fact that the fifth [factor][factor] (Aâ™¯) is [perfect](https://en.wikipedia.org/wiki/Perfect_fifth), unlike the fifth factor of an [altered](https://en.wikipedia.org/wiki/Altered_scale) dominant. Writing the above set in [integer notation](https://en.wikipedia.org/wiki/Pitch_class#Integer_notation) (with Dâ™¯ as the [origin][origin]) gives:

{0,Â 1,Â 3,Â 4,Â 7,Â 8,Â 10} (normal form {0,Â 1,Â 3,Â 5,Â 6,Â 8,Â 9}: [Forte](https://en.wikipedia.org/wiki/Forte_number) 7-32B).

Thatâ€™s kind of like Dâ™¯ [Phrygian](https://en.wikipedia.org/wiki/Phrygian_mode), but with a [flattened](https://en.wikipedia.org/wiki/Diminished_fourth) fourth [degree][degree]. As it turns out, this â€œPhrygian â™­4â€ (a\.k\.a. â€œ[altered scale](https://en.wikipedia.org/wiki/Altered_scale) â™®5â€) is the third [mode][mode] of [harmonic major](https://en.wikipedia.org/wiki/Harmonic_major_scale). Harmonic major is so called because itâ€™s equivalent to the [harmonic minor](https://en.wikipedia.org/wiki/Minor_scale#Harmonic_minor_scale) scale with the third degree raised from a [minor third](https://en.wikipedia.org/wiki/Minor_third) to a [major third](https://en.wikipedia.org/wiki/Major_third) â€” also, itâ€™s the [inverse][inversion] of harmonic minor, just like a [major triad](hhttps://en.wikipedia.org/wiki/Major_chord) is the inverse of a [minor triad](https://en.wikipedia.org/wiki/Minor_chord). It can also be seen as a [major scale](https://en.wikipedia.org/wiki/Major_scale) with a [flattened](https://en.wikipedia.org/wiki/Minor_sixth) sixth degree. Harmonic major is mostly associated with [jazz](https://en.wikipedia.org/wiki/Jazz).

In any case, the third mode of harmonic major has a nice property for what Iâ€™m doing here. What Iâ€™m doing (or trying to doâ€¦) here is [modulating][modulation] from the current [key][key] ([D major](https://en.wikipedia.org/wiki/D_major)) to the key that _cervineâ€™s Theme_ starts in: [Gâ™¯ minor](https://en.wikipedia.org/wiki/G-sharp_minor). Like the other themes that Iâ€™ve written, I want this theme to make a good [loop][loop], and that means going back to where we started. Of course, this is more easily said than done; the [stochastic](https://en.wikipedia.org/wiki/Stochastic) mutations have taken us a long way from home. When it comes to modulating back to the original key of Gâ™¯ minor, Iâ€™m exploiting the fact that the [tonic][tonic] of the current key, and the tonic of the key that I wish to modulate to, are a [tritone](https://en.wikipedia.org/wiki/Tritone) apart. This means that the [V7 chords](https://en.wikipedia.org/wiki/Dominant_seventh_chord) of these two keys have [roots][root] that are separated by a tritone, as well; thus, tritone substitution makes a wonderful [pivot][pivot] here! However, the V7 of Gâ™¯ minor is not [diatonic](https://en.wikipedia.org/wiki/Diatonic_and_chromatic) to that key. The diatonic [seventh chord](https://en.wikipedia.org/wiki/Seventh_chord) on this root (Dâ™¯) is [v7](https://en.wikipedia.org/wiki/Minor_seventh), and its associated mode is Dâ™¯ Phrygian. To make it sound like weâ€™re moving to the key of Gâ™¯ minor as much as possible, I want to pick a tonal subregion that differs as little as possible from Gâ™¯ minor, while still containing the V7 (a\.k\.a. â™­II7, from the perspective of D major) in question. So, the fourth scale degree of this Dâ™¯ Phrygian mode is simply lowered! Because a [diminished fourth](https://en.wikipedia.org/wiki/Diminished_fourth) and a [major third](https://en.wikipedia.org/wiki/Major_third) are [enharmonically](https://en.wikipedia.org/wiki/Enharmonic) equivalent, this single alteration by a single [semitone](https://en.wikipedia.org/wiki/Semitone) is enough to get me what I want.

Speaking of modulating back to where we started, thereâ€™s more modulation that needs to be done besides harmonic modulation between keys. The beginning of the piece also has a different [tempo](https://en.wikipedia.org/wiki/Tempo), so a [metric modulation](https://en.wikipedia.org/wiki/Metric_modulation) is in order. In the seventh mutation (ğ’<sub>3â„2</sub>), as discussed above, I did a metric modulation from [â™©](https://en.wikipedia.org/wiki/Quarter_note)Â =Â 108 to â™©Â =Â 72. Now that weâ€™re doing this in the opposite direction, the [note durations](https://en.wikipedia.org/wiki/Note_value) will be getting multiplied by a factor of (3â„2)<sup>âˆ’1</sup>Â =Â 2â„3. So, for example, what is now an [eighth note](https://en.wikipedia.org/wiki/Eighth_note) pre-metric-modulation, will be a [triplet](https://en.wikipedia.org/wiki/Tuplet#Triplet) eighth note after the modulation (assuming that the tempo marking stays the same, viz. â™©Â =Â 72). So, to prepare for the metric modulation, the natural thing to do is to write triplets! This explains why all of the note durations in the penultimate [measure][bar] are triplets of some kind. Well, that, plus the fact that it sounds super cool.

During this penultimate measure, almost all of the instruments are playing [scale][scale] runs across the aforementioned Dâ™¯ Phrygian â™­4. The glockenspiel and violin descend, taking a [leap](https://en.wikipedia.org/wiki/Steps_and_skips) up by an [octave](https://en.wikipedia.org/wiki/Octave) halfway through. The violoncello also descends (but with no leaps), while the viola runs contrary to the rest by _ascending_ instead. The contrabass hammers on the Dâ™¯ at the bottom (thus neither descending nor ascending), reinforcing the Dâ™¯7â™­9â™¯9â™­13 feeling. I actually had the [Shepard scale](https://en.wikipedia.org/wiki/Shepard_tone) in mind when writing this; although the effect is obviously not the same, it inspired the idea of having simultaneous [homorhythmic](https://en.wikipedia.org/wiki/Homorhythm) scale runs happening in different ways across multiple [voices][part]. Also notice that the scale runs in this measure connect seamlessly with the melodies from the previous measure. The soft [drum roll](https://en.wikipedia.org/wiki/Drum_roll) in the drumkit part builds the tension, and makes the final note truly final with a [bass drum](https://en.wikipedia.org/wiki/Bass_drum) hit simultaneous with a [china cymbal](https://en.wikipedia.org/wiki/China_cymbal) (a kind of [crash](https://en.wikipedia.org/wiki/Crash_cymbal)) hit. Finishing a piece at the end of a [measure][bar] (rather than on the [downbeat][downbeat] of the next measure), by putting a final accent on the [upbeat][downbeat] (or effectively on the upbeat) is a favourite device of mine. Ending a piece in this way is almost always rhythmically unstable, as the upbeat is typically expected to â€œ[resolve][resolution] toâ€ (if you will) the downbeat. This can make the ending sound like itâ€™s hanging (unresolved), or even like the final measure has been truncated by one [beat][beat].

The empty measure of 2â„4 at the end of the piece with a [fermata](https://en.wikipedia.org/wiki/Fermata) on it might seem like a cop-out. In some ways, mayhaps it is. However, I donâ€™t think that itâ€™s much of a cop-out, considering that this empty measure is immediately preceded by a (in my opinion) convincing double modulation â€” both harmonic and metric â€” to the original key and tempo of the piece.

The piece ends with a â€œD\.C.â€ marking, meaning [_da capo_](https://en.wikipedia.org/wiki/Da_capo). I used a D\.C. mark here because I already used [repeat signs](https://en.wikipedia.org/wiki/Repeat_sign) within the piece, so simply putting a repeat sign here would not actually indicate starting over from the beginning of the piece. For some reason, [MuseScore](https://musescore.org/) 3 will, by default, not play repeats (as indicated by repeat signs) when playing the piece over again from the beginning as a result of a D\.C. marking. Thankfully, this can be configured within the D\.C. [object][object] itself, but I decided to edit the text of the object to read â€œD\.C. (play repeats)â€ instead of â€œD\.C.â€, just in case ignoring repeat signs while playing a D\.C. is something that people actually do. I assume that ignoring repeats by default is to prevent unintentional [infinite loops](https://en.wikipedia.org/wiki/Infinite_loop). The intent of the D\.C. marking is, of course, to indicate that the _entire_ tune is to be [looped][loop].

#### High-level form

Now that the piece is essentially completed from start to finish, we can step back and take a high-level look at the [musical form](https://en.wikipedia.org/wiki/Musical_form) that the piece takes on. Traditionally, musical form is divided up into a kind of hierarchy of different levels of organisation; each level is its own scope, and within a given scope, the unit of meaning is different in scale. The following list is ordered from finer to coarser:

1. **Subdivisions of the [beat][beat].** For example, in [4â„4 time](https://en.wikipedia.org/wiki/Time_signature) (or ğ‘˜â§¸4 time, [for any](https://en.wikipedia.org/wiki/Universal_quantification) [ğ‘˜](https://en.wikipedia.org/wiki/Natural_number)), you might ask how the [quarter note](https://en.wikipedia.org/wiki/Quarter_note) beats of each [measure][bar] are divided up into [cells][cell]. A cell may or may not overlap multiple beats, but itâ€™s never longer than a measure is.
2. **[Metric][metre] structure.** You might ask how many beats are in a measure (e\.g. in 4â§¸ğ‘˜ time, this would be 4). You also might ask which beats of each measure are [accented][accent], not accented, anti-accented, more (or less) significant in some way, etc.
3. **Phrasal/[hypermetric][hypermetre] structure.** The units of this level of organisation are phrases and/or hypermeasures. A phrase is to music as a [sentence][sentence] is to [linguistics](https://en.wikipedia.org/wiki/Linguistics). And a hypermeasure is basically what it sounds like: whereas a measure is divided up into one or more beats, a hypermeasure is divided up into one or more measures. A phrase is often (but not always) punctuated by a long note and/or a [rest][rest].
4. **Passages/sections.** A passage (or section) of a musical piece is the musical equivalent of a [paragraph](https://en.wikipedia.org/wiki/Paragraph), and encompasses one or more phrases/hypermeasures. A passage is _thematically unified_, but may contain two or more phrases/hypermeasures that relate to said theme; moving from one passage to the next is conceptually â€œmoving onâ€ to a new theme/subject. In [popular music](https://en.wikipedia.org/wiki/Popular_music), passages are often [â€œversesâ€, â€œchorusesâ€][verse-chorus], â€œ[bridges][bridge]â€, â€œ[intros][intro]â€, â€œ[outros][coda]â€, etc. In [jazz](https://en.wikipedia.org/wiki/Jazz), the [head][head] is a passage.
5. **Pieces/movements/songs.** The unit of this level of organisation is an entire [piece/composition of music](https://en.wikipedia.org/wiki/Musical_composition). It can also be a [movement][movement] within a broader work, because movements are defined by being self-contained pieces of music.
6. **Suites/cycles.** Sometimes, multiple complete pieces of music are collected together into a [suite][suite], or into a [song cycle](https://en.wikipedia.org/wiki/Song_cycle).

Iâ€™m concerned mostly with (4.), and to a lesser extent, (3.). Traditionally, the passage-wise â€œformâ€ of a musical composition (and sometimes, the form at other levels of organisation as well) is analysed by using notation based on [uppercase](https://en.wikipedia.org/wiki/Letter_case) [Latin letters](https://en.wikipedia.org/wiki/Latin_script). Passages are labelled A, B, C, etc., based on their order of appearance. The reappearance/repetition/reprisal of a passage is notated by using the same letter again, if it reappears identically (or near-identically) to its initial (or its canonical) appearance. Otherwise, variations on the same passage can be specified by using [prime symbols][prime-symbol], or [subscript](https://en.wikipedia.org/wiki/Subscript_and_superscript) numerals. For example, if the first (or canonical) appearance of a passage is A, then the next variation would be Aâ€² (or A<sub>1</sub>), the next variation after that would be Aâ€³ (or A<sub>2</sub>), and so on. With this, itâ€™s possible to succinctly (albeit somewhat vaguely) describe many commonly discussed sectional/passage-wise formats ([exponentiation](https://en.wikipedia.org/wiki/Exponentiation) denotes repetition, e\.g. A<sup>3</sup>Â =Â AAA):

- **[Strophic](https://en.wikipedia.org/wiki/Strophic_form):** A<sup>ğ‘˜+1</sup> (ğ‘˜Â [âˆˆ][element]Â [â„•](https://en.wikipedia.org/wiki/Natural_number)).
- **[Through-composed](https://en.wikipedia.org/wiki/Through-composed_music):** ABC or ABCD or ABCDE orâ€¦
- **[Binary](https://en.wikipedia.org/wiki/Binary_form):** AB or A<sup>2</sup>B<sup>2</sup> or AA<sub>1</sub>BB<sub>1</sub>.
- **[Ternary](https://en.wikipedia.org/wiki/Ternary_form):** ABA.
- **[Arch](https://en.wikipedia.org/wiki/Arch_form):** ABCBA or ABCDCBA or ABCDEDCBA orâ€¦
- **[Rondo](https://en.wikipedia.org/wiki/Rondo_form) (5-part):** ABACA.
- **Rondo (7-part):** ABACAB<sub>1</sub>A.
- **[Bar](https://en.wikipedia.org/wiki/Bar_form):** A<sup>2</sup>B.
- **[32-bar](https://en.wikipedia.org/wiki/Thirty-two-bar_form):** A<sup>2</sup>BA.
- **[Sonata](https://en.wikipedia.org/wiki/Sonata_form) (basic):** AB<sub>1</sub>CAB.
- **[Sonata rondo](https://en.wikipedia.org/wiki/Sonata_rondo_form) (basic):** AB<sub>1</sub>ACABA.

_cervineâ€™s Theme_ doesnâ€™t really fit into any of these categories. That being said, it nevertheless bears some relation to a classically-understood passage-wise musical form: [theme &amp; variations][variation]. Theme &amp; variations is basically what it sounds like: the piece has a central theme ([subject][subject]), and the piece largely consists of a prime statement of the subject, followed by several variations on the subject. So, we can use the notation from above to give a description of the most basic possible theme &amp; variations form:

AA<sub>1</sub>â‹¯A<sub>ğ‘˜âˆ’2</sub>A<sub>ğ‘˜âˆ’1</sub>.

Thatâ€™s a little closer to what _cervineâ€™s Theme_ looks like from a birdâ€™s eye view â€” but still, not quite. _cervineâ€™s Theme_ has a kind of introduction, and a kind of coda, so maybe it looks a bit more like:

BAA<sub>1</sub>â‹¯A<sub>ğ‘˜âˆ’2</sub>A<sub>ğ‘˜âˆ’1</sub>C.

Getting closer! The initial statement of the subject is actually played _twice_, and the final variation is too. And there are nine variations in total. So we can instead write:

BA<sup>2</sup>A<sub>1</sub>A<sub>2</sub>A<sub>3</sub>A<sub>4</sub>A<sub>5</sub>A<sub>6</sub>A<sub>7</sub>A<sub>8</sub>(A<sub>9</sub>)<sup>2</sup>C.

I think thatâ€™s about as accurate as we can reasonably get, using this form of notation. But I want something a little less one-dimensionalâ€¦

In the table below, â€œoccurrencesâ€ is 1 unless otherwise specified, and lowercase letters indicate a [minor key](https://en.wikipedia.org/wiki/Minor_scale) (uppercase for [major](https://en.wikipedia.org/wiki/Major_scale)):

<!-- markdownlint-disable no-inline-html -->

<table>
<thead>
<tr>
<th scope="col">section</th>
<th scope="col">subsection</th>
<th scope="col">measures</th>
<th scope="col">occurrences</th>
<th scope="col">key</th>
</tr>
</thead>

<tbody>
<tr>
<td rowspan="3">introduction</td>
<td>viola introduction</td>
<td style="text-align:right;">&#x2007;1â€“&#x2007;1</td>
<td style="text-align:right;"></td>
<td rowspan="4">gâ™¯</td>
</tr>
<tr>
<td>contrabass introduction</td>
<td style="text-align:right;">&#x2007;2â€“&#x2007;3</td>
<td style="text-align:right;"></td>
</tr>
<tr>
<td>drumkit introduction</td>
<td style="text-align:right;">&#x2007;4â€“&#x2007;4</td>
<td style="text-align:right;">2</td>
</tr>

<tr>
<td>initial statement</td>
<td>snowfall</td>
<td style="text-align:right;">&#x2007;5â€“&#x2007;6</td>
<td style="text-align:right;">2</td>
</tr>

<tr>
<td rowspan="9">variations</td>
<td>ğˆ<sub>p</sub></td>
<td style="text-align:right;">&#x2007;7â€“&#x2007;8</td>
<td style="text-align:right;"></td>
<td>Dâ™­</td>
</tr>
<tr>
<td>ğ“<sup>4</sup></td>
<td style="text-align:right;">&#x2007;9â€“10</td>
<td style="text-align:right;"></td>
<td rowspan="3">F</td>
</tr>
<tr>
<td>ğ‚<sub>t</sub><sup>8</sup></td>
<td style="text-align:right;">11â€“12</td>
<td style="text-align:right;"></td>
</tr>
<tr>
<td>ğ‘<sub>p</sub></td>
<td style="text-align:right;">13â€“14</td>
<td style="text-align:right;"></td>
</tr>
<tr>
<td>ğŒ<sub>5</sub></td>
<td style="text-align:right;">15â€“16</td>
<td style="text-align:right;"></td>
<td rowspan="4">Fâ™¯</td>
</tr>
<tr>
<td>ğ‚<sub>t</sub><sup>16</sup></td>
<td style="text-align:right;">17â€“18</td>
<td style="text-align:right;"></td>
</tr>
<tr>
<td>ğ’<sub>3â„2</sub></td>
<td style="text-align:right;">19â€“20</td>
<td style="text-align:right;"></td>
</tr>
<tr>
<td>ğ‘<sub>t</sub></td>
<td style="text-align:right;">21â€“22</td>
<td style="text-align:right;"></td>
</tr>
<tr>
<td>ğŒ<sub>7</sub></td>
<td style="text-align:right;">23â€“26</td>
<td style="text-align:right;">2</td>
<td rowspan="2">D</td>
</tr>

<tr>
<td rowspan="2">coda</td>
<td>lightning</td>
<td style="text-align:right;">27â€“28</td>
<td style="text-align:right;"></td>
</tr>
<tr>
<td>thunder</td>
<td style="text-align:right;">29â€“30</td>
<td style="text-align:right;"></td>
<td>gâ™¯</td>
</tr>
</tbody>
</table>

<!-- markdownlint-enable no-inline-html -->

Excellent! Thatâ€™s what I like to see.

#### Helper scripts/programs

Throughout the course of writing this [monograph](https://en.wikipedia.org/wiki/Monograph), and simultaneously writing _cervineâ€™s Theme_, I made use of a few [scripts](https://en.wikipedia.org/wiki/Scripting_language)/[programs](https://en.wikipedia.org/wiki/Computer_program) to help do a little bit of the mechanical work.

As mentioned before, I wrote [bracelets\.py](bracelets.py), a [Python](https://www.python.org/) script, to count the number of [bracelets][necklace] of a given length with a given [alphabet][alphabet] [size](https://en.wikipedia.org/wiki/Cardinality). `bracelet_count(n, k)` returns the number of `k`-ary bracelets of length `n`. Also, `necklace_count(n, k)` returns the number of `k`-ary necklaces (bracelets that cannot be turned over, i\.e. cannot be [inverted][inversion]) of length `n`. This was relevant to the section about how the mutation functions in the ğ‚ and ğ‘ families combine to form a [dihedral group](https://en.wikipedia.org/wiki/Dihedral_group), and how bracelets are also relevant to the [pitch-class sets](https://en.wikipedia.org/wiki/Forte_number) that are mentioned throughout this monograph.

I used [misc\.py](misc.py) to assist in applying certain mutation functions to the subject of _cervineâ€™s Theme_:

- `M(k, ps)` [multiplies][mul] all of the [pitch-classes](https://en.wikipedia.org/wiki/Pitch_class) ([represented as integers](https://en.wikipedia.org/wiki/Pitch_class#Integer_notation)) in the finite [iterable](https://wiki.python.org/moin/Iterator) `ps` by `k`, and returns them as a [list](https://docs.python.org/3/library/stdtypes.html#lists).
- `C(k, xs)` returns a version of the finite [sequence](https://docs.python.org/3/glossary.html#term-sequence) `xs` that has been [circularly shifted](https://en.wikipedia.org/wiki/Circular_shift) to the right by `k` places, as a list.
- `ints_to_pitches(offset, flat, ints)` returns a list of [strings][string] representing the pitch-classes given by the finite iterable of integers `ints`, in order. The pitch-class [origin][origin] is taken to be `offset` (which may be a string or an integer). Setting `flat` to `True` will yield names that prefer [flat signs][accidental] instead of sharp signs (e\.g. `"Dâ™­"` instead of `"Câ™¯"`), and vice versa.
- `pitches_to_ints(offset, ps)` returns a list of integers representing the pitch-classes given by the finite iterable of strings `ps`, in order. The pitch-class origin is taken to be `offset` (which may be a string or an integer).
- `icv(ps)` returns the [interval-class vector](https://en.wikipedia.org/wiki/Interval_vector), in [12-TET](https://en.wikipedia.org/wiki/12_equal_temperament), of a finite iterable of integers `ps`.

`M(k, ps)` helped to apply the ğŒ<sub>5</sub> and ğŒ<sub>7</sub> mutation functions, and `C(k, xs)` helped to apply the ğ‚<sub>t</sub><sup>ğ‘˜</sup> and ğ‚<sub>p</sub><sup>ğ‘˜</sup> (although ğ‚<sub>p</sub><sup>ğ‘˜</sup> wasnâ€™t actually used) mutation functions, both of which proved to be a bit difficult to accurately do manually. I used `icv(ps)` for calculating interval-class vectors when necessary â€” and to check my work, and the work of random [Wikipedia](https://www.wikipedia.org/) editors. And the functions for converting between string and integer representations of pitch-classes made things easier to work with.

I used [normal\_form\.py](normal_form.py) to help look up [Forte numbers](https://en.wikipedia.org/wiki/Forte_number), and to check my work and the work of random Wikipedia editors. This script provides a function `normal_form(pc_set, invertible=True)`, which returns the normal form of the pitch-class set `pc_set`. `pc_set` can be an integer whose [least significant](https://en.wikipedia.org/wiki/Bit_numbering) 12 bits represent the set â€” setting the least significant bit signifies the presence of pitch-class 0, the second-least significant bit signifies the presence of pitch-class 1, and so on. Or, it can be any finite iterable of integers. In the former case, the return value is an integer as well; in the latter case, a list of integers. Setting `invertible` to `False` (itâ€™s `True` by default) will only search for normal forms that can be arrived at by [transposition][transpose] alone. I actually did find an error in [this Wikipedia article](https://en.wikipedia.org/wiki/List_of_pitch-class_sets): at the time of writing, it has an error for Forte number 5-32B. The article lists its normal form as {0,Â 3,Â 5,Â 8,Â 9}, but this can simply be transposed to {0,Â 2,Â 5,Â 6,Â 9}. The listing for 5-32A, however, is correct.

All of the above Python scripts were formatted using [Black](https://black.readthedocs.io/en/stable/).

[xml2abc](https://wim.vree.org/svgParse/xml2abc.html) was of immense help in translating music that had been written in [MuseScore](https://musescore.org/) into [ABC notation](https://en.wikipedia.org/wiki/ABC_notation). I did the first six or seven translations by hand, which was a little painful. xml2abc allowed me to export a MuseScore project as [MusicXML](https://en.wikipedia.org/wiki/MusicXML) (which is a fantastic [open format](https://en.wikipedia.org/wiki/Open_format) that is [well-specified](https://w3c.github.io/musicxml/), albeit a bit verboseâ€¦), and then have it automatically converted to ABC notation. I still had to do the work of formatting it, and fixing some questionable translations. For some reason, xml2abc will put `!courtesy!` immediately before a note, and then _still_ specify an accidental (e\.g. `=`). [The ABC standard v2\.2](https://abcnotation.com/wiki/abc:standard:v2.2) says (emphasis mine):

> The decoration `!courtesy!` written before a note **without an accidental** adds a courtesy accidental (sharp, flat, or natural) in parentheses to the left of the notehead.

xml2abc will also emit the deprecated `transpose=<semitones>` modifier within `V:` fields. Both of these things are probably due to xml2abc using [v2\.1 of the ABC standard](https://abcnotation.com/wiki/abc:standard:v2.1). xml2abc also uses [a bunch of nonstandard extensions](https://wim.vree.org/svgParse/abc2xml.html#ext) like `I:percmap`. Plus, it always emits [major](https://en.wikipedia.org/wiki/Major_scale) [key signatures](https://en.wikipedia.org/wiki/Key_signature), so `K:B` would need to be changed to `K:G#m`. That being said, I do recommend the use of xml2abc, and it is [free software](https://www.gnu.org/licenses/lgpl-3.0.html)!

As mentioned before, I used [MuseScore](https://musescore.org/) for writing the music, rendering musical notation to [SVG](https://en.wikipedia.org/wiki/Scalable_Vector_Graphics), and [recording](https://en.wikipedia.org/wiki/Sound_recording_and_reproduction).

I used [Inkscape](https://inkscape.org/) for editing the SVGs emitted by MuseScore, to remove unnecessary elements, add annotations, etc.

I used [Graphviz](https://graphviz.org/) to generate the SVGs found in the â€œInspecting our group a little more closelyâ€ section above. You can find the [DOT][dot] data in [cayley\_graph\.gv](cayley_graph.gv) and [cayley\_graph1\.gv](cayley_graph1.gv).

As mentioned above, [src/main\.rs](src/main.rs) (written in [Rust](https://www.rust-lang.org/)) was used to stochastically determine the mutation functions used for _cervineâ€™s Theme_.

I actually used [pandoc](https://pandoc.org/) to render the [Markdown](https://en.wikipedia.org/wiki/Markdown) that Iâ€™m writing, to [HTML](https://en.wikipedia.org/wiki/HTML), so that I could view it in [my browser](https://en.wikipedia.org/wiki/Firefox). Normally I donâ€™t do this, as [my text editor](https://github.com/VSCodium/vscodium) has built-in support for rendering Markdown, but for something like this, I wanted a second opinion. I did this in a kind of hacky way, running the following [command](https://en.wikipedia.org/wiki/Command-line_interface) every time that I wanted to render:

```bash
pandoc -f markdown -t html -o index.html ./README.md && echo "<style>body { max-width: 64rem; } img, embed { max-width: 54rem; } html { background: #111315; color: #e0e8f0; } a { color: #8af; text-decoration: none; } a:hover { color: #6df; } table { border-collapse: collapse; margin: 1rem 0 1rem 0; } td, th { border: medium solid #606870; padding: 0.5rem; }</style>" >> index.html
```

LOL. Sue me.

### The finished piece

You can find a recording of _cervineâ€™s Theme_ â€” which you can download, _gratis_, in e\.g. [FLAC](https://en.wikipedia.org/wiki/FLAC) â€” [here, on my bandcamp page](https://capreolina.bandcamp.com/album/cervine-s-theme). The theme is used in **cervine**â€™s level 120 party video, which you can find on the **Oddjobs** YouTube channel: [â€œcervine is an archmagelet.â€](https://www.youtube.com/watch?v=2dLmk0ERy0g). You can obtain the score (as a [MuseScore](https://musescore.org/) 3 file) [here (`cervine-s_Theme.mscz`)](https://codeberg.org/deer/gists/src/branch/master/cervine-s_Theme.mscz).

In full, a single playthrough of _cervineâ€™s Theme_ has a runtime of roughly â‰ˆ86 [seconds](https://en.wikipedia.org/wiki/Second).

### Final thoughts

Although writing this monograph took me nearly a month(!), Iâ€™m excited to have written down almost all of my thoughts in the process of composing &amp; analysing a piece. Iâ€™ve never really done anything like this before, and Iâ€™m happy to have given it a shot! Iâ€™m also happy with how _cervineâ€™s Theme_ came out!! Itâ€™s a very important theme for a character who is deeply important to me.

I think that the only idea that I never got to incorporate into _cervineâ€™s Theme_ was the use of [timpani](https://en.wikipedia.org/wiki/Timpani), specifically to evoke the sound of [thunder](https://en.wikipedia.org/wiki/Thunder). Itâ€™s a bit unfortunate maybe, but also not surprising to me â€” I have virtually zero experience writing for timpani, so I wouldnâ€™t know how to incorporate it into a piece, anyways.

If you actually read this far, I love you. Seriously. Did you really just read alllll of that nonsense about some random bitch writing a musical theme for her poopy MapleStory characterâ€½â€½â€½ \<333

## Appendix

### Drum tablature legend

#### Cymbal/drum legend

| symbol | meaning                                                          |
| :----- | :--------------------------------------------------------------- |
| `C`    | [Crash](https://en.wikipedia.org/wiki/Crash_cymbal)              |
| `H`    | [Hi-hat](https://en.wikipedia.org/wiki/Hi-hat)                   |
| `R`    | [Ride](https://en.wikipedia.org/wiki/Ride_cymbal)                |
| `S`    | [Snare](https://en.wikipedia.org/wiki/Snare_drum)                |
| `B`    | [Bass drum (kick drum)](https://en.wikipedia.org/wiki/Bass_drum) |
| `Hf`   | Hi-hat foot pedal                                                |

#### Cymbal technique legend

| symbol | meaning                                                      |
| :----- | :----------------------------------------------------------- |
| `x`    | Ordinary hit; press hi-hat pedal                             |
| `o`    | Open hi-hat hit                                              |
| `b`    | Hit the bell of the cymbal                                   |
| `s`    | [Splash cymbal](https://en.wikipedia.org/wiki/Splash_cymbal) |
| `c`    | [China cymbal](https://en.wikipedia.org/wiki/China_cymbal)   |

#### Drum technique legend

| symbol | meaning                                                                                              |
| :----- | :--------------------------------------------------------------------------------------------------- |
| `o`    | Ordinary hit                                                                                         |
| `g`    | [Ghost note](https://en.wikipedia.org/wiki/Ghost_note)                                               |
| `d`    | [Drag](https://en.wikipedia.org/wiki/Drum_rudiment#Drag_rudiments)                                   |
| `f`    | [Flam](https://en.wikipedia.org/wiki/Drum_rudiment#Flam)                                             |
| `R`    | Accented [double stroke](https://en.wikipedia.org/wiki/Drum_roll) (two notes, each at half duration) |
| `r`    | Soft/ghost double stroke (two notes, each at half duration)                                          |

### Roman numeral analysis legend

| example             | chord quality                                                                                                                                           | [Forte \#](https://en.wikipedia.org/wiki/Forte_number) |
| :------------------ | :------------------------------------------------------------------------------------------------------------------------------------------------------ | :----------------------------------------------------- |
| IV                  | [Major triad](https://en.wikipedia.org/wiki/Major_chord)                                                                                                | 3-11B                                                  |
| iv                  | [Minor triad](https://en.wikipedia.org/wiki/Minor_chord)                                                                                                | 3-11A                                                  |
| IV+                 | [Augmented triad](https://en.wikipedia.org/wiki/Augmented_triad)                                                                                        | 3-12                                                   |
| ivÂ°                 | [Diminished triad](https://en.wikipedia.org/wiki/Diminished_triad)                                                                                      | 3-10                                                   |
| IV7,Â IV9,Â â€¦         | [Dominant seventh chord](https://en.wikipedia.org/wiki/Dominant_seventh_chord), dominant [ninth chord](https://en.wikipedia.org/wiki/Ninth_chord), â€¦    | 4-27B,Â 5-34,Â â€¦                                         |
| iv7,Â iv9,Â â€¦         | [Minor seventh chord](https://en.wikipedia.org/wiki/Minor_seventh_chord), minor ninth chord, â€¦                                                          | 4-26,Â 5-27B,Â â€¦                                         |
| IVâˆ†7,Â IVâˆ†9,Â â€¦       | [Major seventh chord](https://en.wikipedia.org/wiki/Major_seventh_chord), major ninth chord, â€¦                                                          | 4-20,Â 5-27A,Â â€¦                                         |
| ivâˆ†7,Â ivâˆ†9,Â â€¦       | [Minor-major seventh chord](https://en.wikipedia.org/wiki/Minor_major_seventh_chord), minor-major ninth chord, â€¦                                        | 4-19A,Â 5-z17,Â â€¦                                        |
| IV+7,Â IV+9,Â â€¦       | [Augmented seventh chord](https://en.wikipedia.org/wiki/Augmented_seventh_chord), augmented ninth chord, â€¦                                              | 4-24,Â 5-33,Â â€¦                                          |
| IV+âˆ†7,Â IV+âˆ†9,Â â€¦     | [Augmented major seventh chord](https://en.wikipedia.org/wiki/Augmented_major_seventh_chord), augmented major ninth chord, â€¦                            | 4-19B,Â 5-26B,Â â€¦                                        |
| ivğ†©7,Â ivğ†©9,Â â€¦       | [Half-diminished seventh chord](https://en.wikipedia.org/wiki/Half-diminished_seventh_chord), half-diminished ninth chord, â€¦                            | 4-27A,Â 5-25A,Â â€¦                                        |
| ivÂ°7,Â ivÂ°9,Â â€¦       | [Diminished seventh chord](https://en.wikipedia.org/wiki/Diminished_seventh_chord), diminished ninth chord, â€¦                                           | 4-28,Â 5-31A/B,Â â€¦                                       |
| IV7â™­5,Â IV9â™­5,Â â€¦     | [Dominant seventh flat five chord](https://en.wikipedia.org/wiki/Dominant_seventh_flat_five_chord), dominant ninth flat five chord, â€¦                   | 4-25,Â 5-33,Â â€¦                                          |
| IVğ—Œğ—ğ—Œ4,Â ivğ—Œğ—ğ—Œ4      | [Suspended](https://en.wikipedia.org/wiki/Suspended_chord) fourth chord, ibid.                                                                          | 3-9,Â 3-9                                               |
| IVğ—Œğ—ğ—Œ2,Â ivğ—Œğ—ğ—Œ2      | Suspended second chord, ibid.                                                                                                                           | 3-9,Â 3-9                                               |
| IV5,Â iv5            | [Power chord](https://en.wikipedia.org/wiki/Power_chord) (perfect fifth [dyad][dyad]), ibid.                                                            | 2-5,Â 2-5                                               |
| V7â§¸ii               | [Secondary](https://en.wikipedia.org/wiki/Secondary_chord) dominant seventh chord, morally equivalent to VI7                                            | 4-27B                                                  |
| Vğ–ºğ—…ğ—7               | [Altered](https://en.wikipedia.org/wiki/Altered_chord) dominant seventh chord ([see also](https://en.wikipedia.org/wiki/Altered_scale))                 | 7-34                                                   |
| IV6,Â iv6            | [Added sixth chord](https://en.wikipedia.org/wiki/Sixth_chord), added minor-major sixth chord; **distinct from** first inversion (see below)            | 4-26,Â 4-27A                                            |
| It+6,Â It+6â§¸â™­II      | Italian [augmented sixth chord](https://en.wikipedia.org/wiki/Augmented_sixth_chord) (to resolve to V), Italian augmented sixth chord to resolve to â™­II | 3-8A,Â 3-8A                                             |
| Fr+6,Â Fr+6â§¸â™­II      | French augmented sixth chord (to resolve to V), French augmented sixth chord to resolve to â™­II                                                          | 4-25,Â 4-25                                             |
| Ger+6,Â Ger+6â§¸â™­II    | German augmented sixth chord (to resolve to V), German augmented sixth chord to resolve to â™­II                                                          | 4-27B,Â 4-27B                                           |
| iv\[âˆ†\]             | Triad with [split third](https://en.wikipedia.org/wiki/Added_tone_chord#Mixed_third_chords)                                                             | 4-17                                                   |
| IV\[âˆ’\]7,Â IV\[âˆ’\]âˆ†7 | Dominant/minor seventh chord with split third, major/minor-major seventh chord with split third                                                         | 5-32B\*,Â 5-21A                                         |
| IV\[âˆ†\]7,Â iv\[âˆ†\]7  | Dominant/major seventh chord with split seventh, minor/minor-major seventh chord with split seventh                                                     | 5-z38B,Â 5-z37                                          |
| IVÃ—VII              | [Polychord](https://en.wikipedia.org/wiki/Polychord) of two major triads                                                                                | 6-30B                                                  |

[Inversions][inversion] are notated using a combination of [superscripts &amp; subscripts](https://en.wikipedia.org/wiki/Subscript_and_superscript), in [figured bass](https://en.wikipedia.org/wiki/Figured_bass) style:

| example                                                 | inversion                                                                                                    | integer notationâ€                 |
| :------------------------------------------------------ | :----------------------------------------------------------------------------------------------------------- | :------------------------------- |
| IV,Â IV7                                                 | [Root position](https://en.wikipedia.org/wiki/Root_position), ibid.                                          | âŸ¨**0**,Â 4,Â 7âŸ©,Â âŸ¨**0**,Â 4,Â 7,Â 10âŸ© |
| IV<sup>6</sup>,Â IV7<sup>6</sup><sub>5</sub>             | [First inversion](https://en.wikipedia.org/wiki/First_inversion) (triad), first inversion (seventh chord)    | âŸ¨0,Â 3,Â **8**âŸ©,Â âŸ¨0,Â 3,Â 6,Â **8**âŸ©  |
| IV<sup>6</sup><sub>4</sub>,Â IV7<sup>4</sup><sub>3</sub> | [Second inversion](https://en.wikipedia.org/wiki/Second_inversion) (triad), second inversion (seventh chord) | âŸ¨0,Â **5**,Â 9âŸ©,Â âŸ¨0,Â 3,Â **5**,Â 9âŸ©  |
| IV7<sup>4</sup><sub>2</sub>                             | [Third inversion](https://en.wikipedia.org/wiki/Third_inversion)                                             | âŸ¨0,Â **2**,Â 6,Â 9âŸ©                 |

Note that Iâ€™m simply using [`<sup>`](https://developer.mozilla.org/docs/Web/HTML/Element/sup) and [`<sub>`](https://developer.mozilla.org/docs/Web/HTML/Element/sub) tags here, so it wonâ€™t actually display quite right. Each subscript number should be directly beneath its superscript number, not beneath and to the right.

<details>
<summary>Footnotes for â€œRoman numeral analysis legendâ€</summary>

\*In filling out this table, I found that [this Wikipedia article](https://en.wikipedia.org/wiki/List_of_pitch-class_sets) has (at the time of writing) an error for Forte number 5-32B. The article lists it as {0,Â 3,Â 5,Â 8,Â 9}, but this can simply be transposed to {0,Â 2,Â 5,Â 6,Â 9}. The listing for 5-32A, however, is correct.

â€ â€œ0â€ is the [bass note](https://en.wikipedia.org/wiki/Bass_note), not the [root][root]. The root is **bolded**.

</details>

[outcome]: https://en.wikipedia.org/wiki/Outcome_(probability)
[experiment]: https://en.wikipedia.org/wiki/Experiment_(probability_theory)
[indeterminacy]: https://en.wikipedia.org/wiki/Indeterminacy_(music)
[graphic-notation]: https://en.wikipedia.org/wiki/Graphic_notation_(music)
[subject]: https://en.wikipedia.org/wiki/Subject_(music)
[key]: https://en.wikipedia.org/wiki/Key_(music)
[bar]: https://en.wikipedia.org/wiki/Bar_(music)
[pitch]: https://en.wikipedia.org/wiki/Pitch_(music)
[sharp]: https://en.wikipedia.org/wiki/Sharp_(music)
[set]: https://en.wikipedia.org/wiki/Set_(mathematics)
[tonic]: https://en.wikipedia.org/wiki/Tonic_(music)
[root]: https://en.wikipedia.org/wiki/Root_(chord)
[chord]: https://en.wikipedia.org/wiki/Chord_(music)
[inversion]: https://en.wikipedia.org/wiki/Inversion_(music)
[retrograde]: https://en.wikipedia.org/wiki/Retrograde_(music)
[rest]: https://en.wikipedia.org/wiki/Rest_(music)
[element]: https://en.wikipedia.org/wiki/Element_(mathematics)
[complement]: https://en.wikipedia.org/wiki/Complement_(set_theory)
[function]: https://en.wikipedia.org/wiki/Function_(mathematics)
[functional-harmony]: https://en.wikipedia.org/wiki/Function_(music)
[map]: https://en.wikipedia.org/wiki/Map_(mathematics)
[scalar]: https://en.wikipedia.org/wiki/Scalar_(mathematics)
[field]: https://en.wikipedia.org/wiki/Field_(mathematics)
[vector]: https://en.wikipedia.org/wiki/Vector_(mathematics_and_physics)
[group]: https://en.wikipedia.org/wiki/Group_(mathematics)
[matrix]: https://en.wikipedia.org/wiki/Matrix_(mathematics)
[mul]: https://en.wikipedia.org/wiki/Multiplication_(music)
[module]: https://en.wikipedia.org/wiki/Module_(mathematics)
[ring]: https://en.wikipedia.org/wiki/Ring_(mathematics)
[set-theory]: https://en.wikipedia.org/wiki/Set_theory_(music)
[involution]: https://en.wikipedia.org/wiki/Involution_(mathematics)
[parity]: https://en.wikipedia.org/wiki/Parity_(mathematics)
[transpose]: https://en.wikipedia.org/wiki/Transposition_(music)
[translation]: https://en.wikipedia.org/wiki/Translation_(geometry)
[origin]: https://en.wikipedia.org/wiki/Origin_(mathematics)
[atm]: https://en.wikipedia.org/wiki/Standard_atmosphere_(unit)
[displacement]: https://en.wikipedia.org/wiki/Displacement_(geometry)
[necklace]: https://en.wikipedia.org/wiki/Necklace_(combinatorics)
[product]: https://en.wikipedia.org/wiki/Product_(mathematics)
[symmetry]: https://en.wikipedia.org/wiki/Symmetry_(geometry)
[necklace]: https://en.wikipedia.org/wiki/Necklace_(combinatorics)
[interval]: https://en.wikipedia.org/wiki/Interval_(mathematics)
[pc-set]: https://en.wikipedia.org/wiki/Set_(music)
[string]: https://en.wikipedia.org/wiki/String_(computer_science)
[character]: https://en.wikipedia.org/wiki/Character_(computing)
[closure]: https://en.wikipedia.org/wiki/Closure_(mathematics)
[sign]: https://en.wikipedia.org/wiki/Sign_(mathematics)
[structure]: https://en.wikipedia.org/wiki/Structure_(mathematical_logic)
[reflection]: https://en.wikipedia.org/wiki/Reflection_(mathematics)
[part]: https://en.wikipedia.org/wiki/Part_(music)
[measure]: https://en.wikipedia.org/wiki/Measure_(mathematics)
[union]: https://en.wikipedia.org/wiki/Union_(set_theory)
[event]: https://en.wikipedia.org/wiki/Event_(probability_theory)
[mode]: https://en.wikipedia.org/wiki/Mode_(music)
[triad]: https://en.wikipedia.org/wiki/Triad_(music)
[beat]: https://en.wikipedia.org/wiki/Beat_(music)
[ambitus]: https://en.wikipedia.org/wiki/Ambitus_(music)
[register]: https://en.wikipedia.org/wiki/Register_(music)
[range]: https://en.wikipedia.org/wiki/Range_(music)
[stave]: https://en.wikipedia.org/wiki/Staff_(music)
[sho-87]: https://en.wikipedia.org/wiki/24_Preludes_and_Fugues_(Shostakovich)
[bowie-starman]: https://en.wikipedia.org/wiki/Starman_(song)
[interval-mus]: https://en.wikipedia.org/wiki/Interval_(music)
[on-beat]: https://en.wikipedia.org/wiki/Beat_(music)#On-beat_and_off-beat
[degree]: https://en.wikipedia.org/wiki/Degree_(music)
[accidental]: https://en.wikipedia.org/wiki/Accidental_(music)
[russell]: https://en.wikipedia.org/wiki/George_Russell_(composer)
[graph]: https://en.wikipedia.org/wiki/Graph_(discrete_mathematics)
[vertex]: https://en.wikipedia.org/wiki/Vertex_(graph_theory)
[dot]: https://en.wikipedia.org/wiki/DOT_(graph_description_language)
[bow]: https://en.wikipedia.org/wiki/Bow_(music)
[metre]: https://en.wikipedia.org/wiki/Metre_(music)
[tresillo]: https://en.wikipedia.org/wiki/Tresillo_(rhythm)
[dominant]: https://en.wikipedia.org/wiki/Dominant_(music)
[resolution]: https://en.wikipedia.org/wiki/Resolution_(music)
[texture]: https://en.wikipedia.org/wiki/Texture_(music)
[fixed-point]: https://en.wikipedia.org/wiki/Fixed_point_(mathematics)
[scale]: https://en.wikipedia.org/wiki/Scale_(music)
[chord-naming]: https://en.wikipedia.org/wiki/Chord_names_and_symbols_(popular_music)
[factor]: https://en.wikipedia.org/wiki/Factor_(chord)
[dyad]: https://en.wikipedia.org/wiki/Dyad_(music)
[transient]: https://en.wikipedia.org/wiki/Transient_(acoustics)
[envelope]: https://en.wikipedia.org/wiki/Envelope_(music)
[dynamics]: https://en.wikipedia.org/wiki/Dynamics_(music)
[rute]: https://en.wikipedia.org/wiki/Rute_(music)
[mixing]: https://en.wikipedia.org/wiki/Audio_mixing_(recorded_music)
[lulu]: https://en.wikipedia.org/wiki/Lulu_(opera)
[modulation]: https://en.wikipedia.org/wiki/Modulation_(music)
[python]: https://en.wikipedia.org/wiki/Python_(programming_language)
[pivot]: https://en.wikipedia.org/wiki/Common_chord_(music)
[common-tone]: https://en.wikipedia.org/wiki/Common_tone_(scale)
[downbeat]: https://en.wikipedia.org/wiki/Beat_(music)#Downbeat_and_upbeat
[a440]: https://en.wikipedia.org/wiki/A440_(pitch_standard)
[voicing]: https://en.wikipedia.org/wiki/Voicing_(music)
[reduction]: https://en.wikipedia.org/wiki/Reduction_(music)
[coda]: https://en.wikipedia.org/wiki/Coda_(music)
[loop]: https://en.wikipedia.org/wiki/Loop_(music)
[object]: https://en.wikipedia.org/wiki/Object_(computer_science)
[cell]: https://en.wikipedia.org/wiki/Cell_(music)
[accent]: https://en.wikipedia.org/wiki/Accent_(music)
[hypermetre]: https://en.wikipedia.org/wiki/Metre_(music)#Hypermetre
[sentence]: https://en.wikipedia.org/wiki/Sentence_(linguistics)
[verse-chorus]: https://en.wikipedia.org/wiki/Verse%E2%80%93chorus_form
[head]: https://en.wikipedia.org/wiki/Head_(music)
[bridge]: https://en.wikipedia.org/wiki/Bridge_(music)
[intro]: https://en.wikipedia.org/wiki/Introduction_(music)
[movement]: https://en.wikipedia.org/wiki/Movement_(music)
[suite]: https://en.wikipedia.org/wiki/Suite_(music)
[prime-symbol]: https://en.wikipedia.org/wiki/Prime_%28symbol%29
[variation]: https://en.wikipedia.org/wiki/Variation_(music)#Variation_form
[alphabet]: https://en.wikipedia.org/wiki/Alphabet_(formal_languages)
